,url,repository_url,labels_url,comments_url,events_url,html_url,id,node_id,number,title,labels,state,locked,assignee,assignees,milestone,comments,created_at,updated_at,closed_at,author_association,body,repo_name,owner,user.login,user.id,user.node_id,user.avatar_url,user.gravatar_id,user.url,user.html_url,user.followers_url,user.following_url,user.gists_url,user.starred_url,user.subscriptions_url,user.organizations_url,user.repos_url,user.events_url,user.received_events_url,user.type,user.site_admin,pull_request.url,pull_request.html_url,pull_request.diff_url,pull_request.patch_url,assignee.login,assignee.id,assignee.node_id,assignee.avatar_url,assignee.gravatar_id,assignee.url,assignee.html_url,assignee.followers_url,assignee.following_url,assignee.gists_url,assignee.starred_url,assignee.subscriptions_url,assignee.organizations_url,assignee.repos_url,assignee.events_url,assignee.received_events_url,assignee.type,assignee.site_admin
0,https://api.github.com/repos/apache/incubator-superset/issues/8888,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8888/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8888/comments,https://api.github.com/repos/apache/incubator-superset/issues/8888/events,https://github.com/apache/incubator-superset/issues/8888,541788688,MDU6SXNzdWU1NDE3ODg2ODg=,8888,Different timezone showing in SQL Lab,[],open,False,,[],,1,2019-12-23T14:57:54Z,2019-12-23T14:57:56Z,,NONE,"I have linked postgres instance with Superset. When I check timezone setting in postgres running sql command ""Select current_setting('timezone')"", it shows IST (which is correct for my database) but when I run same query through SQL lab on same DB instance, it gives UTC as timezone. 
Why SQL Lab shows different timezone on same DB instance?

",incubator-superset,apache,hemantaggarwal,31547162,MDQ6VXNlcjMxNTQ3MTYy,https://avatars0.githubusercontent.com/u/31547162?v=4,,https://api.github.com/users/hemantaggarwal,https://github.com/hemantaggarwal,https://api.github.com/users/hemantaggarwal/followers,https://api.github.com/users/hemantaggarwal/following{/other_user},https://api.github.com/users/hemantaggarwal/gists{/gist_id},https://api.github.com/users/hemantaggarwal/starred{/owner}{/repo},https://api.github.com/users/hemantaggarwal/subscriptions,https://api.github.com/users/hemantaggarwal/orgs,https://api.github.com/users/hemantaggarwal/repos,https://api.github.com/users/hemantaggarwal/events{/privacy},https://api.github.com/users/hemantaggarwal/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
1,https://api.github.com/repos/apache/incubator-superset/issues/8887,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8887/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8887/comments,https://api.github.com/repos/apache/incubator-superset/issues/8887/events,https://github.com/apache/incubator-superset/pull/8887,541773024,MDExOlB1bGxSZXF1ZXN0MzU2MzQ0MjQw,8887,Add config for celery email task soft time,"[{'id': 1330950144, 'node_id': 'MDU6TGFiZWwxMzMwOTUwMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/S', 'name': 'size/S', 'color': 'C8B6FF', 'default': False, 'description': ''}]",open,False,,[],,1,2019-12-23T14:15:15Z,2019-12-23T14:31:29Z,,CONTRIBUTOR,"### CATEGORY
Add config for celery email task soft limit timeout
Choose one

- [X] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [X] Has associated issue: #8884
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,blcksrx,35199552,MDQ6VXNlcjM1MTk5NTUy,https://avatars0.githubusercontent.com/u/35199552?v=4,,https://api.github.com/users/blcksrx,https://github.com/blcksrx,https://api.github.com/users/blcksrx/followers,https://api.github.com/users/blcksrx/following{/other_user},https://api.github.com/users/blcksrx/gists{/gist_id},https://api.github.com/users/blcksrx/starred{/owner}{/repo},https://api.github.com/users/blcksrx/subscriptions,https://api.github.com/users/blcksrx/orgs,https://api.github.com/users/blcksrx/repos,https://api.github.com/users/blcksrx/events{/privacy},https://api.github.com/users/blcksrx/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8887,https://github.com/apache/incubator-superset/pull/8887,https://github.com/apache/incubator-superset/pull/8887.diff,https://github.com/apache/incubator-superset/pull/8887.patch,,,,,,,,,,,,,,,,,,
2,https://api.github.com/repos/apache/incubator-superset/issues/8885,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8885/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8885/comments,https://api.github.com/repos/apache/incubator-superset/issues/8885/events,https://github.com/apache/incubator-superset/issues/8885,541605324,MDU6SXNzdWU1NDE2MDUzMjQ=,8885,[BUG] Can not use comparison operator [Explore][Adhoc Filters],"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-12-23T06:48:32Z,2019-12-23T06:49:31Z,,NONE,"<img width=""561"" alt=""Screen Shot 2019-12-23 at 14 42 18"" src=""https://user-images.githubusercontent.com/10289162/71340832-fc813300-2592-11ea-95c0-443d75aeb5d8.png"">

It seems to be associated with this https://github.com/apache/incubator-superset/pull/5160 ",incubator-superset,apache,hushaoqing,10289162,MDQ6VXNlcjEwMjg5MTYy,https://avatars0.githubusercontent.com/u/10289162?v=4,,https://api.github.com/users/hushaoqing,https://github.com/hushaoqing,https://api.github.com/users/hushaoqing/followers,https://api.github.com/users/hushaoqing/following{/other_user},https://api.github.com/users/hushaoqing/gists{/gist_id},https://api.github.com/users/hushaoqing/starred{/owner}{/repo},https://api.github.com/users/hushaoqing/subscriptions,https://api.github.com/users/hushaoqing/orgs,https://api.github.com/users/hushaoqing/repos,https://api.github.com/users/hushaoqing/events{/privacy},https://api.github.com/users/hushaoqing/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
3,https://api.github.com/repos/apache/incubator-superset/issues/8884,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8884/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8884/comments,https://api.github.com/repos/apache/incubator-superset/issues/8884/events,https://github.com/apache/incubator-superset/issues/8884,541605087,MDU6SXNzdWU1NDE2MDUwODc=,8884,Trying to schedule a dashboard delivery via email throws an error,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,2,2019-12-23T06:47:47Z,2019-12-23T13:21:14Z,,NONE,"When trying to schedule email delivery for a dashboard using Manage -> Dashboard Emails option creates a celery task on background which errors out due to timeout issues. Tried setting a higher timeout value but the error persists


### Expected results
Expecting dashboard to get delivered to intended recipients as per set schedule
what you expected to happen.

### Actual results
Gets the below error from the celery worker task

**ERROR/MainProcess] Task handler raised error: TimeLimitExceeded(1200,)
Traceback (most recent call last):
  File ""/usr/local/lib/python3.6/site-packages/billiard/pool.py"", line 658, in on_hard_timeout
    raise TimeLimitExceeded(job._timeout)
billiard.exceptions.TimeLimitExceeded: TimeLimitExceeded(1200,)
[2019-12-22 07:38:08,788: ERROR/MainProcess] Hard time limit (1200s) exceeded for email_reports.send[12494507-277d-4e31-9bd4-876b7f9525a3]
[2019-12-22 07:38:08,899: ERROR/MainProcess] Process 'ForkPoolWorker-1' pid:61809 exited with 'signal 9 (SIGKILL)'**


#### Screenshots
![Dashboard schedule](https://user-images.githubusercontent.com/14180077/71340590-bca95400-2570-11ea-94f9-c79f2ee3e3f3.png)
![Celerywrk](https://user-images.githubusercontent.com/14180077/71340604-c468f880-2570-11ea-9a33-0b740401e078.png)



#### How to reproduce the bug

1. Start a celery worker and celery beat session as per superset article
2. Create a sample dashboard
3. Go to Manage -> Dashboard Emails option
4. select the sample dashboard and set a cron tab schedule like say 10 * * * 
5. Save it
6. In the celery worker terminal you can see a warning stating softtimeout exceeded followed by an error with above stated message

### Environment

(please complete the following information):

- superset version: 0.33.0rc1
- python version:  3.6.9


### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.


",incubator-superset,apache,visakhmurukes,14180077,MDQ6VXNlcjE0MTgwMDc3,https://avatars3.githubusercontent.com/u/14180077?v=4,,https://api.github.com/users/visakhmurukes,https://github.com/visakhmurukes,https://api.github.com/users/visakhmurukes/followers,https://api.github.com/users/visakhmurukes/following{/other_user},https://api.github.com/users/visakhmurukes/gists{/gist_id},https://api.github.com/users/visakhmurukes/starred{/owner}{/repo},https://api.github.com/users/visakhmurukes/subscriptions,https://api.github.com/users/visakhmurukes/orgs,https://api.github.com/users/visakhmurukes/repos,https://api.github.com/users/visakhmurukes/events{/privacy},https://api.github.com/users/visakhmurukes/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
4,https://api.github.com/repos/apache/incubator-superset/issues/8881,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8881/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8881/comments,https://api.github.com/repos/apache/incubator-superset/issues/8881/events,https://github.com/apache/incubator-superset/issues/8881,541410976,MDU6SXNzdWU1NDE0MTA5NzY=,8881,Support for Redis Cluster,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-12-22T05:39:08Z,2019-12-22T05:39:10Z,,CONTRIBUTOR,"**Is your feature request related to a problem? Please describe.**
Cannot use Redis Cluster for `CACHE_CONFIG` and `TABLE_NAMES_CACHE_CONFIG`

**Describe the solution you'd like**
I would love someone to share how they successfully used Redis Cluster for caching so we can add it to the documentation. Redis Cluster now becomes the de facto when it comes to using Redis, and in the next release will be Supported in Celery

**Describe alternatives you've considered**
Right now I'm using Redis without clustering

**Additional context**
I have tried [Flask-Cache-Redis-Cluster](https://pypi.org/project/Flask-Cache-Redis-Cluster/), but it is not reliable
",incubator-superset,apache,aboganas,13873810,MDQ6VXNlcjEzODczODEw,https://avatars2.githubusercontent.com/u/13873810?v=4,,https://api.github.com/users/aboganas,https://github.com/aboganas,https://api.github.com/users/aboganas/followers,https://api.github.com/users/aboganas/following{/other_user},https://api.github.com/users/aboganas/gists{/gist_id},https://api.github.com/users/aboganas/starred{/owner}{/repo},https://api.github.com/users/aboganas/subscriptions,https://api.github.com/users/aboganas/orgs,https://api.github.com/users/aboganas/repos,https://api.github.com/users/aboganas/events{/privacy},https://api.github.com/users/aboganas/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
5,https://api.github.com/repos/apache/incubator-superset/issues/8879,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8879/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8879/comments,https://api.github.com/repos/apache/incubator-superset/issues/8879/events,https://github.com/apache/incubator-superset/issues/8879,541269773,MDU6SXNzdWU1NDEyNjk3NzM=,8879,Limit Role Access for specific Tables,[],open,False,,[],,2,2019-12-21T02:14:08Z,2019-12-23T15:00:06Z,,NONE,"**Scenario:**
Let's say i have database called `northwind`. Inside db, i have 2 tables, `customer`  and `employee`. I want to create role for `Human Resource` and  `Marketing` . Users with role `Human Resource` only can run query via SQL Lab to table `employee` and can't query from table `customer` and vice versa. Users will have role `Gamma` and `sql_lab` as base roles.

**What i've done so far is:**
to run query on SQL Lab, one must have access to database hence i have to grant `database access on northwind`, but if i grant this permission, the user can run query on both tables `employee` and `customer`

",incubator-superset,apache,pjuanda,2455533,MDQ6VXNlcjI0NTU1MzM=,https://avatars2.githubusercontent.com/u/2455533?v=4,,https://api.github.com/users/pjuanda,https://github.com/pjuanda,https://api.github.com/users/pjuanda/followers,https://api.github.com/users/pjuanda/following{/other_user},https://api.github.com/users/pjuanda/gists{/gist_id},https://api.github.com/users/pjuanda/starred{/owner}{/repo},https://api.github.com/users/pjuanda/subscriptions,https://api.github.com/users/pjuanda/orgs,https://api.github.com/users/pjuanda/repos,https://api.github.com/users/pjuanda/events{/privacy},https://api.github.com/users/pjuanda/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
6,https://api.github.com/repos/apache/incubator-superset/issues/8877,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8877/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8877/comments,https://api.github.com/repos/apache/incubator-superset/issues/8877/events,https://github.com/apache/incubator-superset/issues/8877,540700429,MDU6SXNzdWU1NDA3MDA0Mjk=,8877,Can't load plugin: sqlalchemy.dialects:snowflake error when testing connection while adding datasource,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-12-20T02:11:07Z,2019-12-20T02:13:01Z,,NONE,"ERROR: {""error"": ""Connection failed!\n\nThe error message returned was:\nCan't load plugin: sqlalchemy.dialects:snowflake"", ""stacktrace"": ""Traceback (most recent call last):\n  File \""/app/superset/views/core.py\"", line 1769, in testconn\n    engine = database.get_sqla_engine(user_name=username)\n  File \""/app/superset/utils/core.py\"", line 130, in __call__\n    value = self.func(*args, **kwargs)\n  File \""/app/superset/models/core.py\"", line 971, in get_sqla_engine\n    return create_engine(sqlalchemy_url, **params)\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/__init__.py\"", line 435, in create_engine\n    return strategy.create(*args, **kwargs)\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py\"", line 61, in create\n    entrypoint = u._get_entrypoint()\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/url.py\"", line 172, in _get_entrypoint\n    cls = registry.load(name)\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py\"", line 240, in load\n    \""Can't load plugin: %s:%s\"" % (self.group, name)\nsqlalchemy.exc.NoSuchModuleError: Can't load plugin: sqlalchemy.dialects:snowflake\n""}

- I have run pip3 install snowflake-sqlalchemy
- Verified installation as per https://github.com/snowflakedb/snowflake-sqlalchemy

Please let me know if there are more things to be done here. Thanks!
",incubator-superset,apache,sarithapodali,58711660,MDQ6VXNlcjU4NzExNjYw,https://avatars2.githubusercontent.com/u/58711660?v=4,,https://api.github.com/users/sarithapodali,https://github.com/sarithapodali,https://api.github.com/users/sarithapodali/followers,https://api.github.com/users/sarithapodali/following{/other_user},https://api.github.com/users/sarithapodali/gists{/gist_id},https://api.github.com/users/sarithapodali/starred{/owner}{/repo},https://api.github.com/users/sarithapodali/subscriptions,https://api.github.com/users/sarithapodali/orgs,https://api.github.com/users/sarithapodali/repos,https://api.github.com/users/sarithapodali/events{/privacy},https://api.github.com/users/sarithapodali/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
7,https://api.github.com/repos/apache/incubator-superset/issues/8876,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8876/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8876/comments,https://api.github.com/repos/apache/incubator-superset/issues/8876/events,https://github.com/apache/incubator-superset/pull/8876,540696338,MDExOlB1bGxSZXF1ZXN0MzU1NDcyNzU4,8876,Modal for editing dashboard properties & metadata,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1331560260, 'node_id': 'MDU6TGFiZWwxMzMxNTYwMjYw', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/L', 'name': 'size/L', 'color': '6D53B9', 'default': False, 'description': ''}]",open,False,,[],,2,2019-12-20T02:00:29Z,2019-12-21T18:58:35Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [ ] Bug Fix
- [x] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->
Adds a new modal to the dashboard react app, which allows updating dashboard properties that are currently only updatable from the CRUD editor.

When the form is submitted, the url also gets updated to reflect any new slug.

Could use some feedback on how I accomplished the dashboard title update, I had to add some new redux flows that work around the undo functionality so that it doesn't trigger a ""save"" button.

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->
<img width=""912"" alt=""Screen Shot 2019-12-19 at 5 54 24 PM"" src=""https://user-images.githubusercontent.com/1858430/71223408-c0935880-2288-11ea-82f8-fe7bc2bc6e22.png"">

### TEST PLAN
<!--- What steps should be taken to verify the changes -->
Need to write some tests still, but I want to open this up to feedback.

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [x] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [x] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
Not entirely sure. @graceguo-supercat seems active in this area? ",incubator-superset,apache,suddjian,1858430,MDQ6VXNlcjE4NTg0MzA=,https://avatars0.githubusercontent.com/u/1858430?v=4,,https://api.github.com/users/suddjian,https://github.com/suddjian,https://api.github.com/users/suddjian/followers,https://api.github.com/users/suddjian/following{/other_user},https://api.github.com/users/suddjian/gists{/gist_id},https://api.github.com/users/suddjian/starred{/owner}{/repo},https://api.github.com/users/suddjian/subscriptions,https://api.github.com/users/suddjian/orgs,https://api.github.com/users/suddjian/repos,https://api.github.com/users/suddjian/events{/privacy},https://api.github.com/users/suddjian/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8876,https://github.com/apache/incubator-superset/pull/8876,https://github.com/apache/incubator-superset/pull/8876.diff,https://github.com/apache/incubator-superset/pull/8876.patch,,,,,,,,,,,,,,,,,,
8,https://api.github.com/repos/apache/incubator-superset/issues/8875,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8875/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8875/comments,https://api.github.com/repos/apache/incubator-superset/issues/8875/events,https://github.com/apache/incubator-superset/issues/8875,540678903,MDU6SXNzdWU1NDA2Nzg5MDM=,8875,When I run $ superset load_examples error,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,2,2019-12-20T01:12:54Z,2019-12-20T10:22:22Z,,NONE,"(mars-superset) lishengongdeMBP:mars-superset lishengdong$ superset load_examples
2019-12-20 09:07:28,408:INFO:root:logging was configured successfully
2019-12-20 09:07:28,535:INFO:root:Configured event logger of type <class 'superset.utils.log.DBEventLogger'>
2019-12-20 09:07:28,943:DEBUG:asyncio:Using selector: KqueueSelector
Loading examples metadata and related data into examples
Creating default CSS templates
Loading energy related dataset
2019-12-20 09:07:29,717:INFO:root:Database.get_sqla_engine(). Masked URL: sqlite:////Users/lishengdong/.superset/superset.db
Traceback (most recent call last):
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py"", line 1318, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py"", line 1239, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py"", line 1285, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py"", line 1234, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py"", line 1026, in _send_output
    self.send(msg)
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py"", line 964, in send
    self.connect()
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py"", line 1400, in connect
    server_hostname=server_hostname)
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py"", line 407, in wrap_socket
    _context=self, _session=session)
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py"", line 817, in __init__
    self.do_handshake()
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py"", line 1077, in do_handshake
    self._sslobj.do_handshake()
  File ""/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py"", line 689, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:852)
",incubator-superset,apache,lsd2016,17775269,MDQ6VXNlcjE3Nzc1MjY5,https://avatars1.githubusercontent.com/u/17775269?v=4,,https://api.github.com/users/lsd2016,https://github.com/lsd2016,https://api.github.com/users/lsd2016/followers,https://api.github.com/users/lsd2016/following{/other_user},https://api.github.com/users/lsd2016/gists{/gist_id},https://api.github.com/users/lsd2016/starred{/owner}{/repo},https://api.github.com/users/lsd2016/subscriptions,https://api.github.com/users/lsd2016/orgs,https://api.github.com/users/lsd2016/repos,https://api.github.com/users/lsd2016/events{/privacy},https://api.github.com/users/lsd2016/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
9,https://api.github.com/repos/apache/incubator-superset/issues/8874,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8874/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8874/comments,https://api.github.com/repos/apache/incubator-superset/issues/8874/events,https://github.com/apache/incubator-superset/issues/8874,540575323,MDU6SXNzdWU1NDA1NzUzMjM=,8874,[SIP-33] Proposal for Removing SQLite Support for Metadata Databases,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}]",open,False,,[],,4,2019-12-19T21:23:14Z,2019-12-20T19:10:27Z,,CONTRIBUTOR,"## [SIP] Proposal for Removing SQLite Support for Metadata Databases

### Motivation
Historically, SQLite has been used as a starting point for development for new contributors to Superset. While the need for an easy onramp still exists, I believe that it is fully covered by the new Docker compose file contributed by Craig Rueda. Deprecating SQLite will encourage `docker-compose` as a primary starting point for new contributors to the project. SQLite support causes multiple pain points for developers, including bad migration practices with unnecessary batch of migrations and database schema drift due to SQLite’s inability to alter constraints on existing tables. Issues contributed to Github referenced below which indicate that SQLite is in some instances being used in a production-like environment. This is a strong anti-pattern that we would like to avoid that makes supporting Superset in the community more difficult.

### Proposed Change

Immediate:
* Add logging to indicate SQLite’s deprecation in the next version release
* Add release notes in the upgrading.md file relating to deprecation
* Announce deprecation on the mailing lists and in Slack
* Update documentation to recommend Docker Compose with Postgres for new users

In 2 minor versions:
* Update configuration to use a Postgres database by default
* Update the build matrix to stop building Superset against SQLite
* Update Cypress test configuration to use Postgres instead of SQLite
* Add release notes in the upgrading.md file relating to removal
* Announce removal on the mailing lists and in Slack

### New or Changed Public Interfaces

Support for SQLite as a metadata database will be officially removed. SQLite may still be usable, but it will not be supported in future Alembic migrations.

### Migration Plan and Compatibility

Users who leverage SQLite in production will be required to migrate their data to a different supported metadata database, either MySQL or Postgres. This can be accomplished via third-party tools.

### Rejected Alternatives

The primary other option is not deprecating SQLite and not removing it from the build matrix. This is really a binary decision.",incubator-superset,apache,willbarrett,1779034,MDQ6VXNlcjE3NzkwMzQ=,https://avatars2.githubusercontent.com/u/1779034?v=4,,https://api.github.com/users/willbarrett,https://github.com/willbarrett,https://api.github.com/users/willbarrett/followers,https://api.github.com/users/willbarrett/following{/other_user},https://api.github.com/users/willbarrett/gists{/gist_id},https://api.github.com/users/willbarrett/starred{/owner}{/repo},https://api.github.com/users/willbarrett/subscriptions,https://api.github.com/users/willbarrett/orgs,https://api.github.com/users/willbarrett/repos,https://api.github.com/users/willbarrett/events{/privacy},https://api.github.com/users/willbarrett/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
10,https://api.github.com/repos/apache/incubator-superset/issues/8871,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8871/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8871/comments,https://api.github.com/repos/apache/incubator-superset/issues/8871/events,https://github.com/apache/incubator-superset/issues/8871,540340799,MDU6SXNzdWU1NDAzNDA3OTk=,8871," Integrity error, probably unique constraint (two mysql databases with same tables)","[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-12-19T14:16:48Z,2019-12-19T14:16:51Z,,NONE,"With MySQL, after adding the second database and trying to add tables,
I'm getting: Integrity error, probably unique constraint

I've tried also with db.table
and db:table
and also with schema.

Is having two (or multiple) databases with the tables named in the same way
supported in superset ?",incubator-superset,apache,facePlanted,30060413,MDQ6VXNlcjMwMDYwNDEz,https://avatars0.githubusercontent.com/u/30060413?v=4,,https://api.github.com/users/facePlanted,https://github.com/facePlanted,https://api.github.com/users/facePlanted/followers,https://api.github.com/users/facePlanted/following{/other_user},https://api.github.com/users/facePlanted/gists{/gist_id},https://api.github.com/users/facePlanted/starred{/owner}{/repo},https://api.github.com/users/facePlanted/subscriptions,https://api.github.com/users/facePlanted/orgs,https://api.github.com/users/facePlanted/repos,https://api.github.com/users/facePlanted/events{/privacy},https://api.github.com/users/facePlanted/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
11,https://api.github.com/repos/apache/incubator-superset/issues/8870,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8870/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8870/comments,https://api.github.com/repos/apache/incubator-superset/issues/8870/events,https://github.com/apache/incubator-superset/issues/8870,540246971,MDU6SXNzdWU1NDAyNDY5NzE=,8870,How to get detailed action logs and how to restrict view to some dashboards?,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,1,2019-12-19T11:13:03Z,2019-12-19T11:13:06Z,,NONE,"Hi,

In action logs, I can see only few pre-defined actions but not any details. Where can I check details action logs of the user, for example if another admin user created a new user how to check that in action logs?

Another question is how to restrict user view to particular dashboards? Like there are 3 dashboards and I want a user to see only 2 dashboards. A gamma user can see dashboards only he/she is owner and an alpha user can view all published dashboards. 
",incubator-superset,apache,hemantaggarwal,31547162,MDQ6VXNlcjMxNTQ3MTYy,https://avatars0.githubusercontent.com/u/31547162?v=4,,https://api.github.com/users/hemantaggarwal,https://github.com/hemantaggarwal,https://api.github.com/users/hemantaggarwal/followers,https://api.github.com/users/hemantaggarwal/following{/other_user},https://api.github.com/users/hemantaggarwal/gists{/gist_id},https://api.github.com/users/hemantaggarwal/starred{/owner}{/repo},https://api.github.com/users/hemantaggarwal/subscriptions,https://api.github.com/users/hemantaggarwal/orgs,https://api.github.com/users/hemantaggarwal/repos,https://api.github.com/users/hemantaggarwal/events{/privacy},https://api.github.com/users/hemantaggarwal/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
12,https://api.github.com/repos/apache/incubator-superset/issues/8869,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8869/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8869/comments,https://api.github.com/repos/apache/incubator-superset/issues/8869/events,https://github.com/apache/incubator-superset/issues/8869,540144059,MDU6SXNzdWU1NDAxNDQwNTk=,8869,how to add echart with 0.99version?,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,3,2019-12-19T07:57:51Z,2019-12-19T13:21:02Z,,NONE,"A clear and concise description of what the bug is.

### Expected results

what you expected to happen.

### Actual results

what actually happens.

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

### Environment

(please complete the following information):

- superset version: `0.99`
- python version: `python --3.7`
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,nick08007,4915686,MDQ6VXNlcjQ5MTU2ODY=,https://avatars3.githubusercontent.com/u/4915686?v=4,,https://api.github.com/users/nick08007,https://github.com/nick08007,https://api.github.com/users/nick08007/followers,https://api.github.com/users/nick08007/following{/other_user},https://api.github.com/users/nick08007/gists{/gist_id},https://api.github.com/users/nick08007/starred{/owner}{/repo},https://api.github.com/users/nick08007/subscriptions,https://api.github.com/users/nick08007/orgs,https://api.github.com/users/nick08007/repos,https://api.github.com/users/nick08007/events{/privacy},https://api.github.com/users/nick08007/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
13,https://api.github.com/repos/apache/incubator-superset/issues/8868,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8868/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8868/comments,https://api.github.com/repos/apache/incubator-superset/issues/8868/events,https://github.com/apache/incubator-superset/issues/8868,540061763,MDU6SXNzdWU1NDAwNjE3NjM=,8868,[Question] No module named 'cx_Oracle' with docker run,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}, {'id': 1151895046, 'node_id': 'MDU6TGFiZWwxMTUxODk1MDQ2', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.docker', 'name': '.docker', 'color': 'ecf0f1', 'default': False, 'description': ''}]",open,False,,[],,2,2019-12-19T04:02:24Z,2019-12-20T01:35:46Z,,NONE,"I have included cx_Oracle in setup.py in extras_require section as below and rerun 
````
docker-compose up
````

````
extras_require={
        ""bigquery"": [""pybigquery>=0.4.10"", ""pandas_gbq>=0.10.0""],
        ""cors"": [""flask-cors>=2.0.0""],
        ""gsheets"": [""gsheetsdb>=0.1.9""],
        ""hive"": [""pyhive[hive]>=0.6.1"", ""tableschema"", ""thrift>=0.11.0, <1.0.0""],
        ""mysql"": [""mysqlclient==1.4.2.post1""],
        ""postgres"": [""psycopg2-binary==2.7.5""],
        ""presto"": [""pyhive[presto]>=0.4.0""],
        ""elasticsearch"": [""elasticsearch-dbapi>=0.1.0, <0.2.0""],
        ""druid"": [""pydruid==0.5.7"", ""requests==2.22.0""],
        ""hana"": [""hdbcli==2.4.162"", ""sqlalchemy_hana==0.4.0""],
        ""cx_Oracle"": [""cx-Oracle==7.3.0""]
    },
````

However when I try to add database from UI, below error is popping up : 

> ERROR: {""error"": ""Connection failed!\n\nThe error message returned was:\nNo module named 'cx_Oracle'"", ""stacktrace"": ""Traceback (most recent call last):\n  File \""/app/superset/views/core.py\"", line 1769, in testconn\n    engine = database.get_sqla_engine(user_name=username)\n  File \""/app/superset/utils/core.py\"", line 130, in __call__\n    value = self.func(*args, **kwargs)\n  File \""/app/superset/models/core.py\"", line 971, in get_sqla_engine\n    return create_engine(sqlalchemy_url, **params)\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/__init__.py\"", line 435, in create_engine\n    return strategy.create(*args, **kwargs)\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py\"", line 87, in create\n    dbapi = dialect_cls.dbapi(**dbapi_args)\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/dialects/oracle/cx_oracle.py\"", line 827, in dbapi\n    import cx_Oracle\nModuleNotFoundError: No module named 'cx_Oracle'\n""}

Did I do anything wrong ?",incubator-superset,apache,gry77,18436646,MDQ6VXNlcjE4NDM2NjQ2,https://avatars2.githubusercontent.com/u/18436646?v=4,,https://api.github.com/users/gry77,https://github.com/gry77,https://api.github.com/users/gry77/followers,https://api.github.com/users/gry77/following{/other_user},https://api.github.com/users/gry77/gists{/gist_id},https://api.github.com/users/gry77/starred{/owner}{/repo},https://api.github.com/users/gry77/subscriptions,https://api.github.com/users/gry77/orgs,https://api.github.com/users/gry77/repos,https://api.github.com/users/gry77/events{/privacy},https://api.github.com/users/gry77/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
14,https://api.github.com/repos/apache/incubator-superset/issues/8867,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8867/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8867/comments,https://api.github.com/repos/apache/incubator-superset/issues/8867/events,https://github.com/apache/incubator-superset/pull/8867,540025609,MDExOlB1bGxSZXF1ZXN0MzU0OTAzNzEx,8867,[WIP] Customize schema name for the CTA queries,"[{'id': 718573661, 'node_id': 'MDU6TGFiZWw3MTg1NzM2NjE=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/need:more-info', 'name': 'need:more-info', 'color': 'f1c40f', 'default': False, 'description': 'Need more information from author'}, {'id': 1329203144, 'node_id': 'MDU6TGFiZWwxMzI5MjAzMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/M', 'name': 'size/M', 'color': '705FA3', 'default': False, 'description': ''}]",open,False,,[],,1,2019-12-19T01:51:48Z,2019-12-21T01:17:05Z,,CONTRIBUTOR,,incubator-superset,apache,bkyryliuk,5727938,MDQ6VXNlcjU3Mjc5Mzg=,https://avatars3.githubusercontent.com/u/5727938?v=4,,https://api.github.com/users/bkyryliuk,https://github.com/bkyryliuk,https://api.github.com/users/bkyryliuk/followers,https://api.github.com/users/bkyryliuk/following{/other_user},https://api.github.com/users/bkyryliuk/gists{/gist_id},https://api.github.com/users/bkyryliuk/starred{/owner}{/repo},https://api.github.com/users/bkyryliuk/subscriptions,https://api.github.com/users/bkyryliuk/orgs,https://api.github.com/users/bkyryliuk/repos,https://api.github.com/users/bkyryliuk/events{/privacy},https://api.github.com/users/bkyryliuk/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8867,https://github.com/apache/incubator-superset/pull/8867,https://github.com/apache/incubator-superset/pull/8867.diff,https://github.com/apache/incubator-superset/pull/8867.patch,,,,,,,,,,,,,,,,,,
15,https://api.github.com/repos/apache/incubator-superset/issues/8865,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8865/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8865/comments,https://api.github.com/repos/apache/incubator-superset/issues/8865/events,https://github.com/apache/incubator-superset/issues/8865,539984414,MDU6SXNzdWU1Mzk5ODQ0MTQ=,8865,deprecate tslint in favor of eslint w/ typescript support,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 1710495482, 'node_id': 'MDU6TGFiZWwxNzEwNDk1NDgy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/frontend', 'name': 'frontend', 'color': 'ededed', 'default': False, 'description': None}, {'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}]",open,False,,[],,3,2019-12-18T23:35:38Z,2019-12-20T01:11:20Z,,CONTRIBUTOR,"Having recently written some typescript in the repo I found the tslint rules to be very strict. Rules like alphabetizing object keys, not allowing lambdas in jsx, not allowing multiline expressions in jsx, among others don't coincide with the eslint rules and are not autofixable. Spending time fixing these is tedious and does not encourage use of typescript. 

In order to increase adoption of typescript in the repo I think it would be good to have the typescript developer experience to be as closer to the current javascript experience. Also, it looks like the creators of tslint are [recommending not using that library anymore](https://medium.com/palantir/tslint-in-2019-1a144c2317a9). 

We should configure eslint to support typescript and try to have as many of the same rules in both environments as possible. Info on how to implement this: https://codeburst.io/from-eslint-to-tslint-and-back-again-bf259c2e7437",incubator-superset,apache,nytai,10255196,MDQ6VXNlcjEwMjU1MTk2,https://avatars1.githubusercontent.com/u/10255196?v=4,,https://api.github.com/users/nytai,https://github.com/nytai,https://api.github.com/users/nytai/followers,https://api.github.com/users/nytai/following{/other_user},https://api.github.com/users/nytai/gists{/gist_id},https://api.github.com/users/nytai/starred{/owner}{/repo},https://api.github.com/users/nytai/subscriptions,https://api.github.com/users/nytai/orgs,https://api.github.com/users/nytai/repos,https://api.github.com/users/nytai/events{/privacy},https://api.github.com/users/nytai/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
16,https://api.github.com/repos/apache/incubator-superset/issues/8864,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8864/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8864/comments,https://api.github.com/repos/apache/incubator-superset/issues/8864/events,https://github.com/apache/incubator-superset/issues/8864,539967401,MDU6SXNzdWU1Mzk5Njc0MDE=,8864,How to programmatically create and assign a Superset custom role,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-12-18T22:47:51Z,2019-12-18T22:48:54Z,,NONE,"**Is your feature request related to a problem? Please describe.**
Currently no docs exist for creating a role programmatically - only via the UI. Also, no docs exist for programmatically  customizing what happens after a database connection is created by a user in the UI.

**Describe the solution you'd like**
Some docs similar to to what follows should be added and embellished upon.

# INTRODUCTION and OVERVIEW

We have, via the UI, created a ""Gamma_modified"" role. A user with this role can create database connections. And currently, they can then be manually granted access to their created database connection. 

It is our aim to
1. create the Gamma_modified role programmatically one time, when first building Superset.
1. bind the `Gamma_modified` role to `AUTH_USER_REGISTRATION_ROLE` in our `superset_config.py` so that it is the default role of new users. It is a misfeature of superset that one cannot simply list two roles for the default user registration role - https://github.com/apache/incubator-superset/issues/8861
1. automatically grant access to a newly created database connection by the creator of the connection.

# Creating a Gamma_modified Role Programmatically

The docs show how to create a role via the UI, but our delivery pipeline demands automatic creation of a role which contains the following properties beyond teh standard gamma role:

```
['can add', 'DatabaseAsync']
['can delete', 'DatabaseAsync']
['can download', 'DatabaseAsync']
['can edit', 'DatabaseAsync']
['muldelete', 'DatabaseAsync']
['yaml export', 'DatabaseAsync']
['can add', 'DatabaseView']
['can delete', 'DatabaseView']
['can download', 'DatabaseView']
['can edit', 'DatabaseView']
['muldelete', 'DatabaseView']
['yaml export', 'DatabaseView']
['can add', 'SqlMetricInlineView']
['can delete', 'SqlMetricInlineView']
['can download', 'SqlMetricInlineView']
['can edit', 'SqlMetricInlineView']
['can add', 'TableColumnInlineView']
['can delete', 'TableColumnInlineView']
['can download', 'TableColumnInlineView']
['can edit', 'TableColumnInlineView']
['can add', 'TableModelView']
['can delete', 'TableModelView']
['can download', 'TableModelView']
['can edit', 'TableModelView']
['muldelete', 'TableModelView']
['refresh', 'TableModelView']
['yaml export', 'TableModelView']

```

# bind AUTH_USER_REGISTRATION_ROLE to a custom role

It is presumed that any defined role can be chosen in our `superset_config.py` just by providing its value to `AUTH_USER_REGISTRATION_ROLE`. 

# Automatically granting the creator of a role access to it.

Presumably a SQLAlchemy post-commit hook can be added to some class to automatically grant access to the creator of a database connection.


# Discussion Reflection, and Implementation


## Creating a Gamma_modified Role Programmatically

The following code creates and saves a `Gamma_modified` role:

```python
from superset import app, appbuilder, db, examples, security_manager

import gamma_extra


sm = security_manager
sm.sync_role_definitions()
gamma_modified_role = sm.add_role(""gamma_modified"")

for perm, view in gamma_extra.perm_views:
    pv = sm.find_permission_view_menu(perm, view)
    sm.add_permission_role(gamma_modified_role, pv)

for role in [""Gamma"", ""sql_lab""]:
    for perm in sm.find_role(role).permissions:
        sm.add_permission_role(gamma_modified_role, perm)

sm.get_session.commit()
```


## (Automatically) granting the creator of a role access to it.

The following code assigns `database_access` to the creator of a database:

```python
from superset import app, appbuilder, db, examples, security_manager
from superset.models import core as models


sm = security_manager


def self_permit(u, db):
    pv = sm.add_permission_view_menu(""database_access"", db.perm)
    role_name = f""(SP) database_access on {db.perm}""
    role = sm.add_role(role_name)
    sm.add_permission_role(role, pv)
    u.roles.append(role)
    sm.get_session.commit()

for database in db.session.query(models.Database):
    print(database)
#    print(database.creator)
    c = database.created_by
    print(type(c)) # <class 'flask_appbuilder.security.sqla.models.User'>
    try:
        print(c.id)
        p = database.perm
        print(type(p))
        print(p)
        u = sm.find_user('user3')
        self_permit(u, database)
    except:
        pass

```

### Questions

Is there a post-commit hook that can run after a user creates a database connection that I can add this code to so that right after a user creates a connection, they receive `database_access` to it?


",incubator-superset,apache,metaperl,21293,MDQ6VXNlcjIxMjkz,https://avatars3.githubusercontent.com/u/21293?v=4,,https://api.github.com/users/metaperl,https://github.com/metaperl,https://api.github.com/users/metaperl/followers,https://api.github.com/users/metaperl/following{/other_user},https://api.github.com/users/metaperl/gists{/gist_id},https://api.github.com/users/metaperl/starred{/owner}{/repo},https://api.github.com/users/metaperl/subscriptions,https://api.github.com/users/metaperl/orgs,https://api.github.com/users/metaperl/repos,https://api.github.com/users/metaperl/events{/privacy},https://api.github.com/users/metaperl/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
17,https://api.github.com/repos/apache/incubator-superset/issues/8861,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8861/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8861/comments,https://api.github.com/repos/apache/incubator-superset/issues/8861/events,https://github.com/apache/incubator-superset/issues/8861,539766376,MDU6SXNzdWU1Mzk3NjYzNzY=,8861,The default role should be a list not a scalar?,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,2,2019-12-18T15:52:32Z,2019-12-20T10:30:10Z,,NONE,"**Is your feature request related to a problem? Please describe.**
I need a default role that enhances the abilities of the gamma user. I do not want to copy all the gamma abilities and then add the extra abilities and lump them into a single role. Superset/FAB RBAC is compositional and I insist on being able to build user roles in agreement with this approach.

**Describe the solution you'd like**
in my `superset_config.py` I set:
    `AUTH_USER_REGISTRATION_ROLE = [""Gamma"", ""Gamma_extra""]`

and the default user is assigned a set of roles instead of a single role.

**Describe alternatives you've considered**
It is certainly possible to write all the code to do this similar to https://github.com/apache/incubator-superset/issues/3419

But I think a simpler solution would be to admit that RBAC is compositional and allow for that directly from config file.

",incubator-superset,apache,metaperl,21293,MDQ6VXNlcjIxMjkz,https://avatars3.githubusercontent.com/u/21293?v=4,,https://api.github.com/users/metaperl,https://github.com/metaperl,https://api.github.com/users/metaperl/followers,https://api.github.com/users/metaperl/following{/other_user},https://api.github.com/users/metaperl/gists{/gist_id},https://api.github.com/users/metaperl/starred{/owner}{/repo},https://api.github.com/users/metaperl/subscriptions,https://api.github.com/users/metaperl/orgs,https://api.github.com/users/metaperl/repos,https://api.github.com/users/metaperl/events{/privacy},https://api.github.com/users/metaperl/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
18,https://api.github.com/repos/apache/incubator-superset/issues/8860,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8860/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8860/comments,https://api.github.com/repos/apache/incubator-superset/issues/8860/events,https://github.com/apache/incubator-superset/issues/8860,539623693,MDU6SXNzdWU1Mzk2MjM2OTM=,8860,Getting an error trying to configure celery task for scheduled email delivery of chart,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-12-18T11:28:59Z,2019-12-18T11:29:03Z,,NONE,"The superset_config.py file is modified to set up scheduled job for email delivery of a sample chart
as per this
https://superset.incubator.apache.org/installation.html#celery-tasks

But when celery worker is setup and with beat running when chart is scheduled we're getting an error as below in the celery worker

**[2019-12-18 07:38:23,115: WARNING/MainProcess] Soft time limit (300s) exceeded for email_reports.send[37eb6c91-a9a6-4bc2-8d7c-29a15f4595ad]
[2019-12-18 07:53:23,118: ERROR/MainProcess] Task handler raised error: TimeLimitExceeded(1200,)
Traceback (most recent call last):
  File ""/usr/local/lib/python3.6/site-packages/billiard/pool.py"", line 658, in on_hard_timeout
    raise TimeLimitExceeded(job._timeout)
billiard.exceptions.TimeLimitExceeded: TimeLimitExceeded(1200,)
[2019-12-18 07:53:23,121: ERROR/MainProcess] Hard time limit (1200s) exceeded for email_reports.send[37eb6c91-a9a6-4bc2-8d7c-29a15f4595ad]
[2019-12-18 07:53:23,230: ERROR/MainProcess] Process 'ForkPoolWorker-1' pid:55090 exited with 'signal 9 (SIGKILL)'
[2019-12-18 07:56:15,319: ERROR/ForkPoolWorker-2] Task email_reports.send[5cd213ea-ca7d-4629-886e-ec982eb18528] raised unexpected: WebDriverException('Failed to decode response from marionette', None, None)
Traceback (most recent call last):
  File ""/usr/local/lib/python3.6/site-packages/celery/app/trace.py"", line 382, in trace_task
    R = retval = fun(*args, **kwargs)
  File ""/usr/local/lib/python3.6/site-packages/celery/app/trace.py"", line 641, in __protected_call__
    return self.run(*args, **kwargs)
  File ""/home/superset/superset/tasks/schedules.py"", line 394, in schedule_email_report
    deliver_slice(schedule)
  File ""/home/superset/superset/tasks/schedules.py"", line 363, in deliver_slice
    email = _get_slice_visualization(schedule)
  File ""/home/superset/superset/tasks/schedules.py"", line 326, in _get_slice_visualization
    driver.get(slice_url)
  File ""/usr/local/lib/python3.6/site-packages/selenium/webdriver/remote/webdriver.py"", line 333, in get
    self.execute(Command.GET, {'url': url})
  File ""/usr/local/lib/python3.6/site-packages/selenium/webdriver/remote/webdriver.py"", line 321, in execute
    self.error_handler.check_response(response)
  File ""/usr/local/lib/python3.6/site-packages/selenium/webdriver/remote/errorhandler.py"", line 242, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.WebDriverException: Message: Failed to decode response from marionette**

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.


",incubator-superset,apache,visakhmurukes,14180077,MDQ6VXNlcjE0MTgwMDc3,https://avatars3.githubusercontent.com/u/14180077?v=4,,https://api.github.com/users/visakhmurukes,https://github.com/visakhmurukes,https://api.github.com/users/visakhmurukes/followers,https://api.github.com/users/visakhmurukes/following{/other_user},https://api.github.com/users/visakhmurukes/gists{/gist_id},https://api.github.com/users/visakhmurukes/starred{/owner}{/repo},https://api.github.com/users/visakhmurukes/subscriptions,https://api.github.com/users/visakhmurukes/orgs,https://api.github.com/users/visakhmurukes/repos,https://api.github.com/users/visakhmurukes/events{/privacy},https://api.github.com/users/visakhmurukes/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
19,https://api.github.com/repos/apache/incubator-superset/issues/8853,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8853/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8853/comments,https://api.github.com/repos/apache/incubator-superset/issues/8853/events,https://github.com/apache/incubator-superset/issues/8853,539055493,MDU6SXNzdWU1MzkwNTU0OTM=,8853,Getting error while installing the superset .35.1 version using pip install apache-superset==0.35.1,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,12,2019-12-17T13:08:20Z,2019-12-19T10:33:51Z,,NONE,"ERROR: Could not find a version that satisfies the requirement pyarrow<0.15.0,>=0.14.1 (from apache-superset==0.35.1) (from versions: 0.9.0, 0.10.0, 0.11.0, 0.11.1, 0.12.0, 0.12.1, 0.13.0, 0.14.0, 0.15.0, 0.15.1)
ERROR: No matching distribution found for pyarrow<0.15.0,>=0.14.1 (from apache-superset==0.35.1).

### Expected results

what you expected to happen.
It should install the superset
### Actual results


what actually happens.
ERROR: Could not find a version that satisfies the requirement pyarrow<0.15.0,>=0.14.1 (from apache-superset==0.35.1) (from versions: 0.9.0, 0.10.0, 0.11.0, 0.11.1, 0.12.0, 0.12.1, 0.13.0, 0.14.0, 0.15.0, 0.15.1)
ERROR: No matching distribution found for pyarrow<0.15.0,>=0.14.1 (from apache-superset==0.35.1)

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

### Environment

(please complete the following information):

- superset version: `superset version`
- python version: `python --version`
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,umesh11111,43033939,MDQ6VXNlcjQzMDMzOTM5,https://avatars0.githubusercontent.com/u/43033939?v=4,,https://api.github.com/users/umesh11111,https://github.com/umesh11111,https://api.github.com/users/umesh11111/followers,https://api.github.com/users/umesh11111/following{/other_user},https://api.github.com/users/umesh11111/gists{/gist_id},https://api.github.com/users/umesh11111/starred{/owner}{/repo},https://api.github.com/users/umesh11111/subscriptions,https://api.github.com/users/umesh11111/orgs,https://api.github.com/users/umesh11111/repos,https://api.github.com/users/umesh11111/events{/privacy},https://api.github.com/users/umesh11111/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
20,https://api.github.com/repos/apache/incubator-superset/issues/8852,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8852/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8852/comments,https://api.github.com/repos/apache/incubator-superset/issues/8852/events,https://github.com/apache/incubator-superset/issues/8852,538898090,MDU6SXNzdWU1Mzg4OTgwOTA=,8852,Does superset offer commercial support or a commercial version?,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,3,2019-12-17T07:53:36Z,2019-12-19T02:37:14Z,,NONE,"We need the help of superset for deep customization, Does superset offer commercial support or a commercial version?
",incubator-superset,apache,leesonwei,29350722,MDQ6VXNlcjI5MzUwNzIy,https://avatars3.githubusercontent.com/u/29350722?v=4,,https://api.github.com/users/leesonwei,https://github.com/leesonwei,https://api.github.com/users/leesonwei/followers,https://api.github.com/users/leesonwei/following{/other_user},https://api.github.com/users/leesonwei/gists{/gist_id},https://api.github.com/users/leesonwei/starred{/owner}{/repo},https://api.github.com/users/leesonwei/subscriptions,https://api.github.com/users/leesonwei/orgs,https://api.github.com/users/leesonwei/repos,https://api.github.com/users/leesonwei/events{/privacy},https://api.github.com/users/leesonwei/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
21,https://api.github.com/repos/apache/incubator-superset/issues/8848,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8848/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8848/comments,https://api.github.com/repos/apache/incubator-superset/issues/8848/events,https://github.com/apache/incubator-superset/pull/8848,538788705,MDExOlB1bGxSZXF1ZXN0MzUzODc2NjMx,8848,fix add slice page translation problem. refer to https://github.com/a…,"[{'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,0,2019-12-17T02:06:21Z,2019-12-17T02:06:45Z,,NONE,"### CATEGORY

Choose one

- [x] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->
fix add slice page translation problem. refer to https://github.com/apache/incubator-superset/issues/8749

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->
have test every `LANGUAGES` in `config.py`

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [x] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,cdmikechen,12069428,MDQ6VXNlcjEyMDY5NDI4,https://avatars2.githubusercontent.com/u/12069428?v=4,,https://api.github.com/users/cdmikechen,https://github.com/cdmikechen,https://api.github.com/users/cdmikechen/followers,https://api.github.com/users/cdmikechen/following{/other_user},https://api.github.com/users/cdmikechen/gists{/gist_id},https://api.github.com/users/cdmikechen/starred{/owner}{/repo},https://api.github.com/users/cdmikechen/subscriptions,https://api.github.com/users/cdmikechen/orgs,https://api.github.com/users/cdmikechen/repos,https://api.github.com/users/cdmikechen/events{/privacy},https://api.github.com/users/cdmikechen/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8848,https://github.com/apache/incubator-superset/pull/8848,https://github.com/apache/incubator-superset/pull/8848.diff,https://github.com/apache/incubator-superset/pull/8848.patch,,,,,,,,,,,,,,,,,,
22,https://api.github.com/repos/apache/incubator-superset/issues/8847,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8847/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8847/comments,https://api.github.com/repos/apache/incubator-superset/issues/8847/events,https://github.com/apache/incubator-superset/issues/8847,538624347,MDU6SXNzdWU1Mzg2MjQzNDc=,8847,"'pip wheel' requires the 'wheel' package. To fix this, run: pip install wheel","[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-12-16T20:04:05Z,2019-12-16T20:04:08Z,,NONE,"Attempting to install Superset from github fails when attempting to install pydruid:
`pip install -r requirements-dev.txt`

 with this error:

```
Collecting pydruid==0.5.7 (from -r requirements-dev.txt (line 29))
  Downloading https://mydns.com/our/api/pypi/pyre-usb/packages/packages/a8/bd/88ab430c639819871e069c9ccccebdd3c3698b044e0109545a902b880ddc/pydruid-0.5.7.tar.gz (6.0MB)
    100% |████████████████████████████████| 6.0MB 30.6MB/s
    Complete output from command python setup.py egg_info:
    WARNING: The wheel package is not available.
    [DEBUG:pip.vcs:__init__.py:60 -             register() ] Registered VCS backend: hg
    [DEBUG:pip.vcs:__init__.py:60 -             register() ] Registered VCS backend: svn
    [DEBUG:pip.vcs:__init__.py:60 -             register() ] Registered VCS backend: bzr
    ERROR: 'pip wheel' requires the 'wheel' package. To fix this, run: pip install wheel
    Traceback (most recent call last):
      File ""/root/dev/venv-superset/lib64/python3.6/site-packages/setuptools/installer.py"", line 128, in fetch_build_egg
        subprocess.check_call(cmd)
      File ""/usr/lib64/python3.6/subprocess.py"", line 311, in check_call
        raise CalledProcessError(retcode, cmd)
    subprocess.CalledProcessError: Command '['/root/dev/venv-superset/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmp9sv5kfoj', '--quiet', 'pytest-runner']' returned non-zero exit status 1\
.

    During handling of the above exception, another exception occurred:

    Traceback (most recent call last):
      File ""<string>"", line 1, in <module>
      File ""/tmp/pip-build-9nj4zke_/pydruid/setup.py"", line 52, in <module>
        ""Programming Language :: Python :: 3.6"",
      File ""/root/dev/venv-superset/lib64/python3.6/site-packages/setuptools/__init__.py"", line 144, in setup
        _install_setup_requires(attrs)
      File ""/root/dev/venv-superset/lib64/python3.6/site-packages/setuptools/__init__.py"", line 139, in _install_setup_requires
        dist.fetch_build_eggs(dist.setup_requires)
      File ""/root/dev/venv-superset/lib64/python3.6/site-packages/setuptools/dist.py"", line 721, in fetch_build_eggs
        replace_conflicting=True,
      File ""/root/dev/venv-superset/lib64/python3.6/site-packages/pkg_resources/__init__.py"", line 782, in resolve
        replace_conflicting=replace_conflicting
      File ""/root/dev/venv-superset/lib64/python3.6/site-packages/pkg_resources/__init__.py"", line 1065, in best_match
        return self.obtain(req, installer)
      File ""/root/dev/venv-superset/lib64/python3.6/site-packages/pkg_resources/__init__.py"", line 1077, in obtain
        return installer(requirement)
      File ""/root/dev/venv-superset/lib64/python3.6/site-packages/setuptools/dist.py"", line 777, in fetch_build_egg
        return fetch_build_egg(self, req)
      File ""/root/dev/venv-superset/lib64/python3.6/site-packages/setuptools/installer.py"", line 130, in fetch_build_egg
        raise DistutilsError(str(e))
    distutils.errors.DistutilsError: Command '['/root/dev/venv-superset/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmp9sv5kfoj', '--quiet', 'pytest-runner']' returned non-zero exit status\
 1.

    ----------------------------------------
Command ""python setup.py egg_info"" failed with error code 1 in /tmp/pip-build-9nj4zke_/pydruid/
(venv-superset) [root@usb-gce-superset-dev-01 incubator-superset]#


```",incubator-superset,apache,metaperl,21293,MDQ6VXNlcjIxMjkz,https://avatars3.githubusercontent.com/u/21293?v=4,,https://api.github.com/users/metaperl,https://github.com/metaperl,https://api.github.com/users/metaperl/followers,https://api.github.com/users/metaperl/following{/other_user},https://api.github.com/users/metaperl/gists{/gist_id},https://api.github.com/users/metaperl/starred{/owner}{/repo},https://api.github.com/users/metaperl/subscriptions,https://api.github.com/users/metaperl/orgs,https://api.github.com/users/metaperl/repos,https://api.github.com/users/metaperl/events{/privacy},https://api.github.com/users/metaperl/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
23,https://api.github.com/repos/apache/incubator-superset/issues/8845,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8845/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8845/comments,https://api.github.com/repos/apache/incubator-superset/issues/8845/events,https://github.com/apache/incubator-superset/pull/8845,538603431,MDExOlB1bGxSZXF1ZXN0MzUzNzIwNTQz,8845,"[WIP] new, Dashboard list view (react)","[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1332384320, 'node_id': 'MDU6TGFiZWwxMzMyMzg0MzIw', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XXL', 'name': 'size/XXL', 'color': '5A30DA', 'default': False, 'description': ''}]",open,False,,[],,2,2019-12-16T19:22:19Z,2019-12-23T00:59:56Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [ ] Bug Fix
- [x] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->
#### old view
<img width=""1163"" alt=""Screen Shot 2019-12-20 at 9 34 47 AM"" src=""https://user-images.githubusercontent.com/10255196/71278296-05140800-230c-11ea-92b1-6f4e6cb2e844.png"">

#### new view
<img width=""1676"" alt=""Screen Shot 2019-12-20 at 9 30 06 AM"" src=""https://user-images.githubusercontent.com/10255196/71278105-828b4880-230b-11ea-9c4c-da88bc54f4f5.png"">
<img width=""1146"" alt=""Screen Shot 2019-12-20 at 9 30 54 AM"" src=""https://user-images.githubusercontent.com/10255196/71278144-9df65380-230b-11ea-9f9a-95bd309ecf11.png"">
<img width=""1149"" alt=""Screen Shot 2019-12-20 at 9 29 56 AM"" src=""https://user-images.githubusercontent.com/10255196/71278180-b5cdd780-230b-11ea-9705-10ebe078a0d5.png"">


### TEST PLAN
<!--- What steps should be taken to verify the changes -->
- The welcome page works as before.
- The dashboards page renders, sorts, and filters
### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [x] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,nytai,10255196,MDQ6VXNlcjEwMjU1MTk2,https://avatars1.githubusercontent.com/u/10255196?v=4,,https://api.github.com/users/nytai,https://github.com/nytai,https://api.github.com/users/nytai/followers,https://api.github.com/users/nytai/following{/other_user},https://api.github.com/users/nytai/gists{/gist_id},https://api.github.com/users/nytai/starred{/owner}{/repo},https://api.github.com/users/nytai/subscriptions,https://api.github.com/users/nytai/orgs,https://api.github.com/users/nytai/repos,https://api.github.com/users/nytai/events{/privacy},https://api.github.com/users/nytai/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8845,https://github.com/apache/incubator-superset/pull/8845,https://github.com/apache/incubator-superset/pull/8845.diff,https://github.com/apache/incubator-superset/pull/8845.patch,,,,,,,,,,,,,,,,,,
24,https://api.github.com/repos/apache/incubator-superset/issues/8844,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8844/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8844/comments,https://api.github.com/repos/apache/incubator-superset/issues/8844/events,https://github.com/apache/incubator-superset/issues/8844,538588948,MDU6SXNzdWU1Mzg1ODg5NDg=,8844,Document how to create a completely fresh reinstall of Superset,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,2,2019-12-16T18:50:39Z,2019-12-18T13:58:16Z,,NONE,"[Here](https://github.com/apache/incubator-superset/issues/8795#issuecomment-564113924) we read:

> create a clean/new virtualenv and reinstall superset and dependencies

without a link to anywhere in the docs stating how to reinstall superset and erase any previous install. for instance, the database in `$HOME/.superset/superset.db` needs to be removed for a new installation to truly work.

reinstalling superset without doing so will create database clashes when you attempt to create the admin user.",incubator-superset,apache,metaperl,21293,MDQ6VXNlcjIxMjkz,https://avatars3.githubusercontent.com/u/21293?v=4,,https://api.github.com/users/metaperl,https://github.com/metaperl,https://api.github.com/users/metaperl/followers,https://api.github.com/users/metaperl/following{/other_user},https://api.github.com/users/metaperl/gists{/gist_id},https://api.github.com/users/metaperl/starred{/owner}{/repo},https://api.github.com/users/metaperl/subscriptions,https://api.github.com/users/metaperl/orgs,https://api.github.com/users/metaperl/repos,https://api.github.com/users/metaperl/events{/privacy},https://api.github.com/users/metaperl/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
25,https://api.github.com/repos/apache/incubator-superset/issues/8843,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8843/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8843/comments,https://api.github.com/repos/apache/incubator-superset/issues/8843/events,https://github.com/apache/incubator-superset/issues/8843,538371488,MDU6SXNzdWU1MzgzNzE0ODg=,8843,Unable to build on Alpine Linux with PyArrow 0.15.1,"[{'id': 362184607, 'node_id': 'MDU6TGFiZWwzNjIxODQ2MDc=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/bug:external', 'name': 'bug:external', 'color': 'c0392b', 'default': False, 'description': 'Bug from external code'}]",open,False,,[],,2,2019-12-16T12:06:40Z,2019-12-18T16:03:38Z,,NONE,"PyArrow dep was [bumped to 0.15.1 recently](https://github.com/apache/incubator-superset/pull/8583). Unfortunately the installation of this version errors out on Alpine as below.

### Expected results

Successful installation on Alpine of PyArrow, subsequently Superset..

### Actual results

Have tried 2 routes: 1. a direct pip install, and 2. a manual build of PyArrow 0.15.1.

1. Direct pip3 install of `pyarrow==0.15.1` fails as follows, even though numpy was installed:
```
  Configured for RELEASE build (set with cmake -DCMAKE_BUILD_TYPE={release,debug,...})
  -- Build Type: RELEASE
  -- Build output directory: /tmp/pip-install-qe4_90uh/pyarrow/build/temp.linux-x86_64-3.7/release
  -- Found PythonInterp: /usr/local/bin/python (found version ""3.7.5"")
  -- Searching for Python libs in /usr/local/lib64;/usr/local/lib;/usr/local/lib/python3.7/config-3.7m-x86_64-linux-gnu
  -- Looking for python3.7m
  -- Found Python lib /usr/local/lib/libpython3.7m.so
  -- Found PythonLibs: /usr/local/lib/libpython3.7m.so
  CMake Error at cmake_modules/FindNumPy.cmake:62 (message):
    NumPy import failure:

    Traceback (most recent call last):

      File ""<string>"", line 1, in <module>

    ModuleNotFoundError: No module named 'numpy'

  Call Stack (most recent call first):
    CMakeLists.txt:189 (find_package)


  -- Configuring incomplete, errors occurred!
  See also ""/tmp/pip-install-qe4_90uh/pyarrow/build/temp.linux-x86_64-3.7/CMakeFiles/CMakeOutput.log"".
  See also ""/tmp/pip-install-qe4_90uh/pyarrow/build/temp.linux-x86_64-3.7/CMakeFiles/CMakeError.log"".
  error: command 'cmake' failed with exit status 1
  ----------------------------------------
  ERROR: Failed building wheel for pyarrow
```

2. Building from the 0.15.1 tarball fails reproducibly with a flatbuffers_ep compile error, as per [this Apache Arrow ticket](https://github.com/apache/arrow/issues/6028).

*Note* that `flatbuffers_ep` is gone in Arrow since 0.15.1 was cut, and PyArrow builds fine on Alpine from the project's master.

#### How to reproduce

Simple build with pre-reqs: 

```Dockerfile
FROM python:3.7-alpine

# Configure environment
RUN apk add autoconf \
    bash \
    bison \
    boost-dev \
    cmake \
    cython \
    flex \
    g++ \
    gcc \
    make

RUN pip3 install --no-cache-dir \
    six \
    cython \
    numpy

# confirm that numpy is installed
RUN python -c ""import numpy; print(numpy.__version__)""
# outputs 1.17.4

RUN pip3 install pyarrow==0.15.1
```

### Environment

- superset version: current master
- python version: 3.7.5
- node.js version: N/A
- npm version: N/A

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Best route for Alpine at this point seems to be
- stick to 0.14.1, unless affected by the CVE's that triggered the PyArrow version bump
- move to next PyArrow release once available

Am I missing something? Any other thoughts / pointers?",incubator-superset,apache,uros-tm,51889619,MDQ6VXNlcjUxODg5NjE5,https://avatars1.githubusercontent.com/u/51889619?v=4,,https://api.github.com/users/uros-tm,https://github.com/uros-tm,https://api.github.com/users/uros-tm/followers,https://api.github.com/users/uros-tm/following{/other_user},https://api.github.com/users/uros-tm/gists{/gist_id},https://api.github.com/users/uros-tm/starred{/owner}{/repo},https://api.github.com/users/uros-tm/subscriptions,https://api.github.com/users/uros-tm/orgs,https://api.github.com/users/uros-tm/repos,https://api.github.com/users/uros-tm/events{/privacy},https://api.github.com/users/uros-tm/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
26,https://api.github.com/repos/apache/incubator-superset/issues/8842,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8842/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8842/comments,https://api.github.com/repos/apache/incubator-superset/issues/8842/events,https://github.com/apache/incubator-superset/issues/8842,538344755,MDU6SXNzdWU1MzgzNDQ3NTU=,8842,Cant creating chart in superset via Kylin,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-12-16T11:11:51Z,2019-12-16T11:11:54Z,,NONE,"First of all, we connected Kylin to superset using Kylin's connection string. So we've been able to see Kylin tables in Superset. But when we try to create a chart we saw the error given below.  

![Ek Açıklama 2019-12-16 133227](https://user-images.githubusercontent.com/34449619/70899852-9cc1df80-2008-11ea-903d-1565424fb5c4.jpg)

Then we changed the "" /opt/rh/rh-python36/root/usr/lib/python3.6/site-packages/kylinpy/sqla_dialect.py "" file. We changed initial code as shown above into configuration like that initial_quote=' ', escape_quote= ' '. 

```
    def __init__(self, dialect, initial_quote='""',
                 final_quote= None , escape_quote= '""', omit_schema=True):
        super(KylinIdentifierPreparer, self).__init__(
            dialect, initial_quote, final_quote, escape_quote, omit_schema
        )

```

That's how we've been able to preview the table but then when we try to create a bar chart the problem remained and our query looked like that;

![1Ek Açıklama 2019-12-16 135045](https://user-images.githubusercontent.com/34449619/70901142-42764e00-200b-11ea-977a-0a08874600d2.jpg)

However the same table and the same query is working when we use Impala as shown below.

![2Ek Açıklama 2019-12-16 140529](https://user-images.githubusercontent.com/34449619/70902111-28d60600-200d-11ea-82a5-e0d73341bf61.jpg)


### Environment

- superset version: `0.30.0`
- python version: `3.6.3`
- kylin version: `3.0`
- kylin.py version: `2.3.1`
- impala version: `0.13.7`
",incubator-superset,apache,oguzhan10,34449619,MDQ6VXNlcjM0NDQ5NjE5,https://avatars1.githubusercontent.com/u/34449619?v=4,,https://api.github.com/users/oguzhan10,https://github.com/oguzhan10,https://api.github.com/users/oguzhan10/followers,https://api.github.com/users/oguzhan10/following{/other_user},https://api.github.com/users/oguzhan10/gists{/gist_id},https://api.github.com/users/oguzhan10/starred{/owner}{/repo},https://api.github.com/users/oguzhan10/subscriptions,https://api.github.com/users/oguzhan10/orgs,https://api.github.com/users/oguzhan10/repos,https://api.github.com/users/oguzhan10/events{/privacy},https://api.github.com/users/oguzhan10/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
27,https://api.github.com/repos/apache/incubator-superset/issues/8841,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8841/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8841/comments,https://api.github.com/repos/apache/incubator-superset/issues/8841/events,https://github.com/apache/incubator-superset/issues/8841,538335997,MDU6SXNzdWU1MzgzMzU5OTc=,8841,/shortner API does not take into account when Superset is behind a reverse proxy to be served over HTTPS,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,2,2019-12-16T10:54:28Z,2019-12-16T11:41:15Z,,NONE,"When Superset is served over HTTPS by a reverse proxy (nginx/Apache), the generated URL has ""http"" as scheme instead of ""https"".
The URL scheme is generated from the value of `request.scheme`, but it should take into account also headers like X-Forwarded-Proto and, in general, X-Forwarded-* headers (e.g for host).

https://github.com/apache/incubator-superset/blob/20e68c87402414fabb3e0fd715be487fa7ebf5cc/superset/views/core.py#L670

### Expected results

The URL starts with ""https://""

### Actual results

The URL starts with ""http://""

#### Screenshots

#### How to reproduce the bug

1. Put nginx or Apache in front of Superset to serve it over HTTPS 
(Superset has config ""ENABLE_PROXY_FIX = True"" and the server adds the header X-Forwarded-Proto and sets it to ""https"")
2. Go to a dashboard
3. Click on the arrow on the right, then click to ""Share dashboard""
4. See error

### Environment

- superset version: 0.34.0
- python version: 3.6.9

### Checklist

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

HTTPS works as expected on all others urls without problems, the reverse proxy redirects all the requests from http to https.
",incubator-superset,apache,PeterCahn,19549658,MDQ6VXNlcjE5NTQ5NjU4,https://avatars1.githubusercontent.com/u/19549658?v=4,,https://api.github.com/users/PeterCahn,https://github.com/PeterCahn,https://api.github.com/users/PeterCahn/followers,https://api.github.com/users/PeterCahn/following{/other_user},https://api.github.com/users/PeterCahn/gists{/gist_id},https://api.github.com/users/PeterCahn/starred{/owner}{/repo},https://api.github.com/users/PeterCahn/subscriptions,https://api.github.com/users/PeterCahn/orgs,https://api.github.com/users/PeterCahn/repos,https://api.github.com/users/PeterCahn/events{/privacy},https://api.github.com/users/PeterCahn/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
28,https://api.github.com/repos/apache/incubator-superset/issues/8840,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8840/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8840/comments,https://api.github.com/repos/apache/incubator-superset/issues/8840/events,https://github.com/apache/incubator-superset/issues/8840,538276588,MDU6SXNzdWU1MzgyNzY1ODg=,8840,Export data from Superset to Google sheets,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-12-16T09:06:22Z,2019-12-16T09:06:26Z,,NONE,Is there any way to connect google sheet to superset so that data from superset can be exported to google sheets directly instead of exporting it to csv on local machine?,incubator-superset,apache,hemantaggarwal,31547162,MDQ6VXNlcjMxNTQ3MTYy,https://avatars0.githubusercontent.com/u/31547162?v=4,,https://api.github.com/users/hemantaggarwal,https://github.com/hemantaggarwal,https://api.github.com/users/hemantaggarwal/followers,https://api.github.com/users/hemantaggarwal/following{/other_user},https://api.github.com/users/hemantaggarwal/gists{/gist_id},https://api.github.com/users/hemantaggarwal/starred{/owner}{/repo},https://api.github.com/users/hemantaggarwal/subscriptions,https://api.github.com/users/hemantaggarwal/orgs,https://api.github.com/users/hemantaggarwal/repos,https://api.github.com/users/hemantaggarwal/events{/privacy},https://api.github.com/users/hemantaggarwal/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
29,https://api.github.com/repos/apache/incubator-superset/issues/8839,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8839/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8839/comments,https://api.github.com/repos/apache/incubator-superset/issues/8839/events,https://github.com/apache/incubator-superset/pull/8839,538242967,MDExOlB1bGxSZXF1ZXN0MzUzNDIyODg4,8839,set dashboard owner can set role that access all charts of the dashboard,"[{'id': 1329203144, 'node_id': 'MDU6TGFiZWwxMzI5MjAzMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/M', 'name': 'size/M', 'color': '705FA3', 'default': False, 'description': ''}]",open,False,,[],,0,2019-12-16T07:48:36Z,2019-12-16T07:48:40Z,,NONE," add table dashboard_role.
 add dashboard editable field can_access_role.
 save role perm but not delete, because perm may added by other way.

access_request redirect url lost ""/""  

### CATEGORY

Choose one

- [ ] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,626626cdllp,20157705,MDQ6VXNlcjIwMTU3NzA1,https://avatars1.githubusercontent.com/u/20157705?v=4,,https://api.github.com/users/626626cdllp,https://github.com/626626cdllp,https://api.github.com/users/626626cdllp/followers,https://api.github.com/users/626626cdllp/following{/other_user},https://api.github.com/users/626626cdllp/gists{/gist_id},https://api.github.com/users/626626cdllp/starred{/owner}{/repo},https://api.github.com/users/626626cdllp/subscriptions,https://api.github.com/users/626626cdllp/orgs,https://api.github.com/users/626626cdllp/repos,https://api.github.com/users/626626cdllp/events{/privacy},https://api.github.com/users/626626cdllp/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8839,https://github.com/apache/incubator-superset/pull/8839,https://github.com/apache/incubator-superset/pull/8839.diff,https://github.com/apache/incubator-superset/pull/8839.patch,,,,,,,,,,,,,,,,,,
30,https://api.github.com/repos/apache/incubator-superset/issues/8838,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8838/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8838/comments,https://api.github.com/repos/apache/incubator-superset/issues/8838/events,https://github.com/apache/incubator-superset/pull/8838,538135198,MDExOlB1bGxSZXF1ZXN0MzUzMzM2MDQ3,8838,Making SECRET_KEY the same in test and default,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,4,2019-12-16T00:58:25Z,2019-12-17T08:07:58Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [ ] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [x] Build / Development Environment
- [ ] Documentation

### SUMMARY
The Flask secret key was different in the default config as compared to the test config. This caused issues when running the ""load examples"" and then subsequently running unit tests against the same DB in order to repro issues, etc. 

### REVIEWERS
@dpgaspar @john-bodley 
",incubator-superset,apache,craig-rueda,2595291,MDQ6VXNlcjI1OTUyOTE=,https://avatars0.githubusercontent.com/u/2595291?v=4,,https://api.github.com/users/craig-rueda,https://github.com/craig-rueda,https://api.github.com/users/craig-rueda/followers,https://api.github.com/users/craig-rueda/following{/other_user},https://api.github.com/users/craig-rueda/gists{/gist_id},https://api.github.com/users/craig-rueda/starred{/owner}{/repo},https://api.github.com/users/craig-rueda/subscriptions,https://api.github.com/users/craig-rueda/orgs,https://api.github.com/users/craig-rueda/repos,https://api.github.com/users/craig-rueda/events{/privacy},https://api.github.com/users/craig-rueda/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8838,https://github.com/apache/incubator-superset/pull/8838,https://github.com/apache/incubator-superset/pull/8838.diff,https://github.com/apache/incubator-superset/pull/8838.patch,,,,,,,,,,,,,,,,,,
31,https://api.github.com/repos/apache/incubator-superset/issues/8837,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8837/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8837/comments,https://api.github.com/repos/apache/incubator-superset/issues/8837/events,https://github.com/apache/incubator-superset/issues/8837,538058819,MDU6SXNzdWU1MzgwNTg4MTk=,8837,[Question] How to filter date data with bar chart.,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,6,2019-12-15T14:30:41Z,2019-12-16T16:19:12Z,,NONE,"Hello everybody, thank you for reading this.

To explain what I want to get, let's say there is table that has 3 columns: name, starting date, ending date. I want to show how many days are in between starting date to ending date with bar graph grouped by name so that X axis shows names and Y axis shows the number of days. For instance one row has name ""A"", starting date 2019-10-15, ending date 2019-10-30 so one bar will show name A has 15 days. This was easy when I do without time filter but problem I found is that when I want to show how many days are in certain time frame that user set. For instance, when user wants to see only for 2019-10-20 to 2019-12-01 from same data above, it should show only 10 instead of 15. I hope my question makes sense.

Does anybody have good idea how to solve this?",incubator-superset,apache,mingyumkim93,43638576,MDQ6VXNlcjQzNjM4NTc2,https://avatars2.githubusercontent.com/u/43638576?v=4,,https://api.github.com/users/mingyumkim93,https://github.com/mingyumkim93,https://api.github.com/users/mingyumkim93/followers,https://api.github.com/users/mingyumkim93/following{/other_user},https://api.github.com/users/mingyumkim93/gists{/gist_id},https://api.github.com/users/mingyumkim93/starred{/owner}{/repo},https://api.github.com/users/mingyumkim93/subscriptions,https://api.github.com/users/mingyumkim93/orgs,https://api.github.com/users/mingyumkim93/repos,https://api.github.com/users/mingyumkim93/events{/privacy},https://api.github.com/users/mingyumkim93/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
32,https://api.github.com/repos/apache/incubator-superset/issues/8834,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8834/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8834/comments,https://api.github.com/repos/apache/incubator-superset/issues/8834/events,https://github.com/apache/incubator-superset/issues/8834,537780791,MDU6SXNzdWU1Mzc3ODA3OTE=,8834,Regularize and clarify the security documentation?,[],open,False,,[],,1,2019-12-13T21:15:23Z,2019-12-13T21:17:23Z,,NONE,"Hello, I've been trying to read [the Superset security docs](https://superset.incubator.apache.org/security.html). In doing so, I have noticed certain things and had certain questions/suggestions:

# Tabulate the abilities of each built-in role

When reading the informal description of the built-in roles, I felt a need to tabulate and categorize the various functionalities. I'm aware that a comprehensive tabulation would include all 5 rights `(can_edit, can_show, can_delete, can_list, can_add)`, but I think something like this would help people have a definite idea of what is available to which role:

https://docs.google.com/spreadsheets/d/1ZHyPLmNCj8OceCFCSN7Qrd-tbj1pNcJE9hzjRtokIx8/edit?usp=sharing

Continuing through the docs, I see the phrase:

> Alpha users have access to all data sources

and my question is:

# What is a ""data source""? Please define it.

How many ways can they be created? Is there a Venn diagram that clearly depicts the relationship of datasources to schemas, databases and their tables and the various operations of Superset?

The user interace has a ""Sources"" menu item, which leads one to believe that databases and tables are the only things that are data sources, but this cannot be. Firstly because there are also [schema-level permissions](https://github.com/apache/incubator-superset/pull/8219). Next, because we know that [data sources can be created via the Visualize button](https://github.com/apache/incubator-superset/issues/2798).

So again, it would be nice to know what constitutes a data source.

Under [Managing Gamma per data source access
](https://superset.incubator.apache.org/security.html#managing-gamma-per-data-source-access) we read

> Here’s how to provide users access to only specific datasets.

And the question is:

# ""what is a **dataset** and does it differ from a **data source**? 

If the two are the same, then why not use a single, canonical, well-defined term instead of introducing confusion by the use of undefined synonyms-by-inference?




",incubator-superset,apache,metaperl,21293,MDQ6VXNlcjIxMjkz,https://avatars3.githubusercontent.com/u/21293?v=4,,https://api.github.com/users/metaperl,https://github.com/metaperl,https://api.github.com/users/metaperl/followers,https://api.github.com/users/metaperl/following{/other_user},https://api.github.com/users/metaperl/gists{/gist_id},https://api.github.com/users/metaperl/starred{/owner}{/repo},https://api.github.com/users/metaperl/subscriptions,https://api.github.com/users/metaperl/orgs,https://api.github.com/users/metaperl/repos,https://api.github.com/users/metaperl/events{/privacy},https://api.github.com/users/metaperl/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
33,https://api.github.com/repos/apache/incubator-superset/issues/8831,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8831/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8831/comments,https://api.github.com/repos/apache/incubator-superset/issues/8831/events,https://github.com/apache/incubator-superset/issues/8831,537459841,MDU6SXNzdWU1Mzc0NTk4NDE=,8831,Cannot filter based on druid lookup dimension,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,2,2019-12-13T10:09:23Z,2019-12-13T16:34:58Z,,NONE,"I am trying to filter with bound > operator on a druid lookup dimension, and it does not work. 

### Expected results

Expected to work same as any other dimension i am filtering. 

### Actual results

![image](https://user-images.githubusercontent.com/3808966/70791662-2d49b700-1da0-11ea-85ac-a6dc4f2cd824.png)

#### How to reproduce the bug

- Add a druid datasource to superset
- Publish a lookup to the druid cluster
- Define in the datasource a custom dimension based on a lookup such as:
```
{
    ""type"": ""extraction"",
    ""dimension"": ""publisher_id"",
    ""outputName"": ""publisher_first_revenue_month"",
    ""outputType"": ""LONG"",
    ""extractionFn"": {
        ""type"": ""registeredLookup"",
        ""optimize"": true,
        ""lookup"": ""publisher_first_revenue_month""
    }
}    
```
In the explore screen, generate a query using the custom dimension as the filter criteria with a bound operator (>, < , >=, <=). And the error from pydruid will show up.

### Environment

- superset version: `0.35.0`
- python version: `3.6`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

",incubator-superset,apache,stelios313,3808966,MDQ6VXNlcjM4MDg5NjY=,https://avatars1.githubusercontent.com/u/3808966?v=4,,https://api.github.com/users/stelios313,https://github.com/stelios313,https://api.github.com/users/stelios313/followers,https://api.github.com/users/stelios313/following{/other_user},https://api.github.com/users/stelios313/gists{/gist_id},https://api.github.com/users/stelios313/starred{/owner}{/repo},https://api.github.com/users/stelios313/subscriptions,https://api.github.com/users/stelios313/orgs,https://api.github.com/users/stelios313/repos,https://api.github.com/users/stelios313/events{/privacy},https://api.github.com/users/stelios313/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
34,https://api.github.com/repos/apache/incubator-superset/issues/8830,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8830/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8830/comments,https://api.github.com/repos/apache/incubator-superset/issues/8830/events,https://github.com/apache/incubator-superset/issues/8830,537445562,MDU6SXNzdWU1Mzc0NDU1NjI=,8830,Missing CSRF token when embedding dashboard using iframe in development mode,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,5,2019-12-13T09:39:57Z,2019-12-17T18:51:57Z,,NONE,"### Expected results
I am trying out superset for the first time. I am currently running it in development mode from my local machine and want to embed the dashboards I created in an html using iframes 
`<iframe src=""http://172.20.33.111:8088/superset/dashboard/7/?standalone=true""
								height=""600"" width=""1200"">` 

The embed asks for login credentials and then throws a `CSRF token is missing` error. 

#### Screenshots

Same as [#8382]

#### How to reproduce the bug

Launch Apache Superset using superset run -h 0.0.0.0 -p 8088

Connect the link via iframe into another separate webpage
See error

### Environment

-  superset package version: `0.35.1`
- python version: `3.6.7`
- node.js version: `v8.10.0`
- npm version: `3.5.2`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context
As per [#8382], I have updated the `SESSION_COOKIE_SAMESITE` value to None, but it didn't work for me. 

",incubator-superset,apache,azure31,6259904,MDQ6VXNlcjYyNTk5MDQ=,https://avatars2.githubusercontent.com/u/6259904?v=4,,https://api.github.com/users/azure31,https://github.com/azure31,https://api.github.com/users/azure31/followers,https://api.github.com/users/azure31/following{/other_user},https://api.github.com/users/azure31/gists{/gist_id},https://api.github.com/users/azure31/starred{/owner}{/repo},https://api.github.com/users/azure31/subscriptions,https://api.github.com/users/azure31/orgs,https://api.github.com/users/azure31/repos,https://api.github.com/users/azure31/events{/privacy},https://api.github.com/users/azure31/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
35,https://api.github.com/repos/apache/incubator-superset/issues/8828,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8828/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8828/comments,https://api.github.com/repos/apache/incubator-superset/issues/8828/events,https://github.com/apache/incubator-superset/issues/8828,537275839,MDU6SXNzdWU1MzcyNzU4Mzk=,8828,Do we really need four different Python linters?,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}, {'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}]",open,False,,[],,8,2019-12-12T23:55:15Z,2019-12-20T01:06:12Z,,CONTRIBUTOR,"The rules often conflict with each other on things like import order or how you should break up long lines, leading to `disable` comments scattered all over the codebase and a lack of cohesive code style. How would folks feel about switching to just one?",incubator-superset,apache,suddjian,1858430,MDQ6VXNlcjE4NTg0MzA=,https://avatars0.githubusercontent.com/u/1858430?v=4,,https://api.github.com/users/suddjian,https://github.com/suddjian,https://api.github.com/users/suddjian/followers,https://api.github.com/users/suddjian/following{/other_user},https://api.github.com/users/suddjian/gists{/gist_id},https://api.github.com/users/suddjian/starred{/owner}{/repo},https://api.github.com/users/suddjian/subscriptions,https://api.github.com/users/suddjian/orgs,https://api.github.com/users/suddjian/repos,https://api.github.com/users/suddjian/events{/privacy},https://api.github.com/users/suddjian/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
36,https://api.github.com/repos/apache/incubator-superset/issues/8827,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8827/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8827/comments,https://api.github.com/repos/apache/incubator-superset/issues/8827/events,https://github.com/apache/incubator-superset/issues/8827,537235885,MDU6SXNzdWU1MzcyMzU4ODU=,8827,"Permit ""EXPLAIN"" with ""Allow DML"" unchecked","[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,2,2019-12-12T21:58:21Z,2019-12-13T01:03:19Z,,NONE,"**Is your feature request related to a problem? Please describe.**
`EXPLAIN` commands are essential to the workflow of many analysts; they are often a pre-cursor to a `SELECT`. `EXPLAIN`s are, however, not permitted with `Allow DML` unchecked. This is problematic.

**Describe the solution you'd like**
`EXPLAIN` should be allowed with `Allow DML` unchecked. This is not a destructive command. 

**Describe alternatives you've considered**
Maybe an independent checkbox? Not sure why we'd want this. 

",incubator-superset,apache,rubypollev,45610410,MDQ6VXNlcjQ1NjEwNDEw,https://avatars3.githubusercontent.com/u/45610410?v=4,,https://api.github.com/users/rubypollev,https://github.com/rubypollev,https://api.github.com/users/rubypollev/followers,https://api.github.com/users/rubypollev/following{/other_user},https://api.github.com/users/rubypollev/gists{/gist_id},https://api.github.com/users/rubypollev/starred{/owner}{/repo},https://api.github.com/users/rubypollev/subscriptions,https://api.github.com/users/rubypollev/orgs,https://api.github.com/users/rubypollev/repos,https://api.github.com/users/rubypollev/events{/privacy},https://api.github.com/users/rubypollev/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
37,https://api.github.com/repos/apache/incubator-superset/issues/8822,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8822/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8822/comments,https://api.github.com/repos/apache/incubator-superset/issues/8822/events,https://github.com/apache/incubator-superset/issues/8822,536959092,MDU6SXNzdWU1MzY5NTkwOTI=,8822,[Question] Using the charts that are generated by superset in another web app,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,1,2019-12-12T12:50:46Z,2019-12-12T12:50:49Z,,NONE,"We want to use superset as a standalone analytics app. But we also need to show some of the charts that are generated by superset in our web app.
1) What are our options for doing this?
2) Is there a best/recommended approach? (For now)
3) Is there any guide/documentation for doing this?

I'm aware that similar questions have been asked before and apologize for asking. I have read all of those threads. But I wasn't able to make a conclusion.",incubator-superset,apache,VERSAYANA,20874813,MDQ6VXNlcjIwODc0ODEz,https://avatars2.githubusercontent.com/u/20874813?v=4,,https://api.github.com/users/VERSAYANA,https://github.com/VERSAYANA,https://api.github.com/users/VERSAYANA/followers,https://api.github.com/users/VERSAYANA/following{/other_user},https://api.github.com/users/VERSAYANA/gists{/gist_id},https://api.github.com/users/VERSAYANA/starred{/owner}{/repo},https://api.github.com/users/VERSAYANA/subscriptions,https://api.github.com/users/VERSAYANA/orgs,https://api.github.com/users/VERSAYANA/repos,https://api.github.com/users/VERSAYANA/events{/privacy},https://api.github.com/users/VERSAYANA/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
38,https://api.github.com/repos/apache/incubator-superset/issues/8821,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8821/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8821/comments,https://api.github.com/repos/apache/incubator-superset/issues/8821/events,https://github.com/apache/incubator-superset/issues/8821,536864182,MDU6SXNzdWU1MzY4NjQxODI=,8821,Can we save superset metadata tables  to oracle db instead of postgres db.,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,19,2019-12-12T09:44:13Z,2019-12-20T10:39:08Z,,NONE,"A clear and concise description of what the bug is.

### Expected results

what you expected to happen.

### Actual results

what actually happens.

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

### Environment

(please complete the following information):

- superset version: `superset version`
- python version: `python --version`
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,umesh11111,43033939,MDQ6VXNlcjQzMDMzOTM5,https://avatars0.githubusercontent.com/u/43033939?v=4,,https://api.github.com/users/umesh11111,https://github.com/umesh11111,https://api.github.com/users/umesh11111/followers,https://api.github.com/users/umesh11111/following{/other_user},https://api.github.com/users/umesh11111/gists{/gist_id},https://api.github.com/users/umesh11111/starred{/owner}{/repo},https://api.github.com/users/umesh11111/subscriptions,https://api.github.com/users/umesh11111/orgs,https://api.github.com/users/umesh11111/repos,https://api.github.com/users/umesh11111/events{/privacy},https://api.github.com/users/umesh11111/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
39,https://api.github.com/repos/apache/incubator-superset/issues/8819,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8819/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8819/comments,https://api.github.com/repos/apache/incubator-superset/issues/8819/events,https://github.com/apache/incubator-superset/issues/8819,536809350,MDU6SXNzdWU1MzY4MDkzNTA=,8819,Cannot add new country to CountryMap chart,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,2,2019-12-12T07:42:50Z,2019-12-16T11:49:08Z,,NONE,"I was trying add new country following to https://superset.apache.org/visualization.html#need-to-add-a-new-country, however it doesn't work - new country is visable in dropdown, but when I click on it, map is blank.


### Expected results

Can display new added map from .geojson

### Actual results
![image](https://user-images.githubusercontent.com/5133050/70693016-db7c3080-1cbc-11ea-857b-36b79c11e20e.png)

I get 404 when I click new country on dropdown map is fetching:
```
Request URL: http://localhost:5000/superset/explore/undefined
Status Code: 404 NOT FOUND
```

Other (default) maps works properly:

```
Request URL: http://localhost:5000/static/assets/dist/5f64d14062abb5f5fd6610972976ebe6.geojson
Status Code: 200 OK
```

I was able to resolve this issue by editing `assets/node_modules/@superset-ui/legacy-plugin-chart-country-map/countries.js` and add `.geojson` file to this directory. So it means that maps are fetched from npm package? 

#### How to reproduce the bug

https://superset.apache.org/visualization.html#need-to-add-a-new-country

### Environment

- superset version: `0.999.0dev`
- python version: `Python 3.7.5`
- node.js version: `v12.12.0`
- npm version: `6.11.3`

I built superset from source.",incubator-superset,apache,barmic12,5133050,MDQ6VXNlcjUxMzMwNTA=,https://avatars2.githubusercontent.com/u/5133050?v=4,,https://api.github.com/users/barmic12,https://github.com/barmic12,https://api.github.com/users/barmic12/followers,https://api.github.com/users/barmic12/following{/other_user},https://api.github.com/users/barmic12/gists{/gist_id},https://api.github.com/users/barmic12/starred{/owner}{/repo},https://api.github.com/users/barmic12/subscriptions,https://api.github.com/users/barmic12/orgs,https://api.github.com/users/barmic12/repos,https://api.github.com/users/barmic12/events{/privacy},https://api.github.com/users/barmic12/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
40,https://api.github.com/repos/apache/incubator-superset/issues/8818,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8818/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8818/comments,https://api.github.com/repos/apache/incubator-superset/issues/8818/events,https://github.com/apache/incubator-superset/issues/8818,536746913,MDU6SXNzdWU1MzY3NDY5MTM=,8818,Superset dashboard  or no data loading after login,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1151895046, 'node_id': 'MDU6TGFiZWwxMTUxODk1MDQ2', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.docker', 'name': '.docker', 'color': 'ecf0f1', 'default': False, 'description': ''}]",open,False,,[],,18,2019-12-12T04:14:55Z,2019-12-23T13:19:28Z,,NONE,"Even after successful docker-compose up with latest updates from master branch after login welcome page keeps loading no dashboards  or no data can be seen.
Checked the logs for PostgreSQL in image no error or exception in logs.
Even executed docker-init.sh successfully.

### Expected results

Superset should load default roles and dashboard after login.

### Actual results

welcome page keeps loading after login, no dashboards  or no data can be seen.

#### Screenshots

![issue_superset](https://user-images.githubusercontent.com/26441206/70682143-d969a000-1cc3-11ea-8819-d5435ded8428.PNG)


#### How to reproduce the bug

1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

### Environment

(please complete the following information):

- superset version: `superset version`
- python version: `python --version`
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,swapnil-chenoa,26441206,MDQ6VXNlcjI2NDQxMjA2,https://avatars1.githubusercontent.com/u/26441206?v=4,,https://api.github.com/users/swapnil-chenoa,https://github.com/swapnil-chenoa,https://api.github.com/users/swapnil-chenoa/followers,https://api.github.com/users/swapnil-chenoa/following{/other_user},https://api.github.com/users/swapnil-chenoa/gists{/gist_id},https://api.github.com/users/swapnil-chenoa/starred{/owner}{/repo},https://api.github.com/users/swapnil-chenoa/subscriptions,https://api.github.com/users/swapnil-chenoa/orgs,https://api.github.com/users/swapnil-chenoa/repos,https://api.github.com/users/swapnil-chenoa/events{/privacy},https://api.github.com/users/swapnil-chenoa/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
41,https://api.github.com/repos/apache/incubator-superset/issues/8817,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8817/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8817/comments,https://api.github.com/repos/apache/incubator-superset/issues/8817/events,https://github.com/apache/incubator-superset/pull/8817,536715760,MDExOlB1bGxSZXF1ZXN0MzUyMTk4NjYx,8817,[sip-15] Displaying endpoints for all start/end time ranges,"[{'id': 1330950144, 'node_id': 'MDU6TGFiZWwxMzMwOTUwMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/S', 'name': 'size/S', 'color': 'C8B6FF', 'default': False, 'description': ''}]",open,False,,[],,1,2019-12-12T02:12:03Z,2019-12-12T02:24:21Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [ ] Bug Fix
- [x] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY

This PR adds the SIP-15 endpoints to all time ranges which include a start and/or end as not just those containing a timestamp. This helps to provide more transparency. Note the conditional logic has mostly been reverted to what was changed [here](https://github.com/apache/incubator-superset/pull/8398/files).

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF

<img width=""310"" alt=""Screen Shot 2019-12-12 at 3 03 20 PM"" src=""https://user-images.githubusercontent.com/4567245/70676620-a938f600-1cf1-11ea-91b7-43a2bda467a5.png"">
<img width=""208"" alt=""Screen Shot 2019-12-12 at 3 03 31 PM"" src=""https://user-images.githubusercontent.com/4567245/70676621-a938f600-1cf1-11ea-9c2a-a33b1982f6b8.png"">
<img width=""327"" alt=""Screen Shot 2019-12-12 at 3 03 44 PM"" src=""https://user-images.githubusercontent.com/4567245/70676622-a938f600-1cf1-11ea-8475-53b3ff88ab5c.png"">
<img width=""116"" alt=""Screen Shot 2019-12-12 at 3 11 36 PM"" src=""https://user-images.githubusercontent.com/4567245/70676638-b6ee7b80-1cf1-11ea-88dc-5dbee1e4bb50.png"">

### TEST PLAN

CI and manual testing. 

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS

to: @etr2460 @michellethomas ",incubator-superset,apache,john-bodley,4567245,MDQ6VXNlcjQ1NjcyNDU=,https://avatars1.githubusercontent.com/u/4567245?v=4,,https://api.github.com/users/john-bodley,https://github.com/john-bodley,https://api.github.com/users/john-bodley/followers,https://api.github.com/users/john-bodley/following{/other_user},https://api.github.com/users/john-bodley/gists{/gist_id},https://api.github.com/users/john-bodley/starred{/owner}{/repo},https://api.github.com/users/john-bodley/subscriptions,https://api.github.com/users/john-bodley/orgs,https://api.github.com/users/john-bodley/repos,https://api.github.com/users/john-bodley/events{/privacy},https://api.github.com/users/john-bodley/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8817,https://github.com/apache/incubator-superset/pull/8817,https://github.com/apache/incubator-superset/pull/8817.diff,https://github.com/apache/incubator-superset/pull/8817.patch,,,,,,,,,,,,,,,,,,
42,https://api.github.com/repos/apache/incubator-superset/issues/8816,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8816/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8816/comments,https://api.github.com/repos/apache/incubator-superset/issues/8816/events,https://github.com/apache/incubator-superset/pull/8816,536699755,MDExOlB1bGxSZXF1ZXN0MzUyMTg2MTM4,8816,Support DB perms,"[{'id': 1329203144, 'node_id': 'MDU6TGFiZWwxMzI5MjAzMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/M', 'name': 'size/M', 'color': '705FA3', 'default': False, 'description': ''}]",open,False,,[],,6,2019-12-12T01:12:07Z,2019-12-12T16:04:22Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [X] Bug Fix
- [] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

Currently, if a user has permissions to a given DB, they can't see charts or dashboards built on top of that DB, since `SliceFilter` and `DashboardFilter` ignore the DB permissions.

@mistercrunch I tried to fix this in the past (https://github.com/apache/incubator-superset/pull/6933), but I used the wrong permissions and we reverted the PR. This one uses the actual database permissions.

<!-- ### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF -->
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

Created users that have access to only a specific DB, and verified that the charts and dashboards showed up.

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS

@mistercrunch @dpgaspar ",incubator-superset,apache,betodealmeida,1534870,MDQ6VXNlcjE1MzQ4NzA=,https://avatars3.githubusercontent.com/u/1534870?v=4,,https://api.github.com/users/betodealmeida,https://github.com/betodealmeida,https://api.github.com/users/betodealmeida/followers,https://api.github.com/users/betodealmeida/following{/other_user},https://api.github.com/users/betodealmeida/gists{/gist_id},https://api.github.com/users/betodealmeida/starred{/owner}{/repo},https://api.github.com/users/betodealmeida/subscriptions,https://api.github.com/users/betodealmeida/orgs,https://api.github.com/users/betodealmeida/repos,https://api.github.com/users/betodealmeida/events{/privacy},https://api.github.com/users/betodealmeida/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8816,https://github.com/apache/incubator-superset/pull/8816,https://github.com/apache/incubator-superset/pull/8816.diff,https://github.com/apache/incubator-superset/pull/8816.patch,,,,,,,,,,,,,,,,,,
43,https://api.github.com/repos/apache/incubator-superset/issues/8811,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8811/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8811/comments,https://api.github.com/repos/apache/incubator-superset/issues/8811/events,https://github.com/apache/incubator-superset/issues/8811,536631686,MDU6SXNzdWU1MzY2MzE2ODY=,8811,Connection failed/refused when connecting to local PostgreSQL Database,[],open,False,,[],,7,2019-12-11T21:46:18Z,2019-12-12T09:48:55Z,,NONE,"I'm trying to connect Superset to my local PostreSQL database via this URI:
`postgresql://superset_user:password@localhost/superset
`
When I test the connection, I get the following error: 

`ERROR: {""error"": ""Connection failed!\n\nThe error message returned was:\n(psycopg2.OperationalError) could not connect to server: Connection refused\n\tIs the server running on host \""localhost\"" (127.0.0.1) and accepting\n\tTCP/IP connections on port 5432?\ncould not connect to server: Cannot assign requested address\n\tIs the server running on host \""localhost\"" (::1) and accepting\n\tTCP/IP connections on port 5432?\n\n(Background on this error at: http://sqlalche.me/e/e3q8)"", ""stacktrace"": ""Traceback (most recent call last):\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py\"", line 2265, in _wrap_pool_connect\n    return fn()\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\"", line 303, in unique_connection\n    return _ConnectionFairy._checkout(self)\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\"", line 760, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\"", line 492, in checkout\n    rec = pool._do_get()\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/impl.py\"", line 238, in _do_get\n    return self._create_connection()\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\"", line 308, in _create_connection\n    return _ConnectionRecord(self)\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\"", line 437, in __init__\n    self.__connect(first_connect_check=True)\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/pool/base.py\"", line 639, in __connect\n    connection = pool._invoke_creator(self)\n  File \""/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py\"", line 114, in ...`

I tried all the variations of `host:port` such as 127.0.0.1:5432, but the connection still fails. 

The `\conninfo` output displays  `You are connected to database ""superset"" as user ""superset_user"" via socket in ""/var/run/postgresql"" at port ""5432"".`, so this should theoretically work.",incubator-superset,apache,klazaj,22456202,MDQ6VXNlcjIyNDU2MjAy,https://avatars1.githubusercontent.com/u/22456202?v=4,,https://api.github.com/users/klazaj,https://github.com/klazaj,https://api.github.com/users/klazaj/followers,https://api.github.com/users/klazaj/following{/other_user},https://api.github.com/users/klazaj/gists{/gist_id},https://api.github.com/users/klazaj/starred{/owner}{/repo},https://api.github.com/users/klazaj/subscriptions,https://api.github.com/users/klazaj/orgs,https://api.github.com/users/klazaj/repos,https://api.github.com/users/klazaj/events{/privacy},https://api.github.com/users/klazaj/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
44,https://api.github.com/repos/apache/incubator-superset/issues/8810,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8810/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8810/comments,https://api.github.com/repos/apache/incubator-superset/issues/8810/events,https://github.com/apache/incubator-superset/pull/8810,536562100,MDExOlB1bGxSZXF1ZXN0MzUyMDcxMjQ1,8810,factor out database model,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1332384320, 'node_id': 'MDU6TGFiZWwxMzMyMzg0MzIw', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XXL', 'name': 'size/XXL', 'color': '5A30DA', 'default': False, 'description': ''}]",open,False,,[],,0,2019-12-11T19:12:46Z,2019-12-18T03:24:01Z,,CONTRIBUTOR,"### CATEGORY

- [ ] Bug Fix
- [ ] Enhancement (new features, refinement)
- [x] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

Splits out the Database model into its own file.

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

Ran tests, performed various database-using actions locally with no issues

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API
",incubator-superset,apache,suddjian,1858430,MDQ6VXNlcjE4NTg0MzA=,https://avatars0.githubusercontent.com/u/1858430?v=4,,https://api.github.com/users/suddjian,https://github.com/suddjian,https://api.github.com/users/suddjian/followers,https://api.github.com/users/suddjian/following{/other_user},https://api.github.com/users/suddjian/gists{/gist_id},https://api.github.com/users/suddjian/starred{/owner}{/repo},https://api.github.com/users/suddjian/subscriptions,https://api.github.com/users/suddjian/orgs,https://api.github.com/users/suddjian/repos,https://api.github.com/users/suddjian/events{/privacy},https://api.github.com/users/suddjian/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8810,https://github.com/apache/incubator-superset/pull/8810,https://github.com/apache/incubator-superset/pull/8810.diff,https://github.com/apache/incubator-superset/pull/8810.patch,,,,,,,,,,,,,,,,,,
45,https://api.github.com/repos/apache/incubator-superset/issues/8808,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8808/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8808/comments,https://api.github.com/repos/apache/incubator-superset/issues/8808/events,https://github.com/apache/incubator-superset/issues/8808,536404421,MDU6SXNzdWU1MzY0MDQ0MjE=,8808,superset db upgrade returns foreign key constraint is incorrectly formed,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,7,2019-12-11T14:25:48Z,2019-12-12T13:08:08Z,,CONTRIBUTOR,"superset db upgrade returns  foreign key constraint is incorrectly formed. here is the log:
```
sqlalchemy.exc.OperationalError: (MySQLdb._exceptions.OperationalError) (1005, 'Can\'t create table `apache_superset`.`tab_state` (errno: 150 ""Foreign key constraint is incorrectly formed"")')
[SQL: 
CREATE TABLE tab_state (
	created_on DATETIME, 
	changed_on DATETIME, 
	extra_json TEXT, 
	id INTEGER NOT NULL AUTO_INCREMENT, 
	user_id INTEGER, 
	label VARCHAR(256), 
	active BOOL, 
	database_id INTEGER, 
	`schema` VARCHAR(256), 
	`sql` TEXT, 
	query_limit INTEGER, 
	latest_query_id VARCHAR(11), 
	autorun BOOL NOT NULL, 
	template_params TEXT, 
	created_by_fk INTEGER, 
	changed_by_fk INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(changed_by_fk) REFERENCES ab_user (id), 
	FOREIGN KEY(created_by_fk) REFERENCES ab_user (id), 
	FOREIGN KEY(database_id) REFERENCES dbs (id), 
	FOREIGN KEY(latest_query_id) REFERENCES query (client_id), 
	FOREIGN KEY(user_id) REFERENCES ab_user (id), 
	CHECK (active IN (0, 1)), 
	CHECK (autorun IN (0, 1))
)

]
(Background on this error at: http://sqlalche.me/e/e3q8)
```
### Expected results

what you expected to happen.

### Actual results

what actually happens.

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

### Environment

(please complete the following information):

- superset version: `superset version`
- python version: `python --version`
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [X] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [X] I have reproduced the issue with at least the latest released version of superset.
- [X] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,blcksrx,35199552,MDQ6VXNlcjM1MTk5NTUy,https://avatars0.githubusercontent.com/u/35199552?v=4,,https://api.github.com/users/blcksrx,https://github.com/blcksrx,https://api.github.com/users/blcksrx/followers,https://api.github.com/users/blcksrx/following{/other_user},https://api.github.com/users/blcksrx/gists{/gist_id},https://api.github.com/users/blcksrx/starred{/owner}{/repo},https://api.github.com/users/blcksrx/subscriptions,https://api.github.com/users/blcksrx/orgs,https://api.github.com/users/blcksrx/repos,https://api.github.com/users/blcksrx/events{/privacy},https://api.github.com/users/blcksrx/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
46,https://api.github.com/repos/apache/incubator-superset/issues/8807,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8807/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8807/comments,https://api.github.com/repos/apache/incubator-superset/issues/8807/events,https://github.com/apache/incubator-superset/issues/8807,536187660,MDU6SXNzdWU1MzYxODc2NjA=,8807,How to  Solve the problem that   Chinese characters are garbled when we connect Oracle(GBK)?,[],open,False,,[],,1,2019-12-11T07:18:07Z,2019-12-11T08:56:16Z,,NONE,"right now we can only connect the oracle with UTF-8 to show the right chinese,

how can i    Solve the Chinese garbled problem??

3Q  very much!!!!!",incubator-superset,apache,betterdc,33192980,MDQ6VXNlcjMzMTkyOTgw,https://avatars3.githubusercontent.com/u/33192980?v=4,,https://api.github.com/users/betterdc,https://github.com/betterdc,https://api.github.com/users/betterdc/followers,https://api.github.com/users/betterdc/following{/other_user},https://api.github.com/users/betterdc/gists{/gist_id},https://api.github.com/users/betterdc/starred{/owner}{/repo},https://api.github.com/users/betterdc/subscriptions,https://api.github.com/users/betterdc/orgs,https://api.github.com/users/betterdc/repos,https://api.github.com/users/betterdc/events{/privacy},https://api.github.com/users/betterdc/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
47,https://api.github.com/repos/apache/incubator-superset/issues/8805,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8805/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8805/comments,https://api.github.com/repos/apache/incubator-superset/issues/8805/events,https://github.com/apache/incubator-superset/issues/8805,536032228,MDU6SXNzdWU1MzYwMzIyMjg=,8805,[SIP-32] Proposal for moving frontend assets to the base of the repo,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}]",open,False,,[],,14,2019-12-10T22:31:42Z,2019-12-19T19:52:11Z,,CONTRIBUTOR,"## [SIP] Proposal for moving frontend assets to the base of the repo

### Motivation
Currently frontend assets are embedded in the superset package under `superset/assets/`, which is symlinked in`superset/assets/static`. This is really confusing for newcomers to the project as it's unclear why code appears to be duplicated. Additionally this is a UNIX symlink so the link isn't created on Windows machines. 

Moreover is seems there's code (eg, `MANIFEST.in`, `Dockerfile` ) that tries to work around the fact that the entire frontend exists in the superset module and most of these files are not needed during runtime. Things like whitelisting files and removing files after builds are workarounds to the actual issue and only add complexity to the problem. 

### Proposed Change
- Move the frontend code into a top level directory, something like `frontend` or `client`
- Configure webpack to output the built/dist files to `superset/assets/dist`. This can include the package.json (needed for version info) and any other necessary runtime files. 
- remove the symlinks. 
- update build scripts
- make sure everything works (local builds, docker builds, python package, CI, etc.)
- update documentation. 

### New or Changed Public Interfaces
[no changes]

### New dependencies
[no changes]

### Migration Plan and Compatibility

No major/breaking changes should be necessary. The bulk of the work would be around making sure no existing builds/scripts break and documentation is updated. Since most of the changes will only be moving files, rebases should be automatic, though this will probably require a lot of existing branches to be rebased. 

### Rejected Alternatives
1. Remove the symlink and move everything to `superset/static/assets` and continue to support the whitelisting in `MANIFEST.in` and the cleanup in `Dockerfile` and possibly other places. 
2. Continue to support the current file organization and continue to field questions such as: https://github.com/apache/incubator-superset/issues/8804
",incubator-superset,apache,nytai,10255196,MDQ6VXNlcjEwMjU1MTk2,https://avatars1.githubusercontent.com/u/10255196?v=4,,https://api.github.com/users/nytai,https://github.com/nytai,https://api.github.com/users/nytai/followers,https://api.github.com/users/nytai/following{/other_user},https://api.github.com/users/nytai/gists{/gist_id},https://api.github.com/users/nytai/starred{/owner}{/repo},https://api.github.com/users/nytai/subscriptions,https://api.github.com/users/nytai/orgs,https://api.github.com/users/nytai/repos,https://api.github.com/users/nytai/events{/privacy},https://api.github.com/users/nytai/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
48,https://api.github.com/repos/apache/incubator-superset/issues/8803,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8803/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8803/comments,https://api.github.com/repos/apache/incubator-superset/issues/8803/events,https://github.com/apache/incubator-superset/issues/8803,535735205,MDU6SXNzdWU1MzU3MzUyMDU=,8803,Invalid Columns message box in SQL Lab is not dismissed on Ok button click,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,2,2019-12-10T13:37:33Z,2019-12-11T01:23:56Z,,NONE,"A clear and concise description of what the bug is.

### Expected results

When clicked on the Ok button the invalid columns message box (in SQL Lab) should be dismissed.

### Actual results

The Error message dialog stays on

#### Screenshots


![image](https://user-images.githubusercontent.com/4610831/70533877-f8f7b000-1b7f-11ea-8ae3-d13d7bc39c4d.png)


#### How to reproduce the bug
1. Enter any query in SQL Lab (something like below:)
````
SELECT name AS name,
       ds AS __timestamp,
       SUM(num) AS sum__num,
       SUM(CASE
               WHEN state = 'CA' THEN num
               ELSE 0
           END) AS `SUM(num_california)`
FROM birth_names
INNER JOIN
  (SELECT name AS name__,
          SUM(num) AS mme_inner__
   FROM birth_names
   WHERE ds >= STR_TO_DATE('1919-12-10 00:00:00', '%Y-%m-%d %H:%i:%s')
     AND ds <= STR_TO_DATE('2019-12-10 04:13:03', '%Y-%m-%d %H:%i:%s')
   GROUP BY name
   ORDER BY SUM(CASE
                    WHEN state = 'CA' THEN num
                    ELSE 0
                END) DESC
   LIMIT 10) AS anon_1 ON name = name__
WHERE ds >= STR_TO_DATE('1919-12-10 00:00:00', '%Y-%m-%d %H:%i:%s')
  AND ds <= STR_TO_DATE('2019-12-10 04:13:03', '%Y-%m-%d %H:%i:%s')
GROUP BY name,
         ds
ORDER BY sum__num DESC
LIMIT 50000;
````
2. Run the query, and once the results are avilable click on the ""Explore"" button
3. You should see an error message regarding column names. Click on `ok` to dismiss the dialog. It won't go away


### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

https://github.com/apache/incubator-superset/blob/44d919c757fec0705f52cede8a1c6289fbf79817/superset/assets/src/SqlLab/components/ExploreResultsButton.jsx#L201-L205
",incubator-superset,apache,KrishnaPG,4610831,MDQ6VXNlcjQ2MTA4MzE=,https://avatars0.githubusercontent.com/u/4610831?v=4,,https://api.github.com/users/KrishnaPG,https://github.com/KrishnaPG,https://api.github.com/users/KrishnaPG/followers,https://api.github.com/users/KrishnaPG/following{/other_user},https://api.github.com/users/KrishnaPG/gists{/gist_id},https://api.github.com/users/KrishnaPG/starred{/owner}{/repo},https://api.github.com/users/KrishnaPG/subscriptions,https://api.github.com/users/KrishnaPG/orgs,https://api.github.com/users/KrishnaPG/repos,https://api.github.com/users/KrishnaPG/events{/privacy},https://api.github.com/users/KrishnaPG/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
49,https://api.github.com/repos/apache/incubator-superset/issues/8802,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8802/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8802/comments,https://api.github.com/repos/apache/incubator-superset/issues/8802/events,https://github.com/apache/incubator-superset/issues/8802,535512098,MDU6SXNzdWU1MzU1MTIwOTg=,8802,TypeError: Object doesn't support property or method 'forEach',"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1725119444, 'node_id': 'MDU6TGFiZWwxNzI1MTE5NDQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/internet-explorer', 'name': 'internet-explorer', 'color': '3149ea', 'default': False, 'description': ''}]",open,False,,[],,1,2019-12-10T05:57:40Z,2019-12-10T09:12:58Z,,NONE,"On opening superset dashboard using Internet Explorer (version  11.1130.17134.0)
and applying filter on time series line chart, the error throws:
Oops! An error occured!
TypeError: Object doesn't support property or method 'forEach'
Stack Trace:
in NVD3

in t

in div

in t

in t

in t

in t

in div

in div

in t

in t

in Connect(t)

in div

in div

in t

in Connect(t)

in div

in div

in t

in t

in div

in t

in DragSource(t)

in DropTarget(DragSource(t))

in t

in t

in Connect(t)

in div

in div

in t

in div

in t

in DragSource(t)

in DropTarget(DragSource(t))

in t

in t

in Connect(t)

in div

in div

in t

in Connect(t)

in div

in Transition

in t

in t

in div

in t

in t

in Uncontrolled(t)

in div

in t

in div

in div

in div

in t

in t

in Connect(t)

in t

in Connect(t)

in a

in Unknown

###Expected results
The time series line chart should have been displayed.
### Actual results
Oops! An error occured!
TypeError: Object doesn't support property or method 'forEach'
what actually happens.
### Environment 
Internet Explorer : version 11.1130.17134.0

- superset version: '0.30.0'
- python version: `Python 3.6.9'
- node.js version: `v13.2.0'
- npm version: '6.13.1'















",incubator-superset,apache,Singhania1705,40147566,MDQ6VXNlcjQwMTQ3NTY2,https://avatars2.githubusercontent.com/u/40147566?v=4,,https://api.github.com/users/Singhania1705,https://github.com/Singhania1705,https://api.github.com/users/Singhania1705/followers,https://api.github.com/users/Singhania1705/following{/other_user},https://api.github.com/users/Singhania1705/gists{/gist_id},https://api.github.com/users/Singhania1705/starred{/owner}{/repo},https://api.github.com/users/Singhania1705/subscriptions,https://api.github.com/users/Singhania1705/orgs,https://api.github.com/users/Singhania1705/repos,https://api.github.com/users/Singhania1705/events{/privacy},https://api.github.com/users/Singhania1705/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
50,https://api.github.com/repos/apache/incubator-superset/issues/8795,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8795/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8795/comments,https://api.github.com/repos/apache/incubator-superset/issues/8795/events,https://github.com/apache/incubator-superset/issues/8795,535016411,MDU6SXNzdWU1MzUwMTY0MTE=,8795,gunicorn cant find create_app(),"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 357044520, 'node_id': 'MDU6TGFiZWwzNTcwNDQ1MjA=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/cant-reproduce', 'name': 'cant-reproduce', 'color': '2c3e50', 'default': False, 'description': 'Issues that cannot be reproduced'}]",open,False,,[],,25,2019-12-09T15:45:49Z,2019-12-19T15:00:08Z,,CONTRIBUTOR,"gunicorn cant find create_app()
```
 gunicorn -b 0.0.0.0:6666 ""superset.app:create_app()""
[2019-12-09 19:14:22 +0330] [23027] [INFO] Starting gunicorn 19.9.0
[2019-12-09 19:14:22 +0330] [23027] [INFO] Listening at: http://0.0.0.0:6666 (23027)
[2019-12-09 19:14:22 +0330] [23027] [INFO] Using worker: sync
[2019-12-09 19:14:22 +0330] [23031] [INFO] Booting worker with pid: 23031
Loaded your LOCAL configuration at [/home/superset/superset_config.py]
2019-12-09 19:14:24,395:INFO:root:Configured event logger of type <class 'superset.utils.log.DBEventLogger'>
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/gunicorn/util.py"", line 362, in import_app
    app = eval(obj, vars(mod))
  File ""<string>"", line 1, in <module>
NameError: name 'create_app' is not defined
Failed to find application object 'create_app()' in 'superset.app'
[2019-12-09 19:14:25 +0330] [23031] [INFO] Worker exiting (pid: 23031)
[2019-12-09 19:14:26 +0330] [23027] [INFO] Shutting down: Master
[2019-12-09 19:14:26 +0330] [23027] [INFO] Reason: App failed to load.
```

### Expected results

what you expected to happen.

### Actual results

what actually happens.

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

### Environment

(please complete the following information):

- superset version: `superset version`
- python version: `python --version`
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,blcksrx,35199552,MDQ6VXNlcjM1MTk5NTUy,https://avatars0.githubusercontent.com/u/35199552?v=4,,https://api.github.com/users/blcksrx,https://github.com/blcksrx,https://api.github.com/users/blcksrx/followers,https://api.github.com/users/blcksrx/following{/other_user},https://api.github.com/users/blcksrx/gists{/gist_id},https://api.github.com/users/blcksrx/starred{/owner}{/repo},https://api.github.com/users/blcksrx/subscriptions,https://api.github.com/users/blcksrx/orgs,https://api.github.com/users/blcksrx/repos,https://api.github.com/users/blcksrx/events{/privacy},https://api.github.com/users/blcksrx/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
51,https://api.github.com/repos/apache/incubator-superset/issues/8794,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8794/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8794/comments,https://api.github.com/repos/apache/incubator-superset/issues/8794/events,https://github.com/apache/incubator-superset/issues/8794,535006943,MDU6SXNzdWU1MzUwMDY5NDM=,8794,"Superset, Presto and Kerberos","[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,4,2019-12-09T15:30:16Z,2019-12-20T07:17:41Z,,CONTRIBUTOR,"Superset cannot work with a kerberized Presto cluster due to a pyhive.

### Expected results

Superset to fetch data correctly from a kerberized Presto cluster.

### Actual results

The support to query a Kerberized Presto cluster was added in Pyhive, but upstream didn't not make any release (0.6.2 is in fact missing from Pypi https://pypi.org/project/PyHive).

If it was only for Hive support I wouldn't spend much time on Superset to fix this, but Presto's performances are really a game changer for data dashboarding. Is there any plan to explore alternative clients like presto-python-client? I could also offer some dev time to help if needed!
",incubator-superset,apache,elukey,1536240,MDQ6VXNlcjE1MzYyNDA=,https://avatars2.githubusercontent.com/u/1536240?v=4,,https://api.github.com/users/elukey,https://github.com/elukey,https://api.github.com/users/elukey/followers,https://api.github.com/users/elukey/following{/other_user},https://api.github.com/users/elukey/gists{/gist_id},https://api.github.com/users/elukey/starred{/owner}{/repo},https://api.github.com/users/elukey/subscriptions,https://api.github.com/users/elukey/orgs,https://api.github.com/users/elukey/repos,https://api.github.com/users/elukey/events{/privacy},https://api.github.com/users/elukey/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
52,https://api.github.com/repos/apache/incubator-superset/issues/8792,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8792/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8792/comments,https://api.github.com/repos/apache/incubator-superset/issues/8792/events,https://github.com/apache/incubator-superset/issues/8792,534712005,MDU6SXNzdWU1MzQ3MTIwMDU=,8792,Gantt Chart or Custom Chart ,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-12-09T06:07:28Z,2019-12-09T06:07:31Z,,NONE,"## [SIP] Proposal for Gantt Chart or Custom Chart 

### Motivation

Gantt Chart would be cool. 

Similarly, adding user avatars in any other charts would be cool (and so, possibility to extend current chart with custom would be really useful)

### Proposed Change

Issue #4035 already got closed. PR #5174 seems to be complete and also got closed. Unfortunately, not very technical in terms of Superset and can't comment on it.",incubator-superset,apache,rrjanbiah,4907427,MDQ6VXNlcjQ5MDc0Mjc=,https://avatars2.githubusercontent.com/u/4907427?v=4,,https://api.github.com/users/rrjanbiah,https://github.com/rrjanbiah,https://api.github.com/users/rrjanbiah/followers,https://api.github.com/users/rrjanbiah/following{/other_user},https://api.github.com/users/rrjanbiah/gists{/gist_id},https://api.github.com/users/rrjanbiah/starred{/owner}{/repo},https://api.github.com/users/rrjanbiah/subscriptions,https://api.github.com/users/rrjanbiah/orgs,https://api.github.com/users/rrjanbiah/repos,https://api.github.com/users/rrjanbiah/events{/privacy},https://api.github.com/users/rrjanbiah/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
53,https://api.github.com/repos/apache/incubator-superset/issues/8791,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8791/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8791/comments,https://api.github.com/repos/apache/incubator-superset/issues/8791/events,https://github.com/apache/incubator-superset/issues/8791,534523200,MDU6SXNzdWU1MzQ1MjMyMDA=,8791,"What is the ""expanded_slices"" option used for?","[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,3,2019-12-08T10:46:27Z,2019-12-10T07:00:40Z,,NONE,"In the dashboard JSON metadata a set of options is given and I have found an example in the FAQ for some of the options:
`{
    ""filter_immune_slices"": [324, 65, 92],
    ""expanded_slices"": {},
    ""filter_immune_slice_fields"": {
        ""177"": [""country_name"", ""__time_range""],
        ""32"": [""__time_range""]
    },
    ""timed_refresh_immune_slices"": [324]
}`
However I do not understand nor can I find any information on what the option ""expanded_slices"" can be used for. Can anybody explain this? Thanks",incubator-superset,apache,kaspergaj,49437254,MDQ6VXNlcjQ5NDM3MjU0,https://avatars2.githubusercontent.com/u/49437254?v=4,,https://api.github.com/users/kaspergaj,https://github.com/kaspergaj,https://api.github.com/users/kaspergaj/followers,https://api.github.com/users/kaspergaj/following{/other_user},https://api.github.com/users/kaspergaj/gists{/gist_id},https://api.github.com/users/kaspergaj/starred{/owner}{/repo},https://api.github.com/users/kaspergaj/subscriptions,https://api.github.com/users/kaspergaj/orgs,https://api.github.com/users/kaspergaj/repos,https://api.github.com/users/kaspergaj/events{/privacy},https://api.github.com/users/kaspergaj/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
54,https://api.github.com/repos/apache/incubator-superset/issues/8790,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8790/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8790/comments,https://api.github.com/repos/apache/incubator-superset/issues/8790/events,https://github.com/apache/incubator-superset/issues/8790,534486358,MDU6SXNzdWU1MzQ0ODYzNTg=,8790,Superset installation build fails using Docker on MS-Windows - fatal errors result in non-working system,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,2,2019-12-08T03:26:35Z,2019-12-09T15:37:44Z,,NONE,"A clear and concise description of what the bug is.

### Expected results

Clone and load the SuperSet demonstration Docker container by Run the following commands on the Superset Home page:

```git clone https://github.com/apache/incubator-superset/
cd incubator-superset
# you can run this command everytime you need to start superset now:
docker-compose up```

""After several minutes for superset initialization to finish, you can open a browser and view http://localhost:8088 to start your journey.""


### Actual results

The build gets to Step 11/32 and throws an error due to an incompatible version of a JavaScript package.  Updating caniuse-lite is a red herring and does not help.  Running `npm update` does not help either.  Allocating more RAM as suggested by others does not help either.  

```
Step 11/32 : RUN cd /app/superset/assets         && npm run build         && rm -rf node_modules
 ---> Running in 4d072668b171

> superset@0.999.0-dev build /app/superset/assets
> cross-env NODE_OPTIONS=--max_old_space_size=8192 NODE_ENV=production webpack --mode=production --colors --progress

clean-webpack-plugin: /app/superset/assets/dist has been removed.
Starting type checking service...
Using 1 worker with 2048MB memory limit
 92% chunk asset optimization OptimizeCssAssetsWebpackPluginBrowserslist: caniuse-lite is outdated. Please run next command `npm update`
 92% chunk asset optimization TerserPluginnpm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! superset@0.999.0-dev build: `cross-env NODE_OPTIONS=--max_old_space_size=8192 NODE_ENV=production webpack --mode=production --colors --progress`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the superset@0.999.0-dev build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2019-12-06T01_40_49_400Z-debug.log
ERROR: Service 'superset' failed to build: The command '/bin/sh -c cd /app/superset/assets         && npm run build         && rm -rf node_modules' returned a non-zero code: 1
```
#### How to reproduce the bug

1. Go to 'https://superset.incubator.apache.org/installation.html#superset-installation-and-initialization'
2. Execute Docker container gitclone instruction: git clone https://github.com/apache/incubator-superset/
3. change directory to superset ```cd incubator-superset```

# you can run this command everytime you need to start superset now:
```docker-compose up```

4. wait about 15-20 minutes for Docker container to build executable file from Python, Javascript, Postgres and other components. 
4. See error in terminal

### Environment

Docker Desktop Community Edition v2.1.0.5 (40693) on Windows 10 

- superset version: `superset version`  Latest as of this posting
- python version: `python --version`   3.7.1
- node.js version: `node -v`  10.16.0
- npm version: `npm -v` 6.9.0

### Checklist

- [ x ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ x]  I have reproduced the issue with at least the latest released version of superset.
- [ x ] I have checked the issue tracker for the same issue and I haven't found one similar.

",incubator-superset,apache,richdevboston,9345711,MDQ6VXNlcjkzNDU3MTE=,https://avatars2.githubusercontent.com/u/9345711?v=4,,https://api.github.com/users/richdevboston,https://github.com/richdevboston,https://api.github.com/users/richdevboston/followers,https://api.github.com/users/richdevboston/following{/other_user},https://api.github.com/users/richdevboston/gists{/gist_id},https://api.github.com/users/richdevboston/starred{/owner}{/repo},https://api.github.com/users/richdevboston/subscriptions,https://api.github.com/users/richdevboston/orgs,https://api.github.com/users/richdevboston/repos,https://api.github.com/users/richdevboston/events{/privacy},https://api.github.com/users/richdevboston/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
55,https://api.github.com/repos/apache/incubator-superset/issues/8785,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8785/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8785/comments,https://api.github.com/repos/apache/incubator-superset/issues/8785/events,https://github.com/apache/incubator-superset/issues/8785,534292740,MDU6SXNzdWU1MzQyOTI3NDA=,8785,Failure adding TZ to timezone unaware postgres column.,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,2,2019-12-06T22:44:33Z,2019-12-09T14:53:52Z,,NONE,"When running a postgres query to add timezone details to a field in SqlLab, the query fails on a python call even though the SQL is valid.

### Expected results

`select asof, asof AT TIME ZONE 'Etc/UTC' as asof_at_utc from records limit 10;`
```
        asof         |               asof_at_utc
---------------------+------------------------
 2011-01-07 17:00:00   | 2011-01-07 17:00:00+00
 2019-08-08 14:00:00 | 2019-08-08 14:00:00+00
 2019-07-22 16:00:00  | 2019-07-22 16:00:00+00
 2018-12-30 15:00:00  | 2018-12-30 15:00:00+00
 2019-07-18 14:00:00  | 2019-07-18 14:00:00+00
 2019-07-18 14:00:00  | 2019-07-18 14:00:00+00
 2019-01-01 15:00:00  | 2019-01-01 15:00:00+00
 2019-07-18 16:00:00  | 2019-07-18 16:00:00+00
 2018-12-14 15:00:00  | 2018-12-14 15:00:00+00
 2018-12-20 15:00:00  | 2018-12-20 15:00:00+00
```

### Actual results

```
worker_1    | 2019-12-06T22:38:27.761574741Z [2019-12-06 22:38:27,760: ERROR/ForkPoolWorker-4] Query 37: Unable to convert timezone `psycopg2.tz.FixedOffsetTimezone(offset=0, name=None)` to string
worker_1    | 2019-12-06T22:38:27.761611243Z Traceback (most recent call last):
worker_1    | 2019-12-06T22:38:27.761716580Z   File ""/usr/local/lib/python3.6/site-packages/superset/sql_lab.py"", line 164, in get_sql_results
worker_1    | 2019-12-06T22:38:27.761726149Z     start_time=start_time,
worker_1    | 2019-12-06T22:38:27.761731096Z   File ""/usr/local/lib/python3.6/site-packages/superset/sql_lab.py"", line 374, in execute_sql_statements
worker_1    | 2019-12-06T22:38:27.761735795Z     cdf, db_engine_spec, store_results and results_backend_use_msgpack
worker_1    | 2019-12-06T22:38:27.761739357Z   File ""/usr/local/lib/python3.6/site-packages/superset/sql_lab.py"", line 277, in _serialize_and_expand_data
worker_1    | 2019-12-06T22:38:27.761756057Z     .serialize(cdf.raw_df)
worker_1    | 2019-12-06T22:38:27.761761476Z   File ""pyarrow/serialization.pxi"", line 201, in pyarrow.lib.SerializationContext.serialize
worker_1    | 2019-12-06T22:38:27.761765622Z   File ""pyarrow/serialization.pxi"", line 358, in pyarrow.lib.serialize
worker_1    | 2019-12-06T22:38:27.761769483Z   File ""pyarrow/serialization.pxi"", line 153, in pyarrow.lib.SerializationContext._serialize_callback
worker_1    | 2019-12-06T22:38:27.761773806Z   File ""/usr/local/lib/python3.6/site-packages/pyarrow/serialization.py"", line 170, in _serialize_pandas_dataframe
worker_1    | 2019-12-06T22:38:27.761777854Z     return pdcompat.dataframe_to_serialized_dict(obj)
worker_1    | 2019-12-06T22:38:27.761780717Z   File ""/usr/local/lib/python3.6/site-packages/pyarrow/pandas_compat.py"", line 558, in dataframe_to_serialized_dict
worker_1    | 2019-12-06T22:38:27.761783918Z     block_data['timezone'] = pa.lib.tzinfo_to_string(values.tz)
worker_1    | 2019-12-06T22:38:27.761788765Z   File ""pyarrow/types.pxi"", line 1281, in pyarrow.lib.tzinfo_to_string
worker_1    | 2019-12-06T22:38:27.761793957Z ValueError: Unable to convert timezone `psycopg2.tz.FixedOffsetTimezone(offset=0, name=None)` to string
```

#### Screenshots

None

#### How to reproduce the bug

1. Create a timezone unaware column in Postgres. 
2. Query column from SQL Lab while attaching a time zone to it. (see query command above).

### Environment

- superset version: `0.35.1`
- python version: `3.6.9`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [X] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [X] I have reproduced the issue with at least the latest released version of superset.
- [X] I have checked the issue tracker for the same issue and I haven't found one similar.",incubator-superset,apache,tcopple,619743,MDQ6VXNlcjYxOTc0Mw==,https://avatars0.githubusercontent.com/u/619743?v=4,,https://api.github.com/users/tcopple,https://github.com/tcopple,https://api.github.com/users/tcopple/followers,https://api.github.com/users/tcopple/following{/other_user},https://api.github.com/users/tcopple/gists{/gist_id},https://api.github.com/users/tcopple/starred{/owner}{/repo},https://api.github.com/users/tcopple/subscriptions,https://api.github.com/users/tcopple/orgs,https://api.github.com/users/tcopple/repos,https://api.github.com/users/tcopple/events{/privacy},https://api.github.com/users/tcopple/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
56,https://api.github.com/repos/apache/incubator-superset/issues/8784,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8784/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8784/comments,https://api.github.com/repos/apache/incubator-superset/issues/8784/events,https://github.com/apache/incubator-superset/issues/8784,534220050,MDU6SXNzdWU1MzQyMjAwNTA=,8784,_get_slice_data fails to send slice data when Celery Workers are on another instance,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,2,2019-12-06T19:31:13Z,2019-12-09T15:08:33Z,,CONTRIBUTOR,"`_get_slice_data` is relying on logging the user in on the main instance of Superset, not the workers.  Because `login_user(user)` is being called on the worker.  When the instance serving up assets, Gunicorn, is not running on the Celery workers, this will fail to get content because it has not been authenticated.

### Expected results

Login should be handled by Gunicorn, and thus set the cookies required for authentication, not the Celery worker itself.

### Actual results

Authentication is denied, and the worker is unable to get slice data, whereas getting slice visualization works properly.
```
Traceback (most recent call last):
  File ""/usr/local/lib/python3.6/site-packages/celery/app/trace.py"", line 385, in trace_task
    R = retval = fun(*args, **kwargs)
  File ""/usr/local/lib/python3.6/site-packages/celery/app/trace.py"", line 648, in __protected_call__
    return self.run(*args, **kwargs)
  File ""/home/superset/superset/tasks/schedules.py"", line 367, in schedule_email_report
    deliver_slice(schedule)
  File ""/home/superset/superset/tasks/schedules.py"", line 334, in deliver_slice
    email = _get_slice_data(schedule)
  File ""/home/superset/superset/tasks/schedules.py"", line 267, in _get_slice_data
    rows = [r.split(b"","") for r in response.content.splitlines()]
AttributeError: 'HTTPResponse' object has no attribute 'content'
```

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

0. Have Celery workers startup running separately from the Gunicorn instance hosting the Flask app.
1. Setup a slice to send slice data, inline or as an attachment
2. Send Test report
3. See the failure.

### Environment

(please complete the following information):

- superset version: `0.34.0rc2`
- python version: `3.7`
- node.js version: `N/A`
- npm version: `N/A`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,ericandrewmeadows,19596182,MDQ6VXNlcjE5NTk2MTgy,https://avatars3.githubusercontent.com/u/19596182?v=4,,https://api.github.com/users/ericandrewmeadows,https://github.com/ericandrewmeadows,https://api.github.com/users/ericandrewmeadows/followers,https://api.github.com/users/ericandrewmeadows/following{/other_user},https://api.github.com/users/ericandrewmeadows/gists{/gist_id},https://api.github.com/users/ericandrewmeadows/starred{/owner}{/repo},https://api.github.com/users/ericandrewmeadows/subscriptions,https://api.github.com/users/ericandrewmeadows/orgs,https://api.github.com/users/ericandrewmeadows/repos,https://api.github.com/users/ericandrewmeadows/events{/privacy},https://api.github.com/users/ericandrewmeadows/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
57,https://api.github.com/repos/apache/incubator-superset/issues/8781,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8781/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8781/comments,https://api.github.com/repos/apache/incubator-superset/issues/8781/events,https://github.com/apache/incubator-superset/pull/8781,534194250,MDExOlB1bGxSZXF1ZXN0MzUwMTQ3MTE4,8781,"[css] Bringing Bootswatch in line with external variables, and other CSS tweaks","[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1332384320, 'node_id': 'MDU6TGFiZWwxMzMyMzg0MzIw', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XXL', 'name': 'size/XXL', 'color': '5A30DA', 'default': False, 'description': ''}]",open,False,,[],,1,2019-12-06T18:29:45Z,2019-12-19T06:38:33Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [ ] Bug Fix
- [ ] Enhancement (new features, refinement)
- [X] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
Bootstap and Bootswatch (Cosmo theme) have a bunch of colors and things in them that have not yet been brought inline with the global styles. This PR will aim to address that. 

This PR also does the following:
• Updates Toasts to use global status (success/info/warn/error) colors.
• Updates those global status colors to be consistent, compromising between the two values used in the Cosmo theme and elsewhere in the CSS codebase
• Bumps LESS loader, because it seemed to cause no harm and fixes webpack watch mode.
• Includes the Cosmo `variables.less` file at the bottom of the main `variables.less` file, since it's now acting more like an extension of those global vars. It also lets us include only the main variables file in our components, reducing reliance on Cosmo in general.
• Prettier-ing of `superset.less` which points out a hole in the `clean-css` script I'll address in another quick PR.
• Expands the scope of CSS linting to include `/superset/stylesheets` and not just `/sueperset/src`
• Fixes a CSS-based issue with the Adhoc Metric Title editor, where the height jumps when entering/exiting edit mode. This was causing the Save button to be finnicky, and Cypress tests to fail. When the mouse went down, the field would lose focus and disappear, shrinking the popover, and then when the mouse went up, it would no longer be over the Save button, thus the click wouldn't register. The height now remains consistent. Animations below.
• Fixes an issue where `eslint` was failing due to the `node_modules` folder in `superset/assets/cypress_base` (fyi @nytai ). Added `**/node_modules` to `.eslintignore`

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
A few of the more significant/visible changes:

Before (using a ""pink"" color that's quite near the error/danger color):
![image](https://user-images.githubusercontent.com/812905/71062054-6ecebf00-211e-11ea-88ac-5d6807dc0a95.png)

After (using the 'info' color since this seems like, well, info):
![image](https://user-images.githubusercontent.com/812905/71062291-003e3100-211f-11ea-9299-ccd5c1b2ae38.png)

Before (warning color that didn't match the Cosmo theme's warning color):
![image](https://user-images.githubusercontent.com/812905/71062506-85c1e100-211f-11ea-901a-4268582c10e8.png)

After (the middle ground color between the prior one and Cosmo's warning color):
![image](https://user-images.githubusercontent.com/812905/71062423-472c2680-211f-11ea-880d-0db971ebfc1c.png)

Before (ad hoc metric title bar height changing)
![form_before](https://user-images.githubusercontent.com/812905/71133244-c4eb4300-21ae-11ea-9bfc-b134bdbae0c1.gif)

After (ad hoc metric title bar height consistent)
![form-after](https://user-images.githubusercontent.com/812905/71133232-bd2b9e80-21ae-11ea-9dcb-6641e339ebaf.gif)

### ADDITIONAL INFORMATION
- [x] Changes UI

### REVIEWERS
@mistercrunch ",incubator-superset,apache,rusackas,812905,MDQ6VXNlcjgxMjkwNQ==,https://avatars2.githubusercontent.com/u/812905?v=4,,https://api.github.com/users/rusackas,https://github.com/rusackas,https://api.github.com/users/rusackas/followers,https://api.github.com/users/rusackas/following{/other_user},https://api.github.com/users/rusackas/gists{/gist_id},https://api.github.com/users/rusackas/starred{/owner}{/repo},https://api.github.com/users/rusackas/subscriptions,https://api.github.com/users/rusackas/orgs,https://api.github.com/users/rusackas/repos,https://api.github.com/users/rusackas/events{/privacy},https://api.github.com/users/rusackas/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8781,https://github.com/apache/incubator-superset/pull/8781,https://github.com/apache/incubator-superset/pull/8781.diff,https://github.com/apache/incubator-superset/pull/8781.patch,,,,,,,,,,,,,,,,,,
58,https://api.github.com/repos/apache/incubator-superset/issues/8779,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8779/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8779/comments,https://api.github.com/repos/apache/incubator-superset/issues/8779/events,https://github.com/apache/incubator-superset/issues/8779,533729963,MDU6SXNzdWU1MzM3Mjk5NjM=,8779,How can I compile and run the project from source code,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,3,2019-12-06T03:51:04Z,2019-12-06T18:01:12Z,,NONE,"I want to develop on the source code of superSet, but I browse the doc, can't find how to set a develop environment. If I don't install superset through pip, I can't run ""fabmanager create-admin –app superset"", but if I run the code, I can't use the source code. Thank you very much.",incubator-superset,apache,viking714,13830321,MDQ6VXNlcjEzODMwMzIx,https://avatars1.githubusercontent.com/u/13830321?v=4,,https://api.github.com/users/viking714,https://github.com/viking714,https://api.github.com/users/viking714/followers,https://api.github.com/users/viking714/following{/other_user},https://api.github.com/users/viking714/gists{/gist_id},https://api.github.com/users/viking714/starred{/owner}{/repo},https://api.github.com/users/viking714/subscriptions,https://api.github.com/users/viking714/orgs,https://api.github.com/users/viking714/repos,https://api.github.com/users/viking714/events{/privacy},https://api.github.com/users/viking714/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
59,https://api.github.com/repos/apache/incubator-superset/issues/8778,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8778/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8778/comments,https://api.github.com/repos/apache/incubator-superset/issues/8778/events,https://github.com/apache/incubator-superset/issues/8778,533704966,MDU6SXNzdWU1MzM3MDQ5NjY=,8778,Druid Datasource Editor can not save changes when opening In Chart Editor ,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-12-06T02:17:12Z,2019-12-06T02:19:41Z,,NONE,"A clear and concise description of what the bug is.

### Expected results
`Druid Datasource Editor` can save changes when opening In `Chart Editor` (`/superset/explore/?form_data={}`)

### Actual results
When saving in `Chart Editor`, I can't save any changes. But it can saved in `/druiddatasourcemodelview/edit/{ds_id}`

#### Screenshots
No.

#### How to reproduce the bug

1. Go to `Chart Editor` with a druid datasource
2. Click on `Click to edit the datasource` and open `Druid Datasource Editor`
3. Add a `Metrics` and save
4. Metrics` can not saved

### Environment

(please complete the following information):

- superset version: `0.35`
- python version: `3.7`
- node.js version: `v10.16.0`
- npm version: `6.13.0`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context
Found that in `superset/connectors/druid/models.py` 
```
    def update_from_object(self, obj):
        return NotImplementedError()
```
It means Changes can not saved by Druid Datasource Editor In Chart Editor ?
",incubator-superset,apache,cdmikechen,12069428,MDQ6VXNlcjEyMDY5NDI4,https://avatars2.githubusercontent.com/u/12069428?v=4,,https://api.github.com/users/cdmikechen,https://github.com/cdmikechen,https://api.github.com/users/cdmikechen/followers,https://api.github.com/users/cdmikechen/following{/other_user},https://api.github.com/users/cdmikechen/gists{/gist_id},https://api.github.com/users/cdmikechen/starred{/owner}{/repo},https://api.github.com/users/cdmikechen/subscriptions,https://api.github.com/users/cdmikechen/orgs,https://api.github.com/users/cdmikechen/repos,https://api.github.com/users/cdmikechen/events{/privacy},https://api.github.com/users/cdmikechen/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
60,https://api.github.com/repos/apache/incubator-superset/issues/8776,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8776/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8776/comments,https://api.github.com/repos/apache/incubator-superset/issues/8776/events,https://github.com/apache/incubator-superset/issues/8776,533641998,MDU6SXNzdWU1MzM2NDE5OTg=,8776,Toggle to NOT render HTML on Table viz,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 412635979, 'node_id': 'MDU6TGFiZWw0MTI2MzU5Nzk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.security', 'name': '.security', 'color': 'ecf0f1', 'default': False, 'description': ''}]",open,False,,[],,6,2019-12-05T22:45:33Z,2019-12-10T06:53:24Z,,NONE,"**Is your feature request related to a problem? Please describe.**
Sometimes I'm querying data with URL params. I always get people injecting SQL or HTML in here. Not usually a problem, but the Table viz is rendering this HTML. This is a security concern. 

**Describe the solution you'd like**
I'd like to toggle this ON on a case-by-case basis in the ""customize"" tab. Might need a config flag for default behaviour, too. 

**Describe alternatives you've considered**
Maybe a feature flag to turn this off for the whole implementation? ",incubator-superset,apache,rubypollev,45610410,MDQ6VXNlcjQ1NjEwNDEw,https://avatars3.githubusercontent.com/u/45610410?v=4,,https://api.github.com/users/rubypollev,https://github.com/rubypollev,https://api.github.com/users/rubypollev/followers,https://api.github.com/users/rubypollev/following{/other_user},https://api.github.com/users/rubypollev/gists{/gist_id},https://api.github.com/users/rubypollev/starred{/owner}{/repo},https://api.github.com/users/rubypollev/subscriptions,https://api.github.com/users/rubypollev/orgs,https://api.github.com/users/rubypollev/repos,https://api.github.com/users/rubypollev/events{/privacy},https://api.github.com/users/rubypollev/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
61,https://api.github.com/repos/apache/incubator-superset/issues/8763,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8763/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8763/comments,https://api.github.com/repos/apache/incubator-superset/issues/8763/events,https://github.com/apache/incubator-superset/issues/8763,533175058,MDU6SXNzdWU1MzMxNzUwNTg=,8763,"npm error 68% building 3528/3594 modules 66 active ...-map/node_modules/d3-array/src/count.jsinternal/child_process.js:366     throw errnoException(err, 'spawn');     ^","[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,4,2019-12-05T07:30:22Z,2019-12-05T18:00:09Z,,NONE,"68% building 3528/3594 modules 66 active ...-map/node_modules/d3-array/src/count.jsinternal/child_process.js:366
    throw errnoException(err, 'spawn');
    ^

Error: spawn ENOMEM
    at ChildProcess.spawn (internal/child_process.js:366:11)
    at Object.spawn (child_process.js:551:9)
    at new PoolWorker (/app/superset/assets/node_modules/thread-loader/dist/WorkerPool.js:49:43)
    at WorkerPool.createWorker (/app/superset/assets/node_modules/thread-loader/dist/WorkerPool.js:338:23)
    at WorkerPool.distributeJob (/app/superset/assets/node_modules/thread-loader/dist/WorkerPool.js:329:28)
    at /app/superset/assets/node_modules/async/queue.js:10:5
    at process (/app/superset/assets/node_modules/async/internal/queue.js:164:17)
    at Immediate.<anonymous> (/app/superset/assets/node_modules/async/internal/setImmediate.js:27:16)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! superset@0.999.0-dev build: `cross-env NODE_OPTIONS=--max_old_space_size=8192 NODE_ENV=production webpack --mode=production --colors --progress`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the superset@0.999.0-dev build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2019-12-05T07_15_33_517Z-debug.log
",incubator-superset,apache,Aabhusan,37671561,MDQ6VXNlcjM3NjcxNTYx,https://avatars1.githubusercontent.com/u/37671561?v=4,,https://api.github.com/users/Aabhusan,https://github.com/Aabhusan,https://api.github.com/users/Aabhusan/followers,https://api.github.com/users/Aabhusan/following{/other_user},https://api.github.com/users/Aabhusan/gists{/gist_id},https://api.github.com/users/Aabhusan/starred{/owner}{/repo},https://api.github.com/users/Aabhusan/subscriptions,https://api.github.com/users/Aabhusan/orgs,https://api.github.com/users/Aabhusan/repos,https://api.github.com/users/Aabhusan/events{/privacy},https://api.github.com/users/Aabhusan/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
62,https://api.github.com/repos/apache/incubator-superset/issues/8758,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8758/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8758/comments,https://api.github.com/repos/apache/incubator-superset/issues/8758/events,https://github.com/apache/incubator-superset/issues/8758,532978243,MDU6SXNzdWU1MzI5NzgyNDM=,8758,Organize superset assets by project,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-12-04T22:37:44Z,2019-12-04T22:37:47Z,,NONE,"I believe the tool will be much easier to use if it possible to **organize superset assets** like Database, Datasources, Charts, Queries and Dashboards **by ""Project""**


**Current scenario:**

I have 5 data marts with sales data, each one representing one different country. Those data marts have almost the same structure. It happens the same with Inventory data mart, and in the future could happen the same with other data mart.

As a consequence, I have lots of charts (replicated) with different names but doing exactly the same. As well, I have several dashboard (replicated too, but in less quantity of course) each one pointing to a diferent set of charts. This situation is very difficult to manage.


**What I would expect with the change (future scenario):**

As a developer

- I would like to have a combo box (or something similar) in order to select the ""project"" I will be working with.

- Consequently, all features on the tool the presents a lists of objects (Database, Tables, Queries, Charts and Dashboards) should be filtered by the ""selected project""

- The objects like Databases, Tables, Queries, Charts and Dashboards must accept the same name on different ""projects""

- I also would like a feature to clone, export, import ""Projects"" 
Clone -> on the same superset server
Export / Import -> between different superset servers


As an admin user

- I would like to provide fine grained access access control on projects


As a regular user

- I would like a combo box to select the ""Project"" that I will analyse the data. This selector will present projects based on my permissions



**Business benefits:**

As a developer

- I can easily replicate projects and all dependent objects, change the database configuration and I will be ready to deploy the solution to my end users

- During maintenance of existing projects, It will be easy to find objects preventing errors


As an user

- I will have a single environment to access all dashboard I have access to






",incubator-superset,apache,danielradulov,58533168,MDQ6VXNlcjU4NTMzMTY4,https://avatars3.githubusercontent.com/u/58533168?v=4,,https://api.github.com/users/danielradulov,https://github.com/danielradulov,https://api.github.com/users/danielradulov/followers,https://api.github.com/users/danielradulov/following{/other_user},https://api.github.com/users/danielradulov/gists{/gist_id},https://api.github.com/users/danielradulov/starred{/owner}{/repo},https://api.github.com/users/danielradulov/subscriptions,https://api.github.com/users/danielradulov/orgs,https://api.github.com/users/danielradulov/repos,https://api.github.com/users/danielradulov/events{/privacy},https://api.github.com/users/danielradulov/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
63,https://api.github.com/repos/apache/incubator-superset/issues/8756,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8756/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8756/comments,https://api.github.com/repos/apache/incubator-superset/issues/8756/events,https://github.com/apache/incubator-superset/issues/8756,532806678,MDU6SXNzdWU1MzI4MDY2Nzg=,8756,Cannot upgrade database,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,7,2019-12-04T16:46:53Z,2019-12-17T06:24:25Z,,NONE,"I wanted to upgrade the database to 0.35 according to the website: https://superset.apache.org/installation.html#upgrading

However, as I run `superset db upgrade` the command tries to create existing tables and encounters an error from this. 

I'm using MySQL.

### Expected results
To upgrade the database and run the server again.

### Actual results
Error when upgrading and unable to run the server.

#### Screenshots
![image](https://user-images.githubusercontent.com/49437254/70162156-81c4a680-16bd-11ea-8c60-155adb2db694.png)


#### How to reproduce the bug

1. `pip install apache-superset --upgrade`
2.` superset db upgrade`

### Environment

(please complete the following information):

- superset version: uncertain
- python version: `3.7.2`
- node.js version: `10.16.3`
- npm version: `6.9.0`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ x] I have reproduced the issue with at least the latest released version of superset.
- [ x] I have checked the issue tracker for the same issue and I haven't found one similar.
",incubator-superset,apache,kaspergaj,49437254,MDQ6VXNlcjQ5NDM3MjU0,https://avatars2.githubusercontent.com/u/49437254?v=4,,https://api.github.com/users/kaspergaj,https://github.com/kaspergaj,https://api.github.com/users/kaspergaj/followers,https://api.github.com/users/kaspergaj/following{/other_user},https://api.github.com/users/kaspergaj/gists{/gist_id},https://api.github.com/users/kaspergaj/starred{/owner}{/repo},https://api.github.com/users/kaspergaj/subscriptions,https://api.github.com/users/kaspergaj/orgs,https://api.github.com/users/kaspergaj/repos,https://api.github.com/users/kaspergaj/events{/privacy},https://api.github.com/users/kaspergaj/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
64,https://api.github.com/repos/apache/incubator-superset/issues/8755,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8755/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8755/comments,https://api.github.com/repos/apache/incubator-superset/issues/8755/events,https://github.com/apache/incubator-superset/issues/8755,532698307,MDU6SXNzdWU1MzI2OTgzMDc=,8755,Unable to load data into Map,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-12-04T13:52:07Z,2019-12-04T13:52:10Z,,NONE,"A clear and concise description of what the bug is.

### Expected results
Showing count on Map based on country data where country code (alpha 3) is being used.
what you expected to happen.

### Actual results
Exception 
what actually happens.
When press _Run Query_ I get exception

#### Screenshots
<img width=""1254"" alt=""Screenshot 2019-12-04 at 6 42 35 PM"" src=""https://user-images.githubusercontent.com/273196/70147568-5abea280-16c6-11ea-91b1-3788d460a7a6.png"">


#### How to reproduce the bug

Use a MySQL table having a 3 Alpha ISO country code and use it for country handle.

### Environment

(please complete the following information):

- superset version: `superset version`
`Superset 0.30.0`
- python version: `python --version`
`Python 3.7.3`
- node.js version: `node -v`
`v12.9.1`
- npm version: `npm -v`
`6.10.3`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

The log was not found either trace.

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,kadnan,273196,MDQ6VXNlcjI3MzE5Ng==,https://avatars0.githubusercontent.com/u/273196?v=4,,https://api.github.com/users/kadnan,https://github.com/kadnan,https://api.github.com/users/kadnan/followers,https://api.github.com/users/kadnan/following{/other_user},https://api.github.com/users/kadnan/gists{/gist_id},https://api.github.com/users/kadnan/starred{/owner}{/repo},https://api.github.com/users/kadnan/subscriptions,https://api.github.com/users/kadnan/orgs,https://api.github.com/users/kadnan/repos,https://api.github.com/users/kadnan/events{/privacy},https://api.github.com/users/kadnan/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
65,https://api.github.com/repos/apache/incubator-superset/issues/8753,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8753/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8753/comments,https://api.github.com/repos/apache/incubator-superset/issues/8753/events,https://github.com/apache/incubator-superset/issues/8753,532500677,MDU6SXNzdWU1MzI1MDA2Nzc=,8753,data can't display by nested group,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-12-04T07:29:57Z,2019-12-04T09:30:01Z,,NONE,"when I query like
`select ACCOUNT_COUNTRY,
          count(DISTINCT ACCOUNT_ID) num
   from KYLIN_ACCOUNT
   group by ACCOUNT_COUNTRY`,
use pie chart to display, superset worked.
when i query like
`SELECT ""ACCOUNT_COUNTRY"" AS ""ACCOUNT_COUNTRY"",
       sum(num) AS ""count""
FROM
  (select ACCOUNT_COUNTRY,
          count(DISTINCT ACCOUNT_ID) num
   from KYLIN_ACCOUNT
   group by ACCOUNT_COUNTRY) AS expr_qry
GROUP BY ""ACCOUNT_COUNTRY""`
the data results was same but pie chart did'nt anything.",incubator-superset,apache,leesonwei,29350722,MDQ6VXNlcjI5MzUwNzIy,https://avatars3.githubusercontent.com/u/29350722?v=4,,https://api.github.com/users/leesonwei,https://github.com/leesonwei,https://api.github.com/users/leesonwei/followers,https://api.github.com/users/leesonwei/following{/other_user},https://api.github.com/users/leesonwei/gists{/gist_id},https://api.github.com/users/leesonwei/starred{/owner}{/repo},https://api.github.com/users/leesonwei/subscriptions,https://api.github.com/users/leesonwei/orgs,https://api.github.com/users/leesonwei/repos,https://api.github.com/users/leesonwei/events{/privacy},https://api.github.com/users/leesonwei/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
66,https://api.github.com/repos/apache/incubator-superset/issues/8752,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8752/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8752/comments,https://api.github.com/repos/apache/incubator-superset/issues/8752/events,https://github.com/apache/incubator-superset/issues/8752,532497417,MDU6SXNzdWU1MzI0OTc0MTc=,8752,can not delete user when all the chart and dashbord related is deleted,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,2,2019-12-04T07:21:19Z,2019-12-12T17:27:58Z,,NONE,"A clear and concise description of what the bug is.

### Expected results

what you expected to happen.

### Actual results

what actually happens.

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

### Environment

(please complete the following information):

- superset version: `superset version`
- python version: `python --version`
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,qinzl1,20242930,MDQ6VXNlcjIwMjQyOTMw,https://avatars2.githubusercontent.com/u/20242930?v=4,,https://api.github.com/users/qinzl1,https://github.com/qinzl1,https://api.github.com/users/qinzl1/followers,https://api.github.com/users/qinzl1/following{/other_user},https://api.github.com/users/qinzl1/gists{/gist_id},https://api.github.com/users/qinzl1/starred{/owner}{/repo},https://api.github.com/users/qinzl1/subscriptions,https://api.github.com/users/qinzl1/orgs,https://api.github.com/users/qinzl1/repos,https://api.github.com/users/qinzl1/events{/privacy},https://api.github.com/users/qinzl1/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
67,https://api.github.com/repos/apache/incubator-superset/issues/8751,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8751/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8751/comments,https://api.github.com/repos/apache/incubator-superset/issues/8751/events,https://github.com/apache/incubator-superset/issues/8751,532475872,MDU6SXNzdWU1MzI0NzU4NzI=,8751,How does Gunicorn workers improve Superset's performance?,[],open,False,,[],,3,2019-12-04T06:22:03Z,2019-12-10T18:40:05Z,,NONE,"I'm using 10 gunicorn workers to run superset. 

1. When multiple users are accessing superset at the same time, will these workers get split among the users?
2. While loading a dashboard, only 6 queries are running concurrently, is there a way to increase that number?
",incubator-superset,apache,max-123-rich,58502243,MDQ6VXNlcjU4NTAyMjQz,https://avatars3.githubusercontent.com/u/58502243?v=4,,https://api.github.com/users/max-123-rich,https://github.com/max-123-rich,https://api.github.com/users/max-123-rich/followers,https://api.github.com/users/max-123-rich/following{/other_user},https://api.github.com/users/max-123-rich/gists{/gist_id},https://api.github.com/users/max-123-rich/starred{/owner}{/repo},https://api.github.com/users/max-123-rich/subscriptions,https://api.github.com/users/max-123-rich/orgs,https://api.github.com/users/max-123-rich/repos,https://api.github.com/users/max-123-rich/events{/privacy},https://api.github.com/users/max-123-rich/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
68,https://api.github.com/repos/apache/incubator-superset/issues/8750,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8750/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8750/comments,https://api.github.com/repos/apache/incubator-superset/issues/8750/events,https://github.com/apache/incubator-superset/issues/8750,532465092,MDU6SXNzdWU1MzI0NjUwOTI=,8750,Unable to see the latest saved report/slice in chart,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-12-04T05:48:23Z,2019-12-04T05:48:26Z,,NONE,"Hello, 
1 - sometime we observed that after modifying slice/report , that slice does not appear in chart list as latest modified. the last modified time shows old time details.
2 - Also after doing modification on slice for some changes (e.g. date format changed on datasource level) does not reflect these changes on dashboard. if we create a new dashboard changes can be seen on new dashboard but it is not seen on existing dashboard.

Please advise.
-niraj",incubator-superset,apache,nirajtambat,58501263,MDQ6VXNlcjU4NTAxMjYz,https://avatars3.githubusercontent.com/u/58501263?v=4,,https://api.github.com/users/nirajtambat,https://github.com/nirajtambat,https://api.github.com/users/nirajtambat/followers,https://api.github.com/users/nirajtambat/following{/other_user},https://api.github.com/users/nirajtambat/gists{/gist_id},https://api.github.com/users/nirajtambat/starred{/owner}{/repo},https://api.github.com/users/nirajtambat/subscriptions,https://api.github.com/users/nirajtambat/orgs,https://api.github.com/users/nirajtambat/repos,https://api.github.com/users/nirajtambat/events{/privacy},https://api.github.com/users/nirajtambat/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
69,https://api.github.com/repos/apache/incubator-superset/issues/8749,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8749/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8749/comments,https://api.github.com/repos/apache/incubator-superset/issues/8749/events,https://github.com/apache/incubator-superset/issues/8749,532462994,MDU6SXNzdWU1MzI0NjI5OTQ=,8749,AddSliceContainer.jsx can't be translated by messages.json ,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,3,2019-12-04T05:41:18Z,2019-12-10T07:06:27Z,,NONE,"A clear and concise description of what the bug is.

### Expected results
AddSliceContainer.jsx can be translated  

### Actual results
All other pages can be translated correctly, except `AddSliceContainer.jsx` cannot.

#### Screenshots
No.

#### How to reproduce the bug
I run a development flask and dev-server in my computer to test translation. I found that `AddSliceContainer.jsx` can not be translated well, meanwhile other pages can be translated correctly.

### Environment

- superset version: `0.35` and `0.34`
- python version: `3.7`
- node.js version: `v10.16.0`
- npm version: `6.9.0`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context
No.
",incubator-superset,apache,cdmikechen,12069428,MDQ6VXNlcjEyMDY5NDI4,https://avatars2.githubusercontent.com/u/12069428?v=4,,https://api.github.com/users/cdmikechen,https://github.com/cdmikechen,https://api.github.com/users/cdmikechen/followers,https://api.github.com/users/cdmikechen/following{/other_user},https://api.github.com/users/cdmikechen/gists{/gist_id},https://api.github.com/users/cdmikechen/starred{/owner}{/repo},https://api.github.com/users/cdmikechen/subscriptions,https://api.github.com/users/cdmikechen/orgs,https://api.github.com/users/cdmikechen/repos,https://api.github.com/users/cdmikechen/events{/privacy},https://api.github.com/users/cdmikechen/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
70,https://api.github.com/repos/apache/incubator-superset/issues/8747,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8747/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8747/comments,https://api.github.com/repos/apache/incubator-superset/issues/8747/events,https://github.com/apache/incubator-superset/pull/8747,532369385,MDExOlB1bGxSZXF1ZXN0MzQ4NjMyOTI2,8747,feat: emphasis on the database engine error message,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1330950144, 'node_id': 'MDU6TGFiZWwxMzMwOTUwMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/S', 'name': 'size/S', 'color': 'C8B6FF', 'default': False, 'description': ''}]",open,False,,[],,3,2019-12-04T00:57:40Z,2019-12-04T18:58:37Z,,MEMBER,"RFC 
when bubbling up error messages surfaced by the datbase, we prefix with
""{engine} error:"". In this PR we make the error message capitalized and
bold. To make it bold we introduce the ability to use markdown in error
messages. This also fixes issues where ""<html><body>{error_msg}</body><html>""
shows up inside the error message. We've seen Presto and transport layer
generate 50* pages that have html. The react-markdown component here
removes all tags.

<img width=""1088"" alt=""Screen Shot 2019-12-03 at 4 57 17 PM"" src=""https://user-images.githubusercontent.com/487433/70102772-02b46d00-15ee-11ea-8866-922bdc4c7a48.png"">
",incubator-superset,apache,mistercrunch,487433,MDQ6VXNlcjQ4NzQzMw==,https://avatars1.githubusercontent.com/u/487433?v=4,,https://api.github.com/users/mistercrunch,https://github.com/mistercrunch,https://api.github.com/users/mistercrunch/followers,https://api.github.com/users/mistercrunch/following{/other_user},https://api.github.com/users/mistercrunch/gists{/gist_id},https://api.github.com/users/mistercrunch/starred{/owner}{/repo},https://api.github.com/users/mistercrunch/subscriptions,https://api.github.com/users/mistercrunch/orgs,https://api.github.com/users/mistercrunch/repos,https://api.github.com/users/mistercrunch/events{/privacy},https://api.github.com/users/mistercrunch/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8747,https://github.com/apache/incubator-superset/pull/8747,https://github.com/apache/incubator-superset/pull/8747.diff,https://github.com/apache/incubator-superset/pull/8747.patch,,,,,,,,,,,,,,,,,,
71,https://api.github.com/repos/apache/incubator-superset/issues/8737,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8737/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8737/comments,https://api.github.com/repos/apache/incubator-superset/issues/8737/events,https://github.com/apache/incubator-superset/pull/8737,532289922,MDExOlB1bGxSZXF1ZXN0MzQ4NTcwMjA5,8737,Migration and model changes to synchronize the data model,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1329203144, 'node_id': 'MDU6TGFiZWwxMzI5MjAzMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/M', 'name': 'size/M', 'color': '705FA3', 'default': False, 'description': ''}]",open,False,,[],,1,2019-12-03T21:50:58Z,2019-12-19T17:47:51Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [X] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->
Generating a new migration in Superset currently outputs a large number of changes in the migration due to the tables created by example import and some schema drift that has happened over time. This PR ignores the tables created by the example import, applies a small number of database changes, and updates a number of models to resolve the situation. After merging this PR, generating a new Alembic migration should result in an empty file, or one with only the intended changes after a model update.

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->
No UI changes.

### TEST PLAN
<!--- What steps should be taken to verify the changes -->
- [ ] Run unit tests

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [X] Requires DB Migration.
- [X] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
@betodealmeida @mistercrunch ",incubator-superset,apache,willbarrett,1779034,MDQ6VXNlcjE3NzkwMzQ=,https://avatars2.githubusercontent.com/u/1779034?v=4,,https://api.github.com/users/willbarrett,https://github.com/willbarrett,https://api.github.com/users/willbarrett/followers,https://api.github.com/users/willbarrett/following{/other_user},https://api.github.com/users/willbarrett/gists{/gist_id},https://api.github.com/users/willbarrett/starred{/owner}{/repo},https://api.github.com/users/willbarrett/subscriptions,https://api.github.com/users/willbarrett/orgs,https://api.github.com/users/willbarrett/repos,https://api.github.com/users/willbarrett/events{/privacy},https://api.github.com/users/willbarrett/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8737,https://github.com/apache/incubator-superset/pull/8737,https://github.com/apache/incubator-superset/pull/8737.diff,https://github.com/apache/incubator-superset/pull/8737.patch,,,,,,,,,,,,,,,,,,
72,https://api.github.com/repos/apache/incubator-superset/issues/8736,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8736/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8736/comments,https://api.github.com/repos/apache/incubator-superset/issues/8736/events,https://github.com/apache/incubator-superset/issues/8736,532287029,MDU6SXNzdWU1MzIyODcwMjk=,8736,ON DELETE CASCADE for ab_user,[],open,False,,[],,1,2019-12-03T21:45:22Z,2019-12-03T21:45:25Z,,NONE,Is there a reason that deleting a user from `ab_user` does not do an `ON DELETE CASCADE` to `ab_user_role` and other related tables?,incubator-superset,apache,metaperl,21293,MDQ6VXNlcjIxMjkz,https://avatars3.githubusercontent.com/u/21293?v=4,,https://api.github.com/users/metaperl,https://github.com/metaperl,https://api.github.com/users/metaperl/followers,https://api.github.com/users/metaperl/following{/other_user},https://api.github.com/users/metaperl/gists{/gist_id},https://api.github.com/users/metaperl/starred{/owner}{/repo},https://api.github.com/users/metaperl/subscriptions,https://api.github.com/users/metaperl/orgs,https://api.github.com/users/metaperl/repos,https://api.github.com/users/metaperl/events{/privacy},https://api.github.com/users/metaperl/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
73,https://api.github.com/repos/apache/incubator-superset/issues/8733,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8733/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8733/comments,https://api.github.com/repos/apache/incubator-superset/issues/8733/events,https://github.com/apache/incubator-superset/pull/8733,532204793,MDExOlB1bGxSZXF1ZXN0MzQ4NTAzMzU4,8733,Replace pandas.DataFrame with PyArrow.Table for nullable int typing,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1329338104, 'node_id': 'MDU6TGFiZWwxMzI5MzM4MTA0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XL', 'name': 'size/XL', 'color': '5C3BBc', 'default': False, 'description': ''}]",open,False,,[],,4,2019-12-03T19:15:45Z,2019-12-21T00:45:14Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [x] Bug Fix
- [x] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
Load raw query result data into a [PyArrow.Table](https://arrow.apache.org/docs/python/generated/pyarrow.Table.html) structure, which handles nullable integer columns correctly. Convert Table to pandas.DataFrame when necessary for data manipulation.

Fixes https://github.com/apache/incubator-superset/issues/8225

**TODO**
- [x] Finish porting `.columns` method to `SupersetTable`
- [x] Remove explicit `dtype` logic from `PrestoEngineSpec`
- [x] Fix failing tests 

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN

- Ensure correct query operations in SQL Lab and Explore views, via synchronous and async queries.
- Test against columns including mixed integer + NULL values.

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [x] Has associated issue: https://github.com/apache/incubator-superset/issues/8225
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
@betodealmeida @john-bodley ",incubator-superset,apache,robdiciuccio,296227,MDQ6VXNlcjI5NjIyNw==,https://avatars0.githubusercontent.com/u/296227?v=4,,https://api.github.com/users/robdiciuccio,https://github.com/robdiciuccio,https://api.github.com/users/robdiciuccio/followers,https://api.github.com/users/robdiciuccio/following{/other_user},https://api.github.com/users/robdiciuccio/gists{/gist_id},https://api.github.com/users/robdiciuccio/starred{/owner}{/repo},https://api.github.com/users/robdiciuccio/subscriptions,https://api.github.com/users/robdiciuccio/orgs,https://api.github.com/users/robdiciuccio/repos,https://api.github.com/users/robdiciuccio/events{/privacy},https://api.github.com/users/robdiciuccio/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8733,https://github.com/apache/incubator-superset/pull/8733,https://github.com/apache/incubator-superset/pull/8733.diff,https://github.com/apache/incubator-superset/pull/8733.patch,,,,,,,,,,,,,,,,,,
74,https://api.github.com/repos/apache/incubator-superset/issues/8731,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8731/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8731/comments,https://api.github.com/repos/apache/incubator-superset/issues/8731/events,https://github.com/apache/incubator-superset/issues/8731,531892326,MDU6SXNzdWU1MzE4OTIzMjY=,8731,Advanced Superset cache management,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-12-03T10:44:55Z,2019-12-03T10:44:59Z,,NONE,"**Is your feature request related to a problem? Please describe.**

Superset cache management appears to follow a traditional strategy of time-based stale cache mechanism and also with a proactive time-based cache warm-up mechanism so when users open some dashboard/slice, the results are already pre-cached.

We have a use-case where we pre-process a number of heavy near-real-time aggregations using Kafka Streams and we wish to push these results directly to our Redis cluster, which would actually be the cache store for Superset, thus bypassing the need for Superset to proactively query the data source to refresh the cache.

We know that pre-processing and storing it in a supported fast layer for Superset to update its cache from, even with short cache time-out periods, is something that is feasible, but there's always some query delay no matter how fast the serving layer is and the time synchronization of the stream-processing applications producing/storing results and the superset cache mechanism refreshing its data (it's interval based).

Our requirements is to have our monitoring solution updated every single minute (aggregations will have 5m buckets in a sliding window updated every 1m).

**Describe the solution you'd like**

- Be able to manage Superset cache directly (I.e: push pre-processed results directly to the cache)
- Be able to push notifications to Superset cache manager so it can come and refresh its data (instead of just time based cache staling/refresh mechanism)

**Describe alternatives you've considered**

Because I'm not sure what I just said makes any kind of sense for Superset roadmap, we're also working on the following solutions:
- Testing Druid ingesting kafka bound raw-data without any pre-processing and leverage standard Druid ingest level pre-aggregation
- Testing Druid ingesting kafka bound pre-processed aggregations (with kafka streams) 

Then we'd leverage Superset -> Druid integration and regular cache mechanism to provide results, assuming Superset can deliver valid cache results while the warmup mechanism updates the cache proactively (i.e: don't block cache hits while it's working), it should also be transparent to the user in terms of loading times. 

I think the objective is to avoid any user request going directly to the data source (in this case Druid).

**Additional context**

Our solution, besides having a very short refresh rate (every 1m), has to be able to load quite the number of visualizations simultaneously (think of an operations center) and with high concurrency (lots of users). We're thinking on leveraging Superset embeddable visualizations on a 3d party application and leverage its caching mechanism to support blazing fast experience,.",incubator-superset,apache,alexandrejuma,31676271,MDQ6VXNlcjMxNjc2Mjcx,https://avatars0.githubusercontent.com/u/31676271?v=4,,https://api.github.com/users/alexandrejuma,https://github.com/alexandrejuma,https://api.github.com/users/alexandrejuma/followers,https://api.github.com/users/alexandrejuma/following{/other_user},https://api.github.com/users/alexandrejuma/gists{/gist_id},https://api.github.com/users/alexandrejuma/starred{/owner}{/repo},https://api.github.com/users/alexandrejuma/subscriptions,https://api.github.com/users/alexandrejuma/orgs,https://api.github.com/users/alexandrejuma/repos,https://api.github.com/users/alexandrejuma/events{/privacy},https://api.github.com/users/alexandrejuma/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
75,https://api.github.com/repos/apache/incubator-superset/issues/8730,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8730/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8730/comments,https://api.github.com/repos/apache/incubator-superset/issues/8730/events,https://github.com/apache/incubator-superset/pull/8730,531818397,MDExOlB1bGxSZXF1ZXN0MzQ4MTk3MTY5,8730,Fix error control label Metrics validator,"[{'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,1,2019-12-03T08:43:42Z,2019-12-10T06:02:08Z,,NONE,"### CATEGORY

Choose one

- [x] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
The error Control labeled ""Metrics"" cannot be empty should not appear on the first time goes to chart screen by pressing table name.
Fixes #7916 

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [x] Has associated issue: #7916 
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,longenouvo,50986180,MDQ6VXNlcjUwOTg2MTgw,https://avatars0.githubusercontent.com/u/50986180?v=4,,https://api.github.com/users/longenouvo,https://github.com/longenouvo,https://api.github.com/users/longenouvo/followers,https://api.github.com/users/longenouvo/following{/other_user},https://api.github.com/users/longenouvo/gists{/gist_id},https://api.github.com/users/longenouvo/starred{/owner}{/repo},https://api.github.com/users/longenouvo/subscriptions,https://api.github.com/users/longenouvo/orgs,https://api.github.com/users/longenouvo/repos,https://api.github.com/users/longenouvo/events{/privacy},https://api.github.com/users/longenouvo/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8730,https://github.com/apache/incubator-superset/pull/8730,https://github.com/apache/incubator-superset/pull/8730.diff,https://github.com/apache/incubator-superset/pull/8730.patch,,,,,,,,,,,,,,,,,,
76,https://api.github.com/repos/apache/incubator-superset/issues/8717,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8717/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8717/comments,https://api.github.com/repos/apache/incubator-superset/issues/8717/events,https://github.com/apache/incubator-superset/issues/8717,531589605,MDU6SXNzdWU1MzE1ODk2MDU=,8717,hdp superset started error:'NoneType' object has no attribute 'name',"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-12-02T22:48:33Z,2019-12-02T22:48:36Z,,NONE,"resource_management.core.exceptions.ExecutionFailed: Execution of 'source /usr/hdp/current/superset/conf/superset-env.sh ; /usr/hdp/current/superset/bin/superset init' returned 1. 2019-11-23 08:47:41,412:ERROR:flask_appbuilder.base:'NoneType' object has no attribute 'name'
Traceback (most recent call last):
  File ""/usr/hdp/3.1.0.0-78/superset/lib/python3.4/site-packages/flask_appbuilder/base.py"", line 469, in _add_permission
    self.sm.add_permissions_view(baseview.base_permissions, baseview.__class__.__name__)
  File ""/usr/hdp/3.1.0.0-78/superset/lib/python3.4/site-packages/flask_appbuilder/security/manager.py"", line 819, in add_permissions_view
    if perm_view.permission.name not in base_permissions:
AttributeError: 'NoneType' object has no attribute 'name'
2019-11-23 08:47:41,413:ERROR:flask_appbuilder.base:Add Permission on View Error: 'NoneType' object has no attribute 'name'",incubator-superset,apache,lupengfeige,6574615,MDQ6VXNlcjY1NzQ2MTU=,https://avatars0.githubusercontent.com/u/6574615?v=4,,https://api.github.com/users/lupengfeige,https://github.com/lupengfeige,https://api.github.com/users/lupengfeige/followers,https://api.github.com/users/lupengfeige/following{/other_user},https://api.github.com/users/lupengfeige/gists{/gist_id},https://api.github.com/users/lupengfeige/starred{/owner}{/repo},https://api.github.com/users/lupengfeige/subscriptions,https://api.github.com/users/lupengfeige/orgs,https://api.github.com/users/lupengfeige/repos,https://api.github.com/users/lupengfeige/events{/privacy},https://api.github.com/users/lupengfeige/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
77,https://api.github.com/repos/apache/incubator-superset/issues/8709,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8709/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8709/comments,https://api.github.com/repos/apache/incubator-superset/issues/8709/events,https://github.com/apache/incubator-superset/issues/8709,531404525,MDU6SXNzdWU1MzE0MDQ1MjU=,8709,Unable to connect to presto-coordinator using SSL,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,12,2019-12-02T18:27:24Z,2019-12-10T19:27:40Z,,NONE,"Hi Folks,

I am trying to connect to my presto coordinator from superset over https but i am getting this error.
superset_1  | requests.exceptions.SSLError: HTTPSConnectionPool(host='**************.cloud', port=443): Max retries exceeded with url: /v1/statement (Caused by SSLError(SSLError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:852)'),))

### Expected results

This is expected to connect to my presto-coordinator which is running on https port

- superset version: `Latest`
- python version: `3.6.9`
- node.js version: `v10.17.0`
- npm version: `6.11.3`
- pip version: `pip 9.0.2 from /usr/local/lib/python3.6/site-packages (python 3.6)`

### Parameters Used

**SQLAlchemy URI**:  presto://<presto_coordinator>:<port>/<catalog>/information_schema?source=superset\

**Extra:**
    {
        ""metadata_params"": {},
        ""engine_params"": {
           ""connect_args"":{
              ""protocol"": ""https"",
              ""requests_kwargs"": {
                       ""verify"": ""/home/superset/tls.pem""
                }
           }
         },
        ""metadata_cache_timeout"": {},
        ""schemas_allowed_for_csv_upload"": []

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stack traces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of the superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.
",incubator-superset,apache,bharath0208,44377322,MDQ6VXNlcjQ0Mzc3MzIy,https://avatars0.githubusercontent.com/u/44377322?v=4,,https://api.github.com/users/bharath0208,https://github.com/bharath0208,https://api.github.com/users/bharath0208/followers,https://api.github.com/users/bharath0208/following{/other_user},https://api.github.com/users/bharath0208/gists{/gist_id},https://api.github.com/users/bharath0208/starred{/owner}{/repo},https://api.github.com/users/bharath0208/subscriptions,https://api.github.com/users/bharath0208/orgs,https://api.github.com/users/bharath0208/repos,https://api.github.com/users/bharath0208/events{/privacy},https://api.github.com/users/bharath0208/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
78,https://api.github.com/repos/apache/incubator-superset/issues/8708,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8708/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8708/comments,https://api.github.com/repos/apache/incubator-superset/issues/8708/events,https://github.com/apache/incubator-superset/issues/8708,531402236,MDU6SXNzdWU1MzE0MDIyMzY=,8708,[Explore] Control panel throw JS exceptions,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,"[{'login': 'graceguo-supercat', 'id': 27990562, 'node_id': 'MDQ6VXNlcjI3OTkwNTYy', 'avatar_url': 'https://avatars3.githubusercontent.com/u/27990562?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/graceguo-supercat', 'html_url': 'https://github.com/graceguo-supercat', 'followers_url': 'https://api.github.com/users/graceguo-supercat/followers', 'following_url': 'https://api.github.com/users/graceguo-supercat/following{/other_user}', 'gists_url': 'https://api.github.com/users/graceguo-supercat/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/graceguo-supercat/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/graceguo-supercat/subscriptions', 'organizations_url': 'https://api.github.com/users/graceguo-supercat/orgs', 'repos_url': 'https://api.github.com/users/graceguo-supercat/repos', 'events_url': 'https://api.github.com/users/graceguo-supercat/events{/privacy}', 'received_events_url': 'https://api.github.com/users/graceguo-supercat/received_events', 'type': 'User', 'site_admin': False}]",,1,2019-12-02T18:25:38Z,2019-12-02T18:25:58Z,,CONTRIBUTOR,"A clear and concise description of what the bug is.

### Expected results

1. run query fro sql lab
2. Click explore button to open it in explore view, data table.
3. add Temporal column in the datasource, and choose a time-series data type, for example line chart.
4. Choose any option for Metrics control.
5. Before click on Run Query button, you will see JS error from browser console. (if you click run query, after data is fetched from backend, there is no chart showing up).


#### Screenshots

<img width=""1385"" alt=""Screen Shot 2019-10-02 at 12 21 51 PM"" src=""https://user-images.githubusercontent.com/27990562/69984477-0e206f00-14ee-11ea-8d61-42504b2ce12e.png"">


### Environment

(please complete the following information):

- superset version: `superset version`
- python version: `python --version`
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,graceguo-supercat,27990562,MDQ6VXNlcjI3OTkwNTYy,https://avatars3.githubusercontent.com/u/27990562?v=4,,https://api.github.com/users/graceguo-supercat,https://github.com/graceguo-supercat,https://api.github.com/users/graceguo-supercat/followers,https://api.github.com/users/graceguo-supercat/following{/other_user},https://api.github.com/users/graceguo-supercat/gists{/gist_id},https://api.github.com/users/graceguo-supercat/starred{/owner}{/repo},https://api.github.com/users/graceguo-supercat/subscriptions,https://api.github.com/users/graceguo-supercat/orgs,https://api.github.com/users/graceguo-supercat/repos,https://api.github.com/users/graceguo-supercat/events{/privacy},https://api.github.com/users/graceguo-supercat/received_events,User,False,,,,,graceguo-supercat,27990562.0,MDQ6VXNlcjI3OTkwNTYy,https://avatars3.githubusercontent.com/u/27990562?v=4,,https://api.github.com/users/graceguo-supercat,https://github.com/graceguo-supercat,https://api.github.com/users/graceguo-supercat/followers,https://api.github.com/users/graceguo-supercat/following{/other_user},https://api.github.com/users/graceguo-supercat/gists{/gist_id},https://api.github.com/users/graceguo-supercat/starred{/owner}{/repo},https://api.github.com/users/graceguo-supercat/subscriptions,https://api.github.com/users/graceguo-supercat/orgs,https://api.github.com/users/graceguo-supercat/repos,https://api.github.com/users/graceguo-supercat/events{/privacy},https://api.github.com/users/graceguo-supercat/received_events,User,False
79,https://api.github.com/repos/apache/incubator-superset/issues/8705,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8705/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8705/comments,https://api.github.com/repos/apache/incubator-superset/issues/8705/events,https://github.com/apache/incubator-superset/issues/8705,530851952,MDU6SXNzdWU1MzA4NTE5NTI=,8705,Table th bug when switch Tabs,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1700257670, 'node_id': 'MDU6TGFiZWwxNzAwMjU3Njcw', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.frontend', 'name': '.frontend', 'color': 'c5def5', 'default': False, 'description': ''}]",open,False,,[],,6,2019-12-02T02:32:11Z,2019-12-10T06:34:49Z,,NONE,"repost Tabs of bug #8195
Hello, I have a Bug about tabs. Switching tabs will cause the width of the th table to become 0 px
### Expected results
The page should not refresh after TAB toggle

### Actual results
The header is automatically indented
what actually happens.
width to become 0px

#### Screenshots

If applicable, add screenshots to help explain your problem.
![image](https://user-images.githubusercontent.com/8803020/69926249-ad456680-14ee-11ea-89f9-2c03276c3298.png)


#### How to reproduce the bug

1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

### Environment

(please complete the following information):

- superset version:0.34.1
- python version: 3.6.6
### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ √] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ √] I have reproduced the issue with at least the latest released version of superset.
- [ √] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,aaa92729,8803020,MDQ6VXNlcjg4MDMwMjA=,https://avatars2.githubusercontent.com/u/8803020?v=4,,https://api.github.com/users/aaa92729,https://github.com/aaa92729,https://api.github.com/users/aaa92729/followers,https://api.github.com/users/aaa92729/following{/other_user},https://api.github.com/users/aaa92729/gists{/gist_id},https://api.github.com/users/aaa92729/starred{/owner}{/repo},https://api.github.com/users/aaa92729/subscriptions,https://api.github.com/users/aaa92729/orgs,https://api.github.com/users/aaa92729/repos,https://api.github.com/users/aaa92729/events{/privacy},https://api.github.com/users/aaa92729/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
80,https://api.github.com/repos/apache/incubator-superset/issues/8702,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8702/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8702/comments,https://api.github.com/repos/apache/incubator-superset/issues/8702/events,https://github.com/apache/incubator-superset/pull/8702,530595528,MDExOlB1bGxSZXF1ZXN0MzQ3MjM1Mzk1,8702,Fixes on brazilian-portuguese language (#8701),[],open,False,,[],,4,2019-11-30T15:52:59Z,2019-12-20T17:56:28Z,,NONE,"### CATEGORY

Choose one

- [ ] Bug Fix
- [ ] Enhancement (new features, refinement)
- [X] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,rodrigoguariento,25516653,MDQ6VXNlcjI1NTE2NjUz,https://avatars0.githubusercontent.com/u/25516653?v=4,,https://api.github.com/users/rodrigoguariento,https://github.com/rodrigoguariento,https://api.github.com/users/rodrigoguariento/followers,https://api.github.com/users/rodrigoguariento/following{/other_user},https://api.github.com/users/rodrigoguariento/gists{/gist_id},https://api.github.com/users/rodrigoguariento/starred{/owner}{/repo},https://api.github.com/users/rodrigoguariento/subscriptions,https://api.github.com/users/rodrigoguariento/orgs,https://api.github.com/users/rodrigoguariento/repos,https://api.github.com/users/rodrigoguariento/events{/privacy},https://api.github.com/users/rodrigoguariento/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8702,https://github.com/apache/incubator-superset/pull/8702,https://github.com/apache/incubator-superset/pull/8702.diff,https://github.com/apache/incubator-superset/pull/8702.patch,,,,,,,,,,,,,,,,,,
81,https://api.github.com/repos/apache/incubator-superset/issues/8701,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8701/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8701/comments,https://api.github.com/repos/apache/incubator-superset/issues/8701/events,https://github.com/apache/incubator-superset/issues/8701,530593475,MDU6SXNzdWU1MzA1OTM0NzU=,8701,Improve and fix portuguese translation,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,"[{'login': 'betodealmeida', 'id': 1534870, 'node_id': 'MDQ6VXNlcjE1MzQ4NzA=', 'avatar_url': 'https://avatars3.githubusercontent.com/u/1534870?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/betodealmeida', 'html_url': 'https://github.com/betodealmeida', 'followers_url': 'https://api.github.com/users/betodealmeida/followers', 'following_url': 'https://api.github.com/users/betodealmeida/following{/other_user}', 'gists_url': 'https://api.github.com/users/betodealmeida/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/betodealmeida/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/betodealmeida/subscriptions', 'organizations_url': 'https://api.github.com/users/betodealmeida/orgs', 'repos_url': 'https://api.github.com/users/betodealmeida/repos', 'events_url': 'https://api.github.com/users/betodealmeida/events{/privacy}', 'received_events_url': 'https://api.github.com/users/betodealmeida/received_events', 'type': 'User', 'site_admin': False}]",,2,2019-11-30T15:35:33Z,2019-12-02T18:42:27Z,,NONE,"The current brazilian-portuguese translation is deprecated.

### Expected results

To have all translation updated and with cohesion.

### Actual results

There is a lot of sentences untranslated and wrong, with no cohesion.

#### How to reproduce the bug

1. Set brazilian-porruguese language
2. Navigate and being a Brazilian try understand (you'll probably won't get)

### Environment

- latest superset version (~ Nov 30, 2019)",incubator-superset,apache,rodrigoguariento,25516653,MDQ6VXNlcjI1NTE2NjUz,https://avatars0.githubusercontent.com/u/25516653?v=4,,https://api.github.com/users/rodrigoguariento,https://github.com/rodrigoguariento,https://api.github.com/users/rodrigoguariento/followers,https://api.github.com/users/rodrigoguariento/following{/other_user},https://api.github.com/users/rodrigoguariento/gists{/gist_id},https://api.github.com/users/rodrigoguariento/starred{/owner}{/repo},https://api.github.com/users/rodrigoguariento/subscriptions,https://api.github.com/users/rodrigoguariento/orgs,https://api.github.com/users/rodrigoguariento/repos,https://api.github.com/users/rodrigoguariento/events{/privacy},https://api.github.com/users/rodrigoguariento/received_events,User,False,,,,,betodealmeida,1534870.0,MDQ6VXNlcjE1MzQ4NzA=,https://avatars3.githubusercontent.com/u/1534870?v=4,,https://api.github.com/users/betodealmeida,https://github.com/betodealmeida,https://api.github.com/users/betodealmeida/followers,https://api.github.com/users/betodealmeida/following{/other_user},https://api.github.com/users/betodealmeida/gists{/gist_id},https://api.github.com/users/betodealmeida/starred{/owner}{/repo},https://api.github.com/users/betodealmeida/subscriptions,https://api.github.com/users/betodealmeida/orgs,https://api.github.com/users/betodealmeida/repos,https://api.github.com/users/betodealmeida/events{/privacy},https://api.github.com/users/betodealmeida/received_events,User,False
82,https://api.github.com/repos/apache/incubator-superset/issues/8700,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8700/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8700/comments,https://api.github.com/repos/apache/incubator-superset/issues/8700/events,https://github.com/apache/incubator-superset/issues/8700,530538652,MDU6SXNzdWU1MzA1Mzg2NTI=,8700,"I need help please , does  the jquery  affect the result of add database option，my version is the latest 0.35.1","[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,4,2019-11-30T06:11:38Z,2019-12-02T10:22:26Z,,NONE,"my superset version  is the latest 0.35.1,kylin is 2.4,python is 3.7


where I choose add database , and the test connection button is responding correctly. but at the bottom I can not see the tables,   I see chrome  consoles error.   It's like that `jquery-latest.js:4 Uncaught TypeError: Cannot use 'in' operator to search for '1' in OK
    at M (jquery-latest.js:4)
    at Function.each (jquery-latest.js:4)
    at Object.<anonymous> (add:1080)
    at c (jquery-latest.js:4)
    at Object.fireWith [as resolveWith] (jquery-latest.js:4)
    at k (jquery-latest.js:6)
    at XMLHttpRequest.r (jquery-latest.js:6)`
 
Is that why the column of the table is missing .
Thank you very much 

![abccccc](https://user-images.githubusercontent.com/3224536/69897030-23c45600-1381-11ea-92a7-e766da81a2ba.jpg)

![ewwewewe](https://user-images.githubusercontent.com/3224536/69897074-7140c300-1381-11ea-8cdc-b4caad55ea2f.png)
",incubator-superset,apache,xiaobaig0407,3224536,MDQ6VXNlcjMyMjQ1MzY=,https://avatars2.githubusercontent.com/u/3224536?v=4,,https://api.github.com/users/xiaobaig0407,https://github.com/xiaobaig0407,https://api.github.com/users/xiaobaig0407/followers,https://api.github.com/users/xiaobaig0407/following{/other_user},https://api.github.com/users/xiaobaig0407/gists{/gist_id},https://api.github.com/users/xiaobaig0407/starred{/owner}{/repo},https://api.github.com/users/xiaobaig0407/subscriptions,https://api.github.com/users/xiaobaig0407/orgs,https://api.github.com/users/xiaobaig0407/repos,https://api.github.com/users/xiaobaig0407/events{/privacy},https://api.github.com/users/xiaobaig0407/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
83,https://api.github.com/repos/apache/incubator-superset/issues/8699,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8699/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8699/comments,https://api.github.com/repos/apache/incubator-superset/issues/8699/events,https://github.com/apache/incubator-superset/pull/8699,530531037,MDExOlB1bGxSZXF1ZXN0MzQ3MTkxNTU0,8699,[SIP-29] Add support for row-level security,"[{'id': 1733068189, 'node_id': 'MDU6TGFiZWwxNzMzMDY4MTg5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.important', 'name': '.important', 'color': '7c19ff', 'default': False, 'description': ''}, {'id': 1127990345, 'node_id': 'MDU6TGFiZWwxMTI3OTkwMzQ1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/risk:db-migration', 'name': 'risk:db-migration', 'color': 'e67e22', 'default': False, 'description': ''}, {'id': 1331560260, 'node_id': 'MDU6TGFiZWwxMzMxNTYwMjYw', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/L', 'name': 'size/L', 'color': '6D53B9', 'default': False, 'description': ''}]",open,False,,[],,18,2019-11-30T04:30:03Z,2019-12-17T08:43:56Z,,NONE,"### CATEGORY

Choose one

- [ ] Bug Fix
- [x] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
Many BI applications, particularly in multi-tenancy scenarios, require support for row-level security. That is, the ability to show different slices of a table to users based on some user attribute.   To accomplish this, I've added a new model to describe row level security filters, which references a Table and a Role. So when adding a row level security filter, you specify a particular Role and Table.

When querying that table, the applicable filters are added to the query.  I've modified the query function [here](https://github.com/altef/incubator-superset/commit/ab6ae456daecd34e676273fa4d43c52875e00e94#diff-6506def3966137541a05177a6fb169d7R981-R987) to add any relevant to the WHERE clause.

As well, I've added a UI for managing the row level security filters.  And for convenience, added it as a related view for tables.

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
Before:

 ![menu-before](https://user-images.githubusercontent.com/4316295/69895421-dba32600-12e3-11ea-85fb-bfbffd36abd0.JPG)

After:

1. Row level security filters added to the Security menu:
![menu](https://user-images.githubusercontent.com/4316295/69893637-5743a980-12c9-11ea-8020-1f87f0c46c5d.jpg)

2. Row level security list
![list](https://user-images.githubusercontent.com/4316295/69893640-6c203d00-12c9-11ea-9962-81a320ffc2cd.jpg)

3. Row level security interface
![edit](https://user-images.githubusercontent.com/4316295/69893642-76dad200-12c9-11ea-8070-22f6f5f1d8cc.jpg)

That allows for the management of the RowLevelSecurityFilters model.  Additionally, for convenience, I've added it as a related view for tables.

![table-related-view](https://user-images.githubusercontent.com/4316295/69893652-a25dbc80-12c9-11ea-9f57-d2ec6b609315.jpg)

After logging in with a user assigned to that role, I can still supply additional filters:

![additional-filters](https://user-images.githubusercontent.com/4316295/69893666-c91bf300-12c9-11ea-9504-6c1a20727307.jpg)

The generated SQL includes the additional filters AND the clause supplied by the row level security filter(s).

![generated-sql](https://user-images.githubusercontent.com/4316295/69893678-e6e95800-12c9-11ea-82f6-5fe9160a7510.jpg)

### TEST PLAN
<!--- What steps should be taken to verify the changes -->
Everything seems to be working as expected on my end, but a few things should be done to verify the changes.

1. Set up a limited user
   1. Create a new role and give it access to a table.
   2. Create a new user and assign it the ``Gamma`` role, as well as the role you've just created.
   3. Create a ``Row level security filter`` and assign it the table and row.
2. Ensure that the table is still working as expected for you (there should be no change)
3. Create a simple dashboard built on that table
4. Verify the limited user is only seeing the filtered data 
   1. Log in as the limited user
   2. Check the table to ensure the filter is being applied.
   3. Check the dashboard to ensure the data is being limited.

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [x] Has associated issue: [#8644 ](https://github.com/apache/incubator-superset/issues/8644)
- [x] Changes UI
- [x] Requires DB Migration. 
    - To add a new model.)
- [ ] Confirm DB Migration upgrade and downgrade tested. 
    - I tested it, but presumably this doesn't  apply to me?
- [x] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,altef,4316295,MDQ6VXNlcjQzMTYyOTU=,https://avatars3.githubusercontent.com/u/4316295?v=4,,https://api.github.com/users/altef,https://github.com/altef,https://api.github.com/users/altef/followers,https://api.github.com/users/altef/following{/other_user},https://api.github.com/users/altef/gists{/gist_id},https://api.github.com/users/altef/starred{/owner}{/repo},https://api.github.com/users/altef/subscriptions,https://api.github.com/users/altef/orgs,https://api.github.com/users/altef/repos,https://api.github.com/users/altef/events{/privacy},https://api.github.com/users/altef/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8699,https://github.com/apache/incubator-superset/pull/8699,https://github.com/apache/incubator-superset/pull/8699.diff,https://github.com/apache/incubator-superset/pull/8699.patch,,,,,,,,,,,,,,,,,,
84,https://api.github.com/repos/apache/incubator-superset/issues/8698,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8698/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8698/comments,https://api.github.com/repos/apache/incubator-superset/issues/8698/events,https://github.com/apache/incubator-superset/issues/8698,530526501,MDU6SXNzdWU1MzA1MjY1MDE=,8698,"How do i remove the link ""Explorer in Superset"" in email report","[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,1,2019-11-30T03:24:50Z,2019-11-30T03:24:52Z,,NONE,"I would like to disable the link for access to superset server
I have already tried ""WEBDRIVER_BASEURL = None"" but it seem invalid",incubator-superset,apache,toilv,52364476,MDQ6VXNlcjUyMzY0NDc2,https://avatars1.githubusercontent.com/u/52364476?v=4,,https://api.github.com/users/toilv,https://github.com/toilv,https://api.github.com/users/toilv/followers,https://api.github.com/users/toilv/following{/other_user},https://api.github.com/users/toilv/gists{/gist_id},https://api.github.com/users/toilv/starred{/owner}{/repo},https://api.github.com/users/toilv/subscriptions,https://api.github.com/users/toilv/orgs,https://api.github.com/users/toilv/repos,https://api.github.com/users/toilv/events{/privacy},https://api.github.com/users/toilv/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
85,https://api.github.com/repos/apache/incubator-superset/issues/8697,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8697/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8697/comments,https://api.github.com/repos/apache/incubator-superset/issues/8697/events,https://github.com/apache/incubator-superset/issues/8697,530523658,MDU6SXNzdWU1MzA1MjM2NTg=,8697,Hope add data mining with the pytorch and scikit-learn like Orange3！,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,2,2019-11-30T02:43:43Z,2019-12-16T23:43:18Z,,NONE,Hope add data mining with the pytorch and scikit-learn like Orange3！,incubator-superset,apache,toop,1625023,MDQ6VXNlcjE2MjUwMjM=,https://avatars1.githubusercontent.com/u/1625023?v=4,,https://api.github.com/users/toop,https://github.com/toop,https://api.github.com/users/toop/followers,https://api.github.com/users/toop/following{/other_user},https://api.github.com/users/toop/gists{/gist_id},https://api.github.com/users/toop/starred{/owner}{/repo},https://api.github.com/users/toop/subscriptions,https://api.github.com/users/toop/orgs,https://api.github.com/users/toop/repos,https://api.github.com/users/toop/events{/privacy},https://api.github.com/users/toop/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
86,https://api.github.com/repos/apache/incubator-superset/issues/8696,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8696/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8696/comments,https://api.github.com/repos/apache/incubator-superset/issues/8696/events,https://github.com/apache/incubator-superset/issues/8696,530499389,MDU6SXNzdWU1MzA0OTkzODk=,8696,PyPI page - broken link and gitter,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1637466223, 'node_id': 'MDU6TGFiZWwxNjM3NDY2MjIz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/v0.35', 'name': 'v0.35', 'color': 'a4b7f9', 'default': False, 'description': ''}]",open,False,,[],,2,2019-11-29T22:22:06Z,2019-12-02T10:43:00Z,,CONTRIBUTOR,"There's a few minor issues with the PyPI readme:
1) A problem with the image for Visualize geospatial data with deck.gl
![Capture](https://user-images.githubusercontent.com/45243854/69891701-7ee84100-12cc-11ea-8c7a-39f871da758b.PNG)

2) Still pointing people to the Gitter in the Resources section.

@dpgaspar 

",incubator-superset,apache,francishemingway,45243854,MDQ6VXNlcjQ1MjQzODU0,https://avatars3.githubusercontent.com/u/45243854?v=4,,https://api.github.com/users/francishemingway,https://github.com/francishemingway,https://api.github.com/users/francishemingway/followers,https://api.github.com/users/francishemingway/following{/other_user},https://api.github.com/users/francishemingway/gists{/gist_id},https://api.github.com/users/francishemingway/starred{/owner}{/repo},https://api.github.com/users/francishemingway/subscriptions,https://api.github.com/users/francishemingway/orgs,https://api.github.com/users/francishemingway/repos,https://api.github.com/users/francishemingway/events{/privacy},https://api.github.com/users/francishemingway/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
87,https://api.github.com/repos/apache/incubator-superset/issues/8695,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8695/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8695/comments,https://api.github.com/repos/apache/incubator-superset/issues/8695/events,https://github.com/apache/incubator-superset/issues/8695,530497812,MDU6SXNzdWU1MzA0OTc4MTI=,8695,"""Custom OAuth2 configuration"" docs should mention auth_user_oauth and relevant info in Flask-AppBuilder security","[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,4,2019-11-29T22:11:44Z,2019-12-02T17:38:29Z,,NONE,"A clear and concise description of what the bug is.

### Expected results

To be able to read [the superset docs on Custom OAuth2 configuration](https://superset.incubator.apache.org/installation.html#custom-oauth2-configuration) and implement custom oauth2 configuration.

### Actual results

One follows the docs and finds oneself unable to **completely** process users using OAuth2.


# Suggested fix

The first thing is to make it clear that another inherited method, `auth_user_oauth`, will be called and state where this method lives. Mention the inheritance hierarchy of `CustomSSOSecurityManager` and make it clear that the default `auth_user_oauth` will return an error for users not in the database.

Also make it clear where the default Superset database is and how this is configured.

Suggest that `auth_user_oauth`  be overridden as well so that people do not need to [ask questions on Stackoverflow](https://stackoverflow.com/questions/47696881/how-to-add-user-and-login-with-google-oauth).

Provde a sample implementation that works, like this:

```python
 def auth_user_oauth(self, userinfo):
        """"""
            OAuth user Authentication

            :userinfo: dict with user information the keys have the same name
            as User model columns.
        """"""

        logger.debug(""in auth_user_oauth"")
        if ""username"" in userinfo:
            user = self.find_user(username=userinfo[""username""])
        elif ""email"" in userinfo:
            user = self.find_user(email=userinfo[""email""])
        else:
            user = False
            logger.error(""User info does not have username or email {0}"".format(userinfo))

            logger.debug(""user after find_user={}. type={}"".format(user, type(user)))

        # return None
        # User is disabled
        # if user and not user.is_active:
        #     logger.info(LOGMSG_WAR_SEC_LOGIN_FAILED.format(userinfo))
        #     return None
        # If user does not exist on the DB and not self user registration, go away
        if not user and not self.auth_user_registration:
            logger.debug(""user does not exist on the DB and not self user registration, go away"")
            return None
        # User does not exist, create one if self registration.
        if not user:
            aur = self.auth_user_registration_role
            role = self.find_role(aur)
            logger.debug(""Adding user with role={} representing aur={}"".format(role, aur))
            user = self.add_user(
                username=userinfo[""username""],
                first_name=userinfo.get(""first_name"", """"),
                last_name=userinfo.get(""last_name"", """"),
                email=userinfo.get(""email"", """"),
                role=role
            )
            if not user:
                logger.error(""Error creating a new OAuth user %s"" % userinfo[""username""])
                return None
            else:
                logger.debug(""Success!"")
        logger.debug(""final userbefore update ={}"".format(user))
        self.update_user_auth_stat(user)
        return user
```
",incubator-superset,apache,metaperl,21293,MDQ6VXNlcjIxMjkz,https://avatars3.githubusercontent.com/u/21293?v=4,,https://api.github.com/users/metaperl,https://github.com/metaperl,https://api.github.com/users/metaperl/followers,https://api.github.com/users/metaperl/following{/other_user},https://api.github.com/users/metaperl/gists{/gist_id},https://api.github.com/users/metaperl/starred{/owner}{/repo},https://api.github.com/users/metaperl/subscriptions,https://api.github.com/users/metaperl/orgs,https://api.github.com/users/metaperl/repos,https://api.github.com/users/metaperl/events{/privacy},https://api.github.com/users/metaperl/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
88,https://api.github.com/repos/apache/incubator-superset/issues/8691,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8691/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8691/comments,https://api.github.com/repos/apache/incubator-superset/issues/8691/events,https://github.com/apache/incubator-superset/issues/8691,530274184,MDU6SXNzdWU1MzAyNzQxODQ=,8691,Connection failed when trying to add a new database ,[],open,False,,[],,2,2019-11-29T10:35:22Z,2019-11-29T18:50:09Z,,NONE,"Hi, I'm new to superset, I am getting an connection failed error when I'm trying to add my greenplum database to the superset. It would be a great help if anyone could suggest a solution for this.

**Note:- I'm using a ssh tunnel to access the server where database resides, since I do not have direct access to it.** ",incubator-superset,apache,harshaSenaratne,25275596,MDQ6VXNlcjI1Mjc1NTk2,https://avatars2.githubusercontent.com/u/25275596?v=4,,https://api.github.com/users/harshaSenaratne,https://github.com/harshaSenaratne,https://api.github.com/users/harshaSenaratne/followers,https://api.github.com/users/harshaSenaratne/following{/other_user},https://api.github.com/users/harshaSenaratne/gists{/gist_id},https://api.github.com/users/harshaSenaratne/starred{/owner}{/repo},https://api.github.com/users/harshaSenaratne/subscriptions,https://api.github.com/users/harshaSenaratne/orgs,https://api.github.com/users/harshaSenaratne/repos,https://api.github.com/users/harshaSenaratne/events{/privacy},https://api.github.com/users/harshaSenaratne/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
89,https://api.github.com/repos/apache/incubator-superset/issues/8690,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8690/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8690/comments,https://api.github.com/repos/apache/incubator-superset/issues/8690/events,https://github.com/apache/incubator-superset/issues/8690,530090631,MDU6SXNzdWU1MzAwOTA2MzE=,8690,"Right ""schema access on [my_pg_instance].[my_schema]"" of uploaded ""CSV to Database"" table does not appear in Rights list of roles (PostgreSQL)","[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-11-28T22:28:16Z,2019-11-28T22:31:48Z,,NONE,"### Expected results

When importing a CSV e.g. to PostgreSQL database (e.g. ""my_pg_instance"") through menu item ""CSV to Database"" (path /csvtodatabaseview/form/ ); and when indicating a schema ""my_schema"" in field ""Schema"" (=>""Specify a schema ...""). Then when opening menu item ""List Roles"" (path /roles/list/) the right ""schema access on [my_pg_instance].[my_schema]"" should appear.

### Actual results

What actually happens is, that the newly created schema (e.g. ""my_schema"") does _not_ appear when trying to assign this schema to another role when editing a role in ""List Roles"" .

#### How to reproduce the bug

1. Go to menu ""CSV to Database"", select a PostgreSQL instance with CSV upload enabled.
2. Click on field 'Schema' and enter schema ""my_schema""
3. Go to menu ""List Roles"", edit a role and try to add ""schema access on [my_pg_instance].[my_schema]"".
4. ""schema access on [my_pg_instance].[my_schema]"" does not appear.

Issue is, that the user who just uploaded a CSV into a table can't handle rights on this table.

### Environment

- superset version: `0.34` 
- python version: `3.7` 
- node.js version: `N/A`
- npm version: `N/A`

### Checklist

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

We're struggling with a Superset Cloud Instance which is multi-tenant, i.e. where ""producers"" (roles) only see and share own databases, schemas, charts and dashboards with their ""consumers"" (roles).",incubator-superset,apache,sfkeller,43340,MDQ6VXNlcjQzMzQw,https://avatars2.githubusercontent.com/u/43340?v=4,,https://api.github.com/users/sfkeller,https://github.com/sfkeller,https://api.github.com/users/sfkeller/followers,https://api.github.com/users/sfkeller/following{/other_user},https://api.github.com/users/sfkeller/gists{/gist_id},https://api.github.com/users/sfkeller/starred{/owner}{/repo},https://api.github.com/users/sfkeller/subscriptions,https://api.github.com/users/sfkeller/orgs,https://api.github.com/users/sfkeller/repos,https://api.github.com/users/sfkeller/events{/privacy},https://api.github.com/users/sfkeller/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
90,https://api.github.com/repos/apache/incubator-superset/issues/8688,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8688/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8688/comments,https://api.github.com/repos/apache/incubator-superset/issues/8688/events,https://github.com/apache/incubator-superset/issues/8688,529987736,MDU6SXNzdWU1Mjk5ODc3MzY=,8688,PyArrow broke the build on ARM platform [Regression],"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,14,2019-11-28T15:56:13Z,2019-12-23T12:16:04Z,,NONE,"`pip install apache-superset==0.35.1` on Raspbian (Raspberry pi 4, ARM) ends with
```
ERROR: Could not find a version that satisfies the requirement pyarrow<0.15.0,>=0.14.1 (from apache-superset) (from versions: 0.9.0, 0.10.0, 0.11.0, 0.11.1, 0.12.0, 0.12.1, 0.13.0, 0.14.0, 0.15.1)
ERROR: No matching distribution found for pyarrow<0.15.0,>=0.14.1 (from apache-superset)

Version `0.34.1` installed correctly.
```

### Expected results

Apache superset installs correctly.

### Actual results

The installation ends with an error.

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Use system with ARM architecture.
2. Run `pip install apache-superset==0.35.1`

### Environment

(please complete the following information):

- superset version: `0.35.1`
- python version: `3.7.3`
- OS: Linux raspberrypi 4.19.75-v7l+ #1270 SMP Tue Sep 24 18:51:41 BST 2019 armv7l GNU/Linux

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [X] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [X] I have reproduced the issue with at least the latest released version of superset.
- [X] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

I tried to installed the latest version of `pyarrow` (as I saw the recent not released bump to 0.15.1).

This fails with: `ERROR: Could not build wheels for pyarrow which use PEP 517 and cannot be installed directly`
",incubator-superset,apache,jaksmid,3618465,MDQ6VXNlcjM2MTg0NjU=,https://avatars1.githubusercontent.com/u/3618465?v=4,,https://api.github.com/users/jaksmid,https://github.com/jaksmid,https://api.github.com/users/jaksmid/followers,https://api.github.com/users/jaksmid/following{/other_user},https://api.github.com/users/jaksmid/gists{/gist_id},https://api.github.com/users/jaksmid/starred{/owner}{/repo},https://api.github.com/users/jaksmid/subscriptions,https://api.github.com/users/jaksmid/orgs,https://api.github.com/users/jaksmid/repos,https://api.github.com/users/jaksmid/events{/privacy},https://api.github.com/users/jaksmid/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
91,https://api.github.com/repos/apache/incubator-superset/issues/8687,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8687/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8687/comments,https://api.github.com/repos/apache/incubator-superset/issues/8687/events,https://github.com/apache/incubator-superset/issues/8687,529949620,MDU6SXNzdWU1Mjk5NDk2MjA=,8687,[SIP-31] New dashboards API,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}]",open,False,,[],,2,2019-11-28T14:38:55Z,2019-11-30T00:23:34Z,,CONTRIBUTOR,"## [SIP] Proposal for new dashboards API

### Motivation

While moving away from MVC and specifically from `ModelView`'s we need to create the foundations for supporting React components and plain REST API functionality. During this transition I propose we take the chance to reorganize the current API that lives on `Superset` class ( exposed on `/superset/*`).

Final goals are:

- Restructure Superset's API.
- Create alternatives to `/superset/*` API endpoints, refactor the existing functionality respecting a RESTful API design.
- Prepare/Create base CRUD API endpoints that can eventually replace MVC `ModelView`'s and support future React components.
- Superset API is fully documented using OAS 3.X with an optional swagger UI.

FAB's new API highlights:

- API resource protection using JWT and/or flask-login signed cookies (current authentication method). API defaults to JWT only.
- Optional CRUD RESTful API using similar class overrides as `ModelViews`.
- When using auto CRUD we get rich filters, ordering, pagination and i18n for free.
- Delegate base API support like handling exceptions to FAB.
- Leverage Rison style URI arguments (we can use JSON also) out of the box with optional JSON schema validation.
- You can request for exactly the fields or metadata you want.
- OpenAPI automatic spec generation for CRUD, and easy generation for BaseApi method endpoints.

### Proposed Change

Migrate and create new CRUD API endpoint for dashboards. This change proposes to create the following endpoints:

| New endpoint                           | HTTP method | Old endpoint                                  |
|----------------------------------------|-------------|-----------------------------------------------|
| /api/v1/dashboard/&lt;id&gt;/published | POST        | /superset/dashboard/<dashboard_id>/published/ |
| /api/v1/dashboard/user_created         | GET         | /superset/created_dashboards/<user_id>/       |
| /api/v1/dashboard/user_favorite        | GET         | /superset/fave_dashboards/<user_id>/          |
| /api/v1/dashboard/&lt;id&gt;/slice     | POST        | /superset/add_slices/<dashboard_id>/          |
| /api/v1/dashboard/&lt;id&gt;/copy      | POST        | /superset/copy_dash                           |
| /api/v1/dashboard/import               | POST        | /superset/import_dashboards                   |
| /api/v1/dashboard/&lt;id&gt;           | PUT         | MVC and old API /dashboard/*                  |
| /api/v1/dashboard/<id>                 | DELETE      | MVC and old API /dashboard/*                  |
| /api/v1/dashboard/                     | POST        | MVC and old API /dashboard/*                  |
| /api/v1/dashboard/_info                | GET         | MVC and old API /dashboard/*                  |
| /api/v1/dashboard/                     | GET         | MVC and old API /dashboard/*                  |
| /api/v1/dashboard/&lt;id&gt;           | GET         | MVC and old API /dashboard/*                  |
| /api/v1/dashboard/export               | GET         | MVC action                                    |

Endpoint description:

| New endpoint                           | HTTP method | Description                                        |
|----------------------------------------|-------------|----------------------------------------------------|
| /api/v1/dashboard/&lt;id&gt;/published | POST        | Updates the published status of a dashboard        |
| /api/v1/dashboard/user_created         | GET         | Returns current user created dashboards            |
| /api/v1/dashboard/user_favorite        | GET         | Returns current user favorite dashboards           |
| /api/v1/dashboard/&lt;id&gt;/slice     | POST        | Adds slices to a dashboard                         |
| /api/v1/dashboard/&lt;id&gt;/copy      | POST        | Copies a dashboard                                 |
| /api/v1/dashboard/import               | POST        | Imports dashboards from a JSON file/payload        |
| /api/v1/dashboard/&lt;id&gt;           | PUT         | Update a dashboard                                 |
| /api/v1/dashboard/<id>                 | DELETE      | Deletes a dashboard                                |
| /api/v1/dashboard/                     | POST        | Add dashboard                                      |
| /api/v1/dashboard/_info                | GET         | metadata for filters, add/edit fields, permissions |
| /api/v1/dashboard/                     | GET         | get multiple dashboard items                       |
| /api/v1/dashboard/&lt;id&gt;           | GET         | get detail data for a dashboard                    |
| /api/v1/dashboard/export               | GET         | Export dashboards to YAML                          |
Notes:

- `_info` endpoint will may be disabled in favor of creating an additional endpoint for fetching related field values for dropdowns
- main POST, PUT endpoints will probably be custom implemented so we don't need to add custom functionality on `pre_add`, `pre_update` hooks 

### New or Changed Public Interfaces

The current dashboard API endpoints located on `class Superset` will continue to exist but would log a deprecation warning when accessed.

List of current endpoint's to be ""migrated"":

- /superset/dashboard/<dashboard_id>/published/
- /superset/created_dashboards/<user_id>/
- /superset/fave_dashboards/<user_id>/
- /superset/fave_dashboards_by_username/<username>/ (Just deprecation warning, this endpoint is probably not used)
- /superset/add_slices/<dashboard_id>/
- /superset/copy_dash

All React/JS references to these endpoints would be migrated to the new endpoints

### Migration Plan and Compatibility

This is a side by side migration, the old API would start issuing a deprecation warning with a target version for removal. Ex:
""This superset API is deprecated and will be removed in version 1.0.0""
",incubator-superset,apache,dpgaspar,4025227,MDQ6VXNlcjQwMjUyMjc=,https://avatars1.githubusercontent.com/u/4025227?v=4,,https://api.github.com/users/dpgaspar,https://github.com/dpgaspar,https://api.github.com/users/dpgaspar/followers,https://api.github.com/users/dpgaspar/following{/other_user},https://api.github.com/users/dpgaspar/gists{/gist_id},https://api.github.com/users/dpgaspar/starred{/owner}{/repo},https://api.github.com/users/dpgaspar/subscriptions,https://api.github.com/users/dpgaspar/orgs,https://api.github.com/users/dpgaspar/repos,https://api.github.com/users/dpgaspar/events{/privacy},https://api.github.com/users/dpgaspar/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
92,https://api.github.com/repos/apache/incubator-superset/issues/8686,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8686/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8686/comments,https://api.github.com/repos/apache/incubator-superset/issues/8686/events,https://github.com/apache/incubator-superset/issues/8686,529901274,MDU6SXNzdWU1Mjk5MDEyNzQ=,8686,Error while changing data source in chart,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 357044520, 'node_id': 'MDU6TGFiZWwzNTcwNDQ1MjA=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/cant-reproduce', 'name': 'cant-reproduce', 'color': '2c3e50', 'default': False, 'description': 'Issues that cannot be reproduced'}]",open,False,,[],,6,2019-11-28T13:04:25Z,2019-12-16T07:48:03Z,,NONE,"I am getting an error while changing data source in chart after selecting new data source

### Expected results

Data source should get changed to chosen source.

### Actual results

Message ""An error occurred"" 

 ### Screenshots

![image](https://user-images.githubusercontent.com/31547162/69807957-93fd9b00-120c-11ea-89f9-f6271740e424.png)

![image](https://user-images.githubusercontent.com/31547162/69808109-daeb9080-120c-11ea-9dca-939db4e408ca.png)



### Environment


- superset version: 0.30.0
- python version: 3.6.9
`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.


",incubator-superset,apache,hemantaggarwal,31547162,MDQ6VXNlcjMxNTQ3MTYy,https://avatars0.githubusercontent.com/u/31547162?v=4,,https://api.github.com/users/hemantaggarwal,https://github.com/hemantaggarwal,https://api.github.com/users/hemantaggarwal/followers,https://api.github.com/users/hemantaggarwal/following{/other_user},https://api.github.com/users/hemantaggarwal/gists{/gist_id},https://api.github.com/users/hemantaggarwal/starred{/owner}{/repo},https://api.github.com/users/hemantaggarwal/subscriptions,https://api.github.com/users/hemantaggarwal/orgs,https://api.github.com/users/hemantaggarwal/repos,https://api.github.com/users/hemantaggarwal/events{/privacy},https://api.github.com/users/hemantaggarwal/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
93,https://api.github.com/repos/apache/incubator-superset/issues/8685,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8685/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8685/comments,https://api.github.com/repos/apache/incubator-superset/issues/8685/events,https://github.com/apache/incubator-superset/issues/8685,529747989,MDU6SXNzdWU1Mjk3NDc5ODk=,8685,How is viz.py works ,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,4,2019-11-28T07:52:22Z,2019-11-29T05:54:38Z,,NONE,"I know when i need a new chart , i need modify viz.py to add a new class which will support the view and get data , response;
but i can only find where it defined, find no where and how it works
",incubator-superset,apache,liuhao-121,14848025,MDQ6VXNlcjE0ODQ4MDI1,https://avatars3.githubusercontent.com/u/14848025?v=4,,https://api.github.com/users/liuhao-121,https://github.com/liuhao-121,https://api.github.com/users/liuhao-121/followers,https://api.github.com/users/liuhao-121/following{/other_user},https://api.github.com/users/liuhao-121/gists{/gist_id},https://api.github.com/users/liuhao-121/starred{/owner}{/repo},https://api.github.com/users/liuhao-121/subscriptions,https://api.github.com/users/liuhao-121/orgs,https://api.github.com/users/liuhao-121/repos,https://api.github.com/users/liuhao-121/events{/privacy},https://api.github.com/users/liuhao-121/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
94,https://api.github.com/repos/apache/incubator-superset/issues/8684,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8684/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8684/comments,https://api.github.com/repos/apache/incubator-superset/issues/8684/events,https://github.com/apache/incubator-superset/pull/8684,529733669,MDExOlB1bGxSZXF1ZXN0MzQ2NTU0MTg5,8684,Fix hana time filter,"[{'id': 1329203144, 'node_id': 'MDU6TGFiZWwxMzI5MjAzMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/M', 'name': 'size/M', 'color': '705FA3', 'default': False, 'description': ''}]",open,False,,[],,2,2019-11-28T07:12:39Z,2019-12-17T20:22:57Z,,CONTRIBUTOR,"For specific information, please see: https://github.com/apache/incubator-superset/pull/8554",incubator-superset,apache,axuew,44701753,MDQ6VXNlcjQ0NzAxNzUz,https://avatars3.githubusercontent.com/u/44701753?v=4,,https://api.github.com/users/axuew,https://github.com/axuew,https://api.github.com/users/axuew/followers,https://api.github.com/users/axuew/following{/other_user},https://api.github.com/users/axuew/gists{/gist_id},https://api.github.com/users/axuew/starred{/owner}{/repo},https://api.github.com/users/axuew/subscriptions,https://api.github.com/users/axuew/orgs,https://api.github.com/users/axuew/repos,https://api.github.com/users/axuew/events{/privacy},https://api.github.com/users/axuew/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8684,https://github.com/apache/incubator-superset/pull/8684,https://github.com/apache/incubator-superset/pull/8684.diff,https://github.com/apache/incubator-superset/pull/8684.patch,,,,,,,,,,,,,,,,,,
95,https://api.github.com/repos/apache/incubator-superset/issues/8683,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8683/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8683/comments,https://api.github.com/repos/apache/incubator-superset/issues/8683/events,https://github.com/apache/incubator-superset/issues/8683,529662187,MDU6SXNzdWU1Mjk2NjIxODc=,8683,"Add checkbox beside each row of ""table""","[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,5,2019-11-28T02:44:28Z,2019-12-04T01:57:30Z,,NONE,"**Is your feature request related to a problem? Please describe.**
Add checkbox beside each row of ""table"" visualization type to allow user to select from the list and reflect the rows to another chart(such as line diagram). ie, If user select 3 rows out of 10 records, only the selected rows will be on the line chart.

**Additional context**
Current ""table"" is not so powerful. As a cornerstone to data presentation, the most important missing feature IMHO is to have a way to interact with user in order to provide a self-service platform. 
",incubator-superset,apache,jackyq2015,10520203,MDQ6VXNlcjEwNTIwMjAz,https://avatars0.githubusercontent.com/u/10520203?v=4,,https://api.github.com/users/jackyq2015,https://github.com/jackyq2015,https://api.github.com/users/jackyq2015/followers,https://api.github.com/users/jackyq2015/following{/other_user},https://api.github.com/users/jackyq2015/gists{/gist_id},https://api.github.com/users/jackyq2015/starred{/owner}{/repo},https://api.github.com/users/jackyq2015/subscriptions,https://api.github.com/users/jackyq2015/orgs,https://api.github.com/users/jackyq2015/repos,https://api.github.com/users/jackyq2015/events{/privacy},https://api.github.com/users/jackyq2015/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
96,https://api.github.com/repos/apache/incubator-superset/issues/8677,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8677/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8677/comments,https://api.github.com/repos/apache/incubator-superset/issues/8677/events,https://github.com/apache/incubator-superset/pull/8677,529454729,MDExOlB1bGxSZXF1ZXN0MzQ2MzI5MDY2,8677,[querysearch] Improve database query request on select dropdown,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1330950144, 'node_id': 'MDU6TGFiZWwxMzMwOTUwMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/S', 'name': 'size/S', 'color': 'C8B6FF', 'default': False, 'description': ''}]",open,False,,[],,1,2019-11-27T16:30:01Z,2019-11-28T11:11:04Z,,CONTRIBUTOR,"### CATEGORY

- [ ] Bug Fix
- [X] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
Improves select databases dropdown on query search by requesting:
- Just the columns we want: id, database_name
- override pagination
- order by database_name 

### ADDITIONAL INFORMATION
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,dpgaspar,4025227,MDQ6VXNlcjQwMjUyMjc=,https://avatars1.githubusercontent.com/u/4025227?v=4,,https://api.github.com/users/dpgaspar,https://github.com/dpgaspar,https://api.github.com/users/dpgaspar/followers,https://api.github.com/users/dpgaspar/following{/other_user},https://api.github.com/users/dpgaspar/gists{/gist_id},https://api.github.com/users/dpgaspar/starred{/owner}{/repo},https://api.github.com/users/dpgaspar/subscriptions,https://api.github.com/users/dpgaspar/orgs,https://api.github.com/users/dpgaspar/repos,https://api.github.com/users/dpgaspar/events{/privacy},https://api.github.com/users/dpgaspar/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8677,https://github.com/apache/incubator-superset/pull/8677,https://github.com/apache/incubator-superset/pull/8677.diff,https://github.com/apache/incubator-superset/pull/8677.patch,,,,,,,,,,,,,,,,,,
97,https://api.github.com/repos/apache/incubator-superset/issues/8675,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8675/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8675/comments,https://api.github.com/repos/apache/incubator-superset/issues/8675/events,https://github.com/apache/incubator-superset/issues/8675,529202800,MDU6SXNzdWU1MjkyMDI4MDA=,8675,Set dynamically default value of data filter,[],open,False,,[],,2,2019-11-27T08:53:01Z,2019-12-03T21:54:38Z,,NONE,"Hi,

I use Apache superset 0.34.
I trying to set a default value to a data filter.
I know i can set a value and save my dashboard to set a default valu, but i want my default value be set dynamically.
If i'm in february i want my dashboard filtered by january data.
If i'm in ma March i want my dashboard filtered by february data.
...

It's possible in apache superset 0.34 ?
If it's possible how can i do ?

Thanks :)

",incubator-superset,apache,jeremy-bi,58251060,MDQ6VXNlcjU4MjUxMDYw,https://avatars0.githubusercontent.com/u/58251060?v=4,,https://api.github.com/users/jeremy-bi,https://github.com/jeremy-bi,https://api.github.com/users/jeremy-bi/followers,https://api.github.com/users/jeremy-bi/following{/other_user},https://api.github.com/users/jeremy-bi/gists{/gist_id},https://api.github.com/users/jeremy-bi/starred{/owner}{/repo},https://api.github.com/users/jeremy-bi/subscriptions,https://api.github.com/users/jeremy-bi/orgs,https://api.github.com/users/jeremy-bi/repos,https://api.github.com/users/jeremy-bi/events{/privacy},https://api.github.com/users/jeremy-bi/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
98,https://api.github.com/repos/apache/incubator-superset/issues/8667,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8667/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8667/comments,https://api.github.com/repos/apache/incubator-superset/issues/8667/events,https://github.com/apache/incubator-superset/issues/8667,529042887,MDU6SXNzdWU1MjkwNDI4ODc=,8667,Support `start of` and `end of` in free text time range selector,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 415794708, 'node_id': 'MDU6TGFiZWw0MTU3OTQ3MDg=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.backend', 'name': '.backend', 'color': 'ecf0f1', 'default': False, 'description': ''}]",open,False,,[],,2,2019-11-27T00:21:27Z,2019-11-28T09:33:27Z,,CONTRIBUTOR,"**Is your feature request related to a problem? Please describe.**
Right now, typing `start of this month` maps to the end of the month, and `end of last month` maps to the beginning of last month.  this is because we don't support the `start of` and `end of` syntax and this gets simplified to `this month` and `last month`.

**Describe the solution you'd like**
Support the `start of` and `end of` modifiers",incubator-superset,apache,etr2460,7409244,MDQ6VXNlcjc0MDkyNDQ=,https://avatars2.githubusercontent.com/u/7409244?v=4,,https://api.github.com/users/etr2460,https://github.com/etr2460,https://api.github.com/users/etr2460/followers,https://api.github.com/users/etr2460/following{/other_user},https://api.github.com/users/etr2460/gists{/gist_id},https://api.github.com/users/etr2460/starred{/owner}{/repo},https://api.github.com/users/etr2460/subscriptions,https://api.github.com/users/etr2460/orgs,https://api.github.com/users/etr2460/repos,https://api.github.com/users/etr2460/events{/privacy},https://api.github.com/users/etr2460/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
99,https://api.github.com/repos/apache/incubator-superset/issues/8658,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8658/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8658/comments,https://api.github.com/repos/apache/incubator-superset/issues/8658/events,https://github.com/apache/incubator-superset/pull/8658,528507501,MDExOlB1bGxSZXF1ZXN0MzQ1NTU1NjA3,8658,fix: handle duplicate groupby keys,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,2,2019-11-26T06:00:33Z,2019-12-17T21:31:46Z,,MEMBER,"### CATEGORY

Choose one: bugfix

### SUMMARY
In a bubble chart, when picking the same `Series` and `Entity` against postgres, pandas chokes on something related to having a duplicate column name (`SELECT foo, foo FROM bar`)

<img width=""1030"" alt=""Screen Shot 2019-11-25 at 9 55 25 PM"" src=""https://user-images.githubusercontent.com/487433/69603084-6fb47b00-0fce-11ea-834d-5ba6b142c47c.png"">

stacktrace:
```
Traceback (most recent call last):
  File ""/Users/maximebeauchemin/code/superset/superset/connectors/sqla/models.py"", line 999, in query
    df = self.database.get_df(sql, self.schema, mutator)
  File ""/Users/maximebeauchemin/code/superset/superset/models/core.py"", line 992, in get_df
    if v.type == numpy.object_ and needs_conversion(df[k]):
  File ""/Users/maximebeauchemin/code/superset/superset/models/core.py"", line 963, in needs_conversion
    return not df_series.empty and isinstance(df_series[0], (list, dict))
  File ""/Users/maximebeauchemin/code/superset/env/lib/python3.6/site-packages/pandas/core/frame.py"", line 2927, in __getitem__
    indexer = self.columns.get_loc(key)
  File ""/Users/maximebeauchemin/code/superset/env/lib/python3.6/site-packages/pandas/core/indexes/base.py"", line 2657, in get_loc
    return self._engine.get_loc(key)
  File ""pandas/_libs/index.pyx"", line 108, in pandas._libs.index.IndexEngine.get_loc
  File ""pandas/_libs/index.pyx"", line 127, in pandas._libs.index.IndexEngine.get_loc
  File ""pandas/_libs/index.pyx"", line 142, in pandas._libs.index.IndexEngine._get_loc_duplicates
TypeError: '<' not supported between instances of 'str' and 'int'

This addresses the issue by preventing dups in selects/groupby altogether
```

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

",incubator-superset,apache,mistercrunch,487433,MDQ6VXNlcjQ4NzQzMw==,https://avatars1.githubusercontent.com/u/487433?v=4,,https://api.github.com/users/mistercrunch,https://github.com/mistercrunch,https://api.github.com/users/mistercrunch/followers,https://api.github.com/users/mistercrunch/following{/other_user},https://api.github.com/users/mistercrunch/gists{/gist_id},https://api.github.com/users/mistercrunch/starred{/owner}{/repo},https://api.github.com/users/mistercrunch/subscriptions,https://api.github.com/users/mistercrunch/orgs,https://api.github.com/users/mistercrunch/repos,https://api.github.com/users/mistercrunch/events{/privacy},https://api.github.com/users/mistercrunch/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8658,https://github.com/apache/incubator-superset/pull/8658,https://github.com/apache/incubator-superset/pull/8658.diff,https://github.com/apache/incubator-superset/pull/8658.patch,,,,,,,,,,,,,,,,,,
100,https://api.github.com/repos/apache/incubator-superset/issues/8655,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8655/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8655/comments,https://api.github.com/repos/apache/incubator-superset/issues/8655/events,https://github.com/apache/incubator-superset/issues/8655,528460017,MDU6SXNzdWU1Mjg0NjAwMTc=,8655,[SIP-30] Remove Tabs in SQL Lab,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}]",open,False,,[],,5,2019-11-26T03:14:22Z,2019-12-09T21:57:54Z,,CONTRIBUTOR,"## [SIP-30] Remove Tabs in SQL Lab

### Motivation

We are devoting screen space to a custom tab UI that is less effective than that offered natively by the browser. Other upcoming features such as more powerful edit history/undo, and better navigation/discovery make tabs less important. The new design directions coming from the superset design group specify a tabless UI.

### Proposed Change

- Remove the tab bar in SQL Lab
- Include the id of the current query in the SQL Lab url: `myapp.com/superset/sqllab/42`
- Migration page to avoid deleting users' work

I expect some of the discussion around this SIP to center on timing: which new features should be in place before tabs are removed? Much of the reason for removing tabs is because of features that will be added or changed, such as changes to the query history panel.

Just for reference, here's the design we're working towards. This SIP is not about implementing everything on this screen, only removing the tabs.

<img width=""1360"" alt=""Screen Shot 2019-11-25 at 7 04 12 PM"" src=""https://user-images.githubusercontent.com/1858430/69596121-60293800-0fb6-11ea-9a8c-e231544eee78.png"">

### New or Changed Public Interfaces

- ""Run query in a new tab"" button in the query history will open a new browser tab.
- ""Share query"" should use the new url format, and should save the query if it hasn't been saved.
- Links in the saved queries screen and query search should use the new url format.
- Remove the ctrl-t keyboard shortcut?

### Migration Plan and Compatibility

Many users will have some unsaved queries from before this change. We can offer them a temporary ""manual migration page"" of links to open the unsaved work in the new tabless UI, where they can save it. Alternatively we could save any unsaved queries from the tab layout, but I personally prefer the manual migration strategy as it is clearer about what's going on.",incubator-superset,apache,suddjian,1858430,MDQ6VXNlcjE4NTg0MzA=,https://avatars0.githubusercontent.com/u/1858430?v=4,,https://api.github.com/users/suddjian,https://github.com/suddjian,https://api.github.com/users/suddjian/followers,https://api.github.com/users/suddjian/following{/other_user},https://api.github.com/users/suddjian/gists{/gist_id},https://api.github.com/users/suddjian/starred{/owner}{/repo},https://api.github.com/users/suddjian/subscriptions,https://api.github.com/users/suddjian/orgs,https://api.github.com/users/suddjian/repos,https://api.github.com/users/suddjian/events{/privacy},https://api.github.com/users/suddjian/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
101,https://api.github.com/repos/apache/incubator-superset/issues/8647,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8647/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8647/comments,https://api.github.com/repos/apache/incubator-superset/issues/8647/events,https://github.com/apache/incubator-superset/issues/8647,528167208,MDU6SXNzdWU1MjgxNjcyMDg=,8647,Filters not being applied on annotation layers,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-11-25T15:39:03Z,2019-11-25T15:39:18Z,,NONE,"Filters fail to be applied on annotation layers added to a time series line chart. The filter will only be applied to the base line chart onto which the annotation layers were added. The annotation layer graphs remain the same.

### Expected results

Filters to be applied on annotation layers

### Actual results

Filters are only applied to the base chart. Annotation layer graphs remain unchanged.

#### Screenshots

The chart below shows the number of visits to a facility observed between December and March. There are three line graphs: The blue line graph which is the base graph, plots the total number of visits made in a month. The other two line graphs represent two added annotation layers, the High Risk layer(orange) and Low Risk layer(maroon). Each of these annotation layers show the total visits done for each of the risk cases per month. 

![Base Chart with Annotations Added](https://user-images.githubusercontent.com/45279477/69551120-39b2cf00-0fad-11ea-96fb-77b7eb521a36.png)

On applying a filter as highlighted by the red box, the values of the line graphs remain the same for both the annotation layers (High risk and low risk line graphs). Only values of the base chart(blue graph) are updated.

![image](https://user-images.githubusercontent.com/45279477/69551373-a037ed00-0fad-11ea-9df1-e4d0a65d0b9b.png)

### Environment

- superset version: `0.34.0`
- python version: `3.6`

### Steps to reproduce
1) Plot a time series
2) Add annotation layers (also time series)
3) Apply a filter

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

",incubator-superset,apache,HusnaHariz,45279477,MDQ6VXNlcjQ1Mjc5NDc3,https://avatars1.githubusercontent.com/u/45279477?v=4,,https://api.github.com/users/HusnaHariz,https://github.com/HusnaHariz,https://api.github.com/users/HusnaHariz/followers,https://api.github.com/users/HusnaHariz/following{/other_user},https://api.github.com/users/HusnaHariz/gists{/gist_id},https://api.github.com/users/HusnaHariz/starred{/owner}{/repo},https://api.github.com/users/HusnaHariz/subscriptions,https://api.github.com/users/HusnaHariz/orgs,https://api.github.com/users/HusnaHariz/repos,https://api.github.com/users/HusnaHariz/events{/privacy},https://api.github.com/users/HusnaHariz/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
102,https://api.github.com/repos/apache/incubator-superset/issues/8645,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8645/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8645/comments,https://api.github.com/repos/apache/incubator-superset/issues/8645/events,https://github.com/apache/incubator-superset/issues/8645,528078514,MDU6SXNzdWU1MjgwNzg1MTQ=,8645,How do I join two tables in Superset ? I need to combine the result in order to visualize the data,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,5,2019-11-25T13:14:07Z,2019-11-27T04:09:39Z,,NONE,"
How do I join two tables in Superset ? I need to combine the result in order to visualize the data
",incubator-superset,apache,DishiBhinde,49978673,MDQ6VXNlcjQ5OTc4Njcz,https://avatars2.githubusercontent.com/u/49978673?v=4,,https://api.github.com/users/DishiBhinde,https://github.com/DishiBhinde,https://api.github.com/users/DishiBhinde/followers,https://api.github.com/users/DishiBhinde/following{/other_user},https://api.github.com/users/DishiBhinde/gists{/gist_id},https://api.github.com/users/DishiBhinde/starred{/owner}{/repo},https://api.github.com/users/DishiBhinde/subscriptions,https://api.github.com/users/DishiBhinde/orgs,https://api.github.com/users/DishiBhinde/repos,https://api.github.com/users/DishiBhinde/events{/privacy},https://api.github.com/users/DishiBhinde/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
103,https://api.github.com/repos/apache/incubator-superset/issues/8644,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8644/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8644/comments,https://api.github.com/repos/apache/incubator-superset/issues/8644/events,https://github.com/apache/incubator-superset/issues/8644,527646163,MDU6SXNzdWU1Mjc2NDYxNjM=,8644,[SIP-29] Add support for row-level security,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,17,2019-11-24T04:03:26Z,2019-11-30T03:04:21Z,,NONE,"## [SIP-29] Proposal to add support for row-level security
### Motivation

Many BI applications, particularly in multi-tenancy scenarios, require support for row-level security. That is, the ability to show different slices of a table to users based on some user attribute. 

This feature has been requested in Superset several times, including:
https://github.com/apache/incubator-superset/issues/660
https://github.com/apache/incubator-superset/issues/5128
https://github.com/apache/incubator-superset/issues/7887
https://github.com/apache/incubator-superset/issues/8023

### Proposed Change

Primarily, this feature would require two sub-features:
1. The ability to add user attributes
2. The ability to filter queries based on these attributes

The proposed solution would be to add an 'attributes' property to roles that would essentially be a user-defined key-value store:
<img width=""1239"" alt=""Screenshot 2019-11-24 02 35 54"" src=""https://user-images.githubusercontent.com/48782327/69489249-cb66f300-0e6c-11ea-9be2-905a25d2548f.png"">

and to make those role attributes available as values for Query Filters:
<img width=""1237"" alt=""Screenshot 2019-11-24 02 38 26"" src=""https://user-images.githubusercontent.com/48782327/69489261-f2252980-0e6c-11ea-90d8-658b24fd82d3.png"">


### New or Changed Public Interfaces

- New 'attributes' property added to roles
- Changes to Query Filters to allow access to attribute values (e.g by macros like WHERE column={{role.attributes.key}}
- Minor UI changes associated with the above

### New dependencies

N/A

### Migration Plan and Compatibility

TBD

### Rejected Alternatives

Pre-processing data into multiple tables or views:
- This solution does not scale well, and requires all attribute values to be known a priori
- Requires duplicate dashboards and charts

Reverse proxy
- Issues with identifying the user initiating the query",incubator-superset,apache,justin-barton,48782327,MDQ6VXNlcjQ4NzgyMzI3,https://avatars0.githubusercontent.com/u/48782327?v=4,,https://api.github.com/users/justin-barton,https://github.com/justin-barton,https://api.github.com/users/justin-barton/followers,https://api.github.com/users/justin-barton/following{/other_user},https://api.github.com/users/justin-barton/gists{/gist_id},https://api.github.com/users/justin-barton/starred{/owner}{/repo},https://api.github.com/users/justin-barton/subscriptions,https://api.github.com/users/justin-barton/orgs,https://api.github.com/users/justin-barton/repos,https://api.github.com/users/justin-barton/events{/privacy},https://api.github.com/users/justin-barton/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
104,https://api.github.com/repos/apache/incubator-superset/issues/8642,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8642/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8642/comments,https://api.github.com/repos/apache/incubator-superset/issues/8642/events,https://github.com/apache/incubator-superset/issues/8642,527533526,MDU6SXNzdWU1Mjc1MzM1MjY=,8642,Email report scheduler on UI,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-11-23T09:22:48Z,2019-11-23T09:22:50Z,,CONTRIBUTOR,"It's very useful and convinces to create email reports in the superset UI. For example in  the dashboard UI or chart UI, It can be sent this chart/dashboard to some emails[it can be different for each ] and also with different schedule time",incubator-superset,apache,blcksrx,35199552,MDQ6VXNlcjM1MTk5NTUy,https://avatars0.githubusercontent.com/u/35199552?v=4,,https://api.github.com/users/blcksrx,https://github.com/blcksrx,https://api.github.com/users/blcksrx/followers,https://api.github.com/users/blcksrx/following{/other_user},https://api.github.com/users/blcksrx/gists{/gist_id},https://api.github.com/users/blcksrx/starred{/owner}{/repo},https://api.github.com/users/blcksrx/subscriptions,https://api.github.com/users/blcksrx/orgs,https://api.github.com/users/blcksrx/repos,https://api.github.com/users/blcksrx/events{/privacy},https://api.github.com/users/blcksrx/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
105,https://api.github.com/repos/apache/incubator-superset/issues/8639,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8639/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8639/comments,https://api.github.com/repos/apache/incubator-superset/issues/8639/events,https://github.com/apache/incubator-superset/issues/8639,527496842,MDU6SXNzdWU1Mjc0OTY4NDI=,8639,[SIP-27] Proposal for Paranoid Deletes,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,3,2019-11-23T02:26:44Z,2019-11-26T18:27:31Z,,CONTRIBUTOR,"## [SIP] Proposal for Paranoid Deletes

### Motivation

At Airbnb we have a vast number of entities housed within Superset. Our deployment has tens of thousands of charts (both manually and procedurally generated), thousands of dashboards, and tens of thousands of registered datasources and tables (both physical and virtual). 

In a recent analysis of a specific Druid NoSQL (native) cluster, from a sample of ~ 5k charts only 34% of charts rendered, i.e., returned a 200 status code from the `/supserset/slice_json` route.

The following chart shows the renderability of charts as a function of last saved, which shows that a chart's viability often decays over time due to creep in the datasource metadata and the saved chart parameters.  

![Screen Shot 2019-11-22 at 5 50 14 PM](https://user-images.githubusercontent.com/4567245/69471248-193b0880-0d52-11ea-920a-01bea6511628.png)

Ideally we would like to have a mechanism to clean up obsolete resources (charts, dashboards, or datasources) in a somewhat paranoid manner, i.e., using soft deletes. This should help keep our deployment at a manageable size and improve the perceived reliability and quality (from a usability standpoint) of Superset assets.  

### Proposed Change

The proposed solution was originally mentioned by @etr2460 but I thought it was worthwhile formalizing this as a SIP. This borrows an idea from [Ruby](https://github.com/rubysherpas/paranoia) where we first soft delete records my marking them as deleted (with an associated timestamp) before performing a hard delete (deleting the record _n_-days later). Users could be prompted that their charts were being deleted and they can take corrective action to undelete it if they see fit.

There's actually a Python package [sqla-paranoid](https://github.com/jeanphix/sqla-paranoid) which brings transparent soft deletes to SQLAlchemy which we could use or replicate. The TL;DR is this would add a `deleted_at` (or `deleted_on` for consistency) column which would track soft deleted records. Records which are soft deleted wouldn't show up in the CRUD views by default unless the filter was enabled (not unlike how SQL Lab Views are ignored by default in the `tablemodelview`).   

Records could be marked using a hook, trigger, or cron as deletable based on various criterion using cascading context:

#### Charts 

- Consistently† returns an error. 
- Consistently† returns no data.
- Has not been viewed for _n_-days.

† Note this could leverage a cron (or similar) and be based on customizable rules, i.e., _x_ of the last _n_-days.

#### Dashboards

- Contains no charts. 

##### Tables/Datasources 

- Not referenced by any charts.

### New or Changed Public Interfaces

We would need to updated the data model and leverage `sql-paranoid` (or similar) for enabling the soft-deletes. We would also need to update the FAB views to handle filtering/exclusion of soft deleted records. Finally we would need to implement triggers or similar to i) soft delete records, and ii) hard delete records. 

### New dependencies

The only new dependency would be `sqla-paranoid` (no public license) if we decided not to write this ourself. Note the package only contains several hundred lines of codes. 

### Migration Plan and Compatibility

We would need to update the schema to include the `deleted_at` (or `deleted_on`) column for certain tables. Note I think we only need this for charts, dashboards, and datasources (the cascade deletes should handle the cleanup of columns and metrics). 

### Rejected Alternatives

None. 

to: @etr2460 @mistercrunch @villebro @willbarrett 
cc: @vylc ",incubator-superset,apache,john-bodley,4567245,MDQ6VXNlcjQ1NjcyNDU=,https://avatars1.githubusercontent.com/u/4567245?v=4,,https://api.github.com/users/john-bodley,https://github.com/john-bodley,https://api.github.com/users/john-bodley/followers,https://api.github.com/users/john-bodley/following{/other_user},https://api.github.com/users/john-bodley/gists{/gist_id},https://api.github.com/users/john-bodley/starred{/owner}{/repo},https://api.github.com/users/john-bodley/subscriptions,https://api.github.com/users/john-bodley/orgs,https://api.github.com/users/john-bodley/repos,https://api.github.com/users/john-bodley/events{/privacy},https://api.github.com/users/john-bodley/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
106,https://api.github.com/repos/apache/incubator-superset/issues/8638,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8638/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8638/comments,https://api.github.com/repos/apache/incubator-superset/issues/8638/events,https://github.com/apache/incubator-superset/pull/8638,527494399,MDExOlB1bGxSZXF1ZXN0MzQ0NzY0Mjk1,8638,superset-ui-plugins linking tool for local development,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1329203144, 'node_id': 'MDU6TGFiZWwxMzI5MjAzMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/M', 'name': 'size/M', 'color': '705FA3', 'default': False, 'description': ''}]",open,False,,[],,3,2019-11-23T02:04:34Z,2019-12-10T00:35:32Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [ ] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [x] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

This adds a tool to aid local plugin development/debugging by linking all of the packages in the `superset-ui-plugins` repo. A new npm script, `plugin-devmode-on`, `npm link`s all the superset-ui-plugins. A new webpack config detects any npm linked superset-ui-plugins, and automatically changes imports for those plugins to import from `/src`. This makes a [whole series of steps](https://github.com/apache-superset/superset-ui/blob/master/docs/debugging.md) unnecessary. You can set the location to use for the repo with the env variable `SUPERSET_UI_PLUGINS_PATH`.

Another npm script `plugin-devmode-off` undoes the changes of `plugin-devmode-on` by running `npm ci`.

*This is not entirely working, just yet.* The `BoxPlotChartPlugin` in `@superset-ui/preset-chart-xy` plugin is imported by reaching into the `/esm/legacy` directory. This breaks, because webpack rewrites it to look for `src/esm/legacy`, which does not exist. We propose to solve this by either modernizing the plugin (no idea how easy/difficult that is), or splitting it into a legacy version and a non-legacy version, so that we don't need to reach inside a build folder to import the chart. Input would be appreciated from anyone with more insight into the history of that plugin.",incubator-superset,apache,suddjian,1858430,MDQ6VXNlcjE4NTg0MzA=,https://avatars0.githubusercontent.com/u/1858430?v=4,,https://api.github.com/users/suddjian,https://github.com/suddjian,https://api.github.com/users/suddjian/followers,https://api.github.com/users/suddjian/following{/other_user},https://api.github.com/users/suddjian/gists{/gist_id},https://api.github.com/users/suddjian/starred{/owner}{/repo},https://api.github.com/users/suddjian/subscriptions,https://api.github.com/users/suddjian/orgs,https://api.github.com/users/suddjian/repos,https://api.github.com/users/suddjian/events{/privacy},https://api.github.com/users/suddjian/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8638,https://github.com/apache/incubator-superset/pull/8638,https://github.com/apache/incubator-superset/pull/8638.diff,https://github.com/apache/incubator-superset/pull/8638.patch,,,,,,,,,,,,,,,,,,
107,https://api.github.com/repos/apache/incubator-superset/issues/8634,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8634/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8634/comments,https://api.github.com/repos/apache/incubator-superset/issues/8634/events,https://github.com/apache/incubator-superset/issues/8634,527362223,MDU6SXNzdWU1MjczNjIyMjM=,8634,Document enabling debugging in companion modules,[],open,False,,[],,3,2019-11-22T18:58:56Z,2019-11-23T04:42:05Z,,NONE,"
### Expected results

I expected to be able to read the Superset docs to see how to enable `DEBUG` level in modules that Superset relies on (e.g. Flask-Appbuilder, Flask-OAuthlib).

### Actual results

Not sure how to instrument `superset_config.py` so that I can get detailed feedback on how the OAuth2 authorization is taking place in my custom SSO security model.

### Checklist

- [x ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

As you can see, this is a popular question, but no one has answered:
* https://www.reddit.com/r/flask/comments/dzy3f0/how_to_configure_logging_for_an_imported_module/
* https://stackoverflow.com/questions/58999444/how-to-configure-logging-for-an-imported-module
",incubator-superset,apache,metaperl,21293,MDQ6VXNlcjIxMjkz,https://avatars3.githubusercontent.com/u/21293?v=4,,https://api.github.com/users/metaperl,https://github.com/metaperl,https://api.github.com/users/metaperl/followers,https://api.github.com/users/metaperl/following{/other_user},https://api.github.com/users/metaperl/gists{/gist_id},https://api.github.com/users/metaperl/starred{/owner}{/repo},https://api.github.com/users/metaperl/subscriptions,https://api.github.com/users/metaperl/orgs,https://api.github.com/users/metaperl/repos,https://api.github.com/users/metaperl/events{/privacy},https://api.github.com/users/metaperl/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
108,https://api.github.com/repos/apache/incubator-superset/issues/8632,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8632/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8632/comments,https://api.github.com/repos/apache/incubator-superset/issues/8632/events,https://github.com/apache/incubator-superset/issues/8632,526960445,MDU6SXNzdWU1MjY5NjA0NDU=,8632,docker-compose  failed to build,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1151895046, 'node_id': 'MDU6TGFiZWwxMTUxODk1MDQ2', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.docker', 'name': '.docker', 'color': 'ecf0f1', 'default': False, 'description': ''}]",open,False,,[],,8,2019-11-22T03:08:01Z,2019-12-09T11:31:05Z,,NONE,"Step 16/22 : USER superset
 ---> Running in 696d6fc0cd39
Removing intermediate container 696d6fc0cd39
 ---> 1552fd127697
Step 17/22 : RUN cd superset/assets     && npm ci     && npm run build     && rm -rf node_modules
 ---> Running in 83c241f02c64
/bin/sh: 1: npm: not found
ERROR: Service 'superset' failed to build: The command '/bin/sh -c cd superset/assets     && npm ci     && npm run build     && rm -rf node_modules' returned a non-zero code: 127",incubator-superset,apache,lyy8510a,8265762,MDQ6VXNlcjgyNjU3NjI=,https://avatars2.githubusercontent.com/u/8265762?v=4,,https://api.github.com/users/lyy8510a,https://github.com/lyy8510a,https://api.github.com/users/lyy8510a/followers,https://api.github.com/users/lyy8510a/following{/other_user},https://api.github.com/users/lyy8510a/gists{/gist_id},https://api.github.com/users/lyy8510a/starred{/owner}{/repo},https://api.github.com/users/lyy8510a/subscriptions,https://api.github.com/users/lyy8510a/orgs,https://api.github.com/users/lyy8510a/repos,https://api.github.com/users/lyy8510a/events{/privacy},https://api.github.com/users/lyy8510a/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
109,https://api.github.com/repos/apache/incubator-superset/issues/8613,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8613/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8613/comments,https://api.github.com/repos/apache/incubator-superset/issues/8613/events,https://github.com/apache/incubator-superset/issues/8613,525833161,MDU6SXNzdWU1MjU4MzMxNjE=,8613,Slack invitation in docs is expired,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,3,2019-11-20T14:19:43Z,2019-11-25T23:23:58Z,,NONE,"The link to join Slack at https://superset.incubator.apache.org/ is expired. This is under ""Join our Slack"" in ""Superset Resources""
https://join.slack.com/t/apache-superset/shared_invite/enQtNDMxMDY5NjM4MDU0LTc2Y2QwYjE4NGYwNzQyZWUwYTExZTdiZDMzMWQwZjc2YmJmM2QyMDkwMGVjZTA4N2I2MzUxZTk2YmE5MWRhZWE


### Expected results

I'm invited to the Superset slack

### Actual results

The link is expired

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Go to https://superset.incubator.apache.org/
2. Click on ""Join Our Slack""
3. See Error

### Environment
N/A

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!
N/A



",incubator-superset,apache,CalRobert,1351621,MDQ6VXNlcjEzNTE2MjE=,https://avatars0.githubusercontent.com/u/1351621?v=4,,https://api.github.com/users/CalRobert,https://github.com/CalRobert,https://api.github.com/users/CalRobert/followers,https://api.github.com/users/CalRobert/following{/other_user},https://api.github.com/users/CalRobert/gists{/gist_id},https://api.github.com/users/CalRobert/starred{/owner}{/repo},https://api.github.com/users/CalRobert/subscriptions,https://api.github.com/users/CalRobert/orgs,https://api.github.com/users/CalRobert/repos,https://api.github.com/users/CalRobert/events{/privacy},https://api.github.com/users/CalRobert/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
110,https://api.github.com/repos/apache/incubator-superset/issues/8610,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8610/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8610/comments,https://api.github.com/repos/apache/incubator-superset/issues/8610/events,https://github.com/apache/incubator-superset/issues/8610,525715301,MDU6SXNzdWU1MjU3MTUzMDE=,8610,Enhancement: Interactive Dashboards using cross filter design,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-11-20T10:33:02Z,2019-11-20T10:33:05Z,,NONE,"**Is your feature request related to a problem? Please describe.**
i want the design with cross filter usage when interact with thwe chart affect the other charts

**Describe the solution you'd like**
https://github.com/crossfilter/universe
",incubator-superset,apache,kalimuthu123,42966797,MDQ6VXNlcjQyOTY2Nzk3,https://avatars3.githubusercontent.com/u/42966797?v=4,,https://api.github.com/users/kalimuthu123,https://github.com/kalimuthu123,https://api.github.com/users/kalimuthu123/followers,https://api.github.com/users/kalimuthu123/following{/other_user},https://api.github.com/users/kalimuthu123/gists{/gist_id},https://api.github.com/users/kalimuthu123/starred{/owner}{/repo},https://api.github.com/users/kalimuthu123/subscriptions,https://api.github.com/users/kalimuthu123/orgs,https://api.github.com/users/kalimuthu123/repos,https://api.github.com/users/kalimuthu123/events{/privacy},https://api.github.com/users/kalimuthu123/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
111,https://api.github.com/repos/apache/incubator-superset/issues/8609,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8609/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8609/comments,https://api.github.com/repos/apache/incubator-superset/issues/8609/events,https://github.com/apache/incubator-superset/issues/8609,525710951,MDU6SXNzdWU1MjU3MTA5NTE=,8609,Support for Impersonation over LDAP,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-11-20T10:25:28Z,2019-11-20T10:25:31Z,,NONE,"We are trying to manage multiple cluster deployments. Hence, we want to further fine-grain cluster access by way of ensuring that when the users authenticate using LDAP over Superset, 
in a way that it does impersonate as well as adhere to the LDAP security group specification.",incubator-superset,apache,rais2-pivotal,10445832,MDQ6VXNlcjEwNDQ1ODMy,https://avatars0.githubusercontent.com/u/10445832?v=4,,https://api.github.com/users/rais2-pivotal,https://github.com/rais2-pivotal,https://api.github.com/users/rais2-pivotal/followers,https://api.github.com/users/rais2-pivotal/following{/other_user},https://api.github.com/users/rais2-pivotal/gists{/gist_id},https://api.github.com/users/rais2-pivotal/starred{/owner}{/repo},https://api.github.com/users/rais2-pivotal/subscriptions,https://api.github.com/users/rais2-pivotal/orgs,https://api.github.com/users/rais2-pivotal/repos,https://api.github.com/users/rais2-pivotal/events{/privacy},https://api.github.com/users/rais2-pivotal/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
112,https://api.github.com/repos/apache/incubator-superset/issues/8594,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8594/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8594/comments,https://api.github.com/repos/apache/incubator-superset/issues/8594/events,https://github.com/apache/incubator-superset/pull/8594,524686501,MDExOlB1bGxSZXF1ZXN0MzQyNDE3MTEx,8594,Create new session for tab migration,"[{'id': 1330950144, 'node_id': 'MDU6TGFiZWwxMzMwOTUwMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/S', 'name': 'size/S', 'color': 'C8B6FF', 'default': False, 'description': ''}]",open,False,,[],,3,2019-11-18T23:45:34Z,2019-11-19T17:50:26Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [X] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

Friday we turned on the `SQLLAB_BACKEND_PERSISTENCE` at Lyft, and noticed a deadlock when migrating SQL Lab tabs from `localStorage` to the backend:

```
sqlalchemy.exc.OperationalError: (_mysql_exceptions.OperationalError) (1213, 'Deadlock found when trying to get lock; try restarting transaction')
[SQL: INSERT INTO tab_state (created_on, changed_on, extra_json, user_id, label, active, database_id, `schema`, `sql`, query_limit, latest_query_id, autorun, template_params, created_by_fk, changed_by_fk) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]
[parameters: (datetime.datetime(2019, 11, 16, 1, 39, 45, 903405), datetime.datetime(2019, 11, 16, 1, 39, 45, 903410), '{}', '1963', 'dim_applicants', 1, 7, None, 'select * from events_annotated.event_ride_requested limit 10', None, None, 0, None, 1963, 1963)]
```

Note that there was no data loss, and the tabs were migrated successfully on a refresh.

I tried to repro this locally, migrating 20 tabs to a MySQL database, but I wasn't able to hit the deadlock. Looking at the code, it seems that we reuse the same session across all requests, so I refactored it to create a new session for each request.

@mistercrunch do you think this would fix the problem? I'm not super familiar with SQL Alchemy, but from what I read this should work.

<!-- ### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF -->
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

I wasn't able to repro the original bug, but ran this code to ensure that it still works.

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS

@mistercrunch ",incubator-superset,apache,betodealmeida,1534870,MDQ6VXNlcjE1MzQ4NzA=,https://avatars3.githubusercontent.com/u/1534870?v=4,,https://api.github.com/users/betodealmeida,https://github.com/betodealmeida,https://api.github.com/users/betodealmeida/followers,https://api.github.com/users/betodealmeida/following{/other_user},https://api.github.com/users/betodealmeida/gists{/gist_id},https://api.github.com/users/betodealmeida/starred{/owner}{/repo},https://api.github.com/users/betodealmeida/subscriptions,https://api.github.com/users/betodealmeida/orgs,https://api.github.com/users/betodealmeida/repos,https://api.github.com/users/betodealmeida/events{/privacy},https://api.github.com/users/betodealmeida/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8594,https://github.com/apache/incubator-superset/pull/8594,https://github.com/apache/incubator-superset/pull/8594.diff,https://github.com/apache/incubator-superset/pull/8594.patch,,,,,,,,,,,,,,,,,,
113,https://api.github.com/repos/apache/incubator-superset/issues/8588,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8588/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8588/comments,https://api.github.com/repos/apache/incubator-superset/issues/8588/events,https://github.com/apache/incubator-superset/issues/8588,523932358,MDU6SXNzdWU1MjM5MzIzNTg=,8588,Scheduling email and FTP in Superset 0.33 version on RHEL Linux environment-Not working,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,5,2019-11-17T04:09:25Z,2019-11-20T03:31:53Z,,NONE,"Hi,

I am trying to configure Scheduling and FTP in Superset 0.33 version on Linux env.
I have used Celery, Celery beat , Redis, geckodriver, headless firefox, Nginx, Gunicorn but not able to receive an email not even a test mail which is part of dryrun.

I would like to know if scheduling works on Linux environment and what specific configurations needs to done for Linux env.

### Environment



- superset version: 0.33 
- python version: `3.7
- Linux Environment

-Thank you,
Nithya A
",incubator-superset,apache,nithya-priya,4849572,MDQ6VXNlcjQ4NDk1NzI=,https://avatars1.githubusercontent.com/u/4849572?v=4,,https://api.github.com/users/nithya-priya,https://github.com/nithya-priya,https://api.github.com/users/nithya-priya/followers,https://api.github.com/users/nithya-priya/following{/other_user},https://api.github.com/users/nithya-priya/gists{/gist_id},https://api.github.com/users/nithya-priya/starred{/owner}{/repo},https://api.github.com/users/nithya-priya/subscriptions,https://api.github.com/users/nithya-priya/orgs,https://api.github.com/users/nithya-priya/repos,https://api.github.com/users/nithya-priya/events{/privacy},https://api.github.com/users/nithya-priya/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
114,https://api.github.com/repos/apache/incubator-superset/issues/8578,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8578/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8578/comments,https://api.github.com/repos/apache/incubator-superset/issues/8578/events,https://github.com/apache/incubator-superset/pull/8578,523176919,MDExOlB1bGxSZXF1ZXN0MzQxMjMzNjgz,8578,update SqlaTable model to reflect actual table unique constraint,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,2,2019-11-15T00:07:27Z,2019-11-26T06:23:44Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [ ] Bug Fix
- [x] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->
Small PR to better reflect what was introduced with this migration: https://github.com/preset-io/incubator-superset/blob/master/superset/migrations/versions/b4456560d4f3_change_table_unique_constraint.py

### TEST PLAN
<!--- What steps should be taken to verify the changes -->
- Table creation works (with unique names and same names, but different schemas)

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [x] Has associated issue: Fixes #8316 
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,nytai,10255196,MDQ6VXNlcjEwMjU1MTk2,https://avatars1.githubusercontent.com/u/10255196?v=4,,https://api.github.com/users/nytai,https://github.com/nytai,https://api.github.com/users/nytai/followers,https://api.github.com/users/nytai/following{/other_user},https://api.github.com/users/nytai/gists{/gist_id},https://api.github.com/users/nytai/starred{/owner}{/repo},https://api.github.com/users/nytai/subscriptions,https://api.github.com/users/nytai/orgs,https://api.github.com/users/nytai/repos,https://api.github.com/users/nytai/events{/privacy},https://api.github.com/users/nytai/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8578,https://github.com/apache/incubator-superset/pull/8578,https://github.com/apache/incubator-superset/pull/8578.diff,https://github.com/apache/incubator-superset/pull/8578.patch,,,,,,,,,,,,,,,,,,
115,https://api.github.com/repos/apache/incubator-superset/issues/8576,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8576/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8576/comments,https://api.github.com/repos/apache/incubator-superset/issues/8576/events,https://github.com/apache/incubator-superset/pull/8576,523175196,MDExOlB1bGxSZXF1ZXN0MzQxMjMyMjQ3,8576,[wip][db migration] change datasources-clusters foreign key to cluster_id,"[{'id': 1331560260, 'node_id': 'MDU6TGFiZWwxMzMxNTYwMjYw', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/L', 'name': 'size/L', 'color': '6D53B9', 'default': False, 'description': ''}]",open,False,,[],,0,2019-11-15T00:03:14Z,2019-11-15T00:03:19Z,,CONTRIBUTOR,"### CATEGORY
Changed the foreign key for `datasources`->`clusters` from `cluster_name` to `cluster_id` (the primary key of `clusters`).

IP: fixing tests

Choose one

- [ ] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation
- [X] Schema change

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [X] Requires DB Migration.
- [X] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,serenajiang,14146019,MDQ6VXNlcjE0MTQ2MDE5,https://avatars0.githubusercontent.com/u/14146019?v=4,,https://api.github.com/users/serenajiang,https://github.com/serenajiang,https://api.github.com/users/serenajiang/followers,https://api.github.com/users/serenajiang/following{/other_user},https://api.github.com/users/serenajiang/gists{/gist_id},https://api.github.com/users/serenajiang/starred{/owner}{/repo},https://api.github.com/users/serenajiang/subscriptions,https://api.github.com/users/serenajiang/orgs,https://api.github.com/users/serenajiang/repos,https://api.github.com/users/serenajiang/events{/privacy},https://api.github.com/users/serenajiang/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8576,https://github.com/apache/incubator-superset/pull/8576,https://github.com/apache/incubator-superset/pull/8576.diff,https://github.com/apache/incubator-superset/pull/8576.patch,,,,,,,,,,,,,,,,,,
116,https://api.github.com/repos/apache/incubator-superset/issues/8574,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8574/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8574/comments,https://api.github.com/repos/apache/incubator-superset/issues/8574/events,https://github.com/apache/incubator-superset/issues/8574,523164884,MDU6SXNzdWU1MjMxNjQ4ODQ=,8574,[SIP-26] Proposal for Implementing Connection Pooling for Analytics Database Connections,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,5,2019-11-14T23:31:18Z,2019-11-25T23:20:49Z,,CONTRIBUTOR,"## [SIP] Proposal for Implementing Connection Pooling for Analytics Database Connections

### Motivation

Currently, Superset’s connections to analytics databases do not have long-lived connection pools. In most instances, a database connection is spawned immediately before a query is executed and discarded after a single use. This introduces a small amount of latency into every query. While most queries run against data warehouses are expected to be longer-running than a typical web application query, this latency will be noticeable when performing operations such as loading schema and table lists for display in the UI, or loading table definitions and previews. 
A more serious concern is that the number of open database connections to analytics databases is only bounded by the number of threads available to the application across all processes. Under peak load, this can lead to hammering databases with a large number of connection requests and queries simultaneously. This does not allow us to provide meaningful upper bounds for the number of available database connections. Implementing connection pooling at the process level will allow us to provide a configurable maximum number of connections that Superset is able to leverage.

### Proposed Change

I recommend we add a singleton object to hold a SQLAlchemy Engine instance for each configured database in the application. I believe that engines should not be instantiated on startup, but instead instantiated on first use to avoid unnecessary connection negotiation.

I further recommend that we use the [SQLAlchemy QueuePool](https://docs.sqlalchemy.org/en/13/core/pooling.html#sqlalchemy.pool.QueuePool) as the default pool implementation while retaining the ability to configure Superset to use a NullPool, configurable via the Database setup system. I would like to make the `pool_size` and `max_overflow` properties configurable, as well as whether to treat the queue as FIFO or LIFO and the `pool_pre_ping` option, and customization of the `connect_args` passed on engine instantiation (which controls things like connection timeouts). I believe that LIFO queues will be preferable for infrequently-accessed database connections, as they will generally maintain a lower number of connections in the pool, and thus should be the default. I would also recommend that for LIFO queues we default to the `pool_pre_ping` option to trigger pool member invalidation when necessary, as stale connections are more likely under the LIFO configuration.

As part of this work, I recommend moving engine instantiation code out of the Database model and into its own module, probably as part of the singleton that will maintain an in-memory list of database pools. We will need to update the code that alters database records to reinitialize the processes’ engine after Database record creation and update.

One further change will be in regards to Celery’s connection pooling. Right now, we use the NullPool in Celery and instantiate database connections when needed. For Celery, I would recommend moving to the StaticPool, which will create one database connection per worker process. Because Celery reuses worker processes, this will reduce the overhead on backgrounded queries. An alternative would be to move to threaded workers (gevent or eventlet) and maintain the same pool configuration as the UI. I’d love suggestions from the community on what to recommend here.

### New or Changed Public Interfaces

This change should have minimal impact on the UI, the primary change being the addition of more configuration options in the Databases section. I would recommend having sensible defaults and hiding the pool setup under an `Advanced` configuration section. I plan to provide guidance on the meaning of the `pool_size`, `max_overflow`, and FIFO vs LIFO configuration parameters, both in the UI and in new documentation.

### New dependencies

No additional dependencies will be necessary.

### Migration Plan and Compatibility

A database migration will be necessary to add additional fields for `pool_class`, `pool_size`, `max_overflow`, `pool_use_lifo`, `pool_pre_ping`, and `connect_args` to the `dbs` table.

No URLs will change as part of this work. I would like feedback from the community, particularly engineers at Airbnb, Lyft, and other organizations with large Superset installs, on what sensible defaults for connection pools would look like.

### Rejected Alternatives

The primary alternative rejected is the current, connection-pool-less state. While this state allows for only the number of connections needed at any given time to be in use, it falls down with regards to performance and predictability of number of open connections at any given time.

I also considered the other connection pool implementations in SQLAlchemy, but it appears that our use-case is best served by the QueuePool implementation.
One additional piece I considered was providing an option to the user of configuring an overall, rather than per-process, maximum number of connections. In that case, processes would need to “check out” the ability to make a connection from a distributed lock built in Redis, or the max size would need to be large enough to provide at least one connection per live process. While I think this would be a better experience for most users, I’m concerned about the additional application complexity required by such a change. Would processes need to register themselves in Redis on boot so we could get a correct count of the number of live processes? What happens when we need to scale up beyond the global maximum number of database connections? I think solving those problems is not easy, and most use-cases will be well-enough served by a per-process max number of connections.

",incubator-superset,apache,willbarrett,1779034,MDQ6VXNlcjE3NzkwMzQ=,https://avatars2.githubusercontent.com/u/1779034?v=4,,https://api.github.com/users/willbarrett,https://github.com/willbarrett,https://api.github.com/users/willbarrett/followers,https://api.github.com/users/willbarrett/following{/other_user},https://api.github.com/users/willbarrett/gists{/gist_id},https://api.github.com/users/willbarrett/starred{/owner}{/repo},https://api.github.com/users/willbarrett/subscriptions,https://api.github.com/users/willbarrett/orgs,https://api.github.com/users/willbarrett/repos,https://api.github.com/users/willbarrett/events{/privacy},https://api.github.com/users/willbarrett/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
117,https://api.github.com/repos/apache/incubator-superset/issues/8568,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8568/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8568/comments,https://api.github.com/repos/apache/incubator-superset/issues/8568/events,https://github.com/apache/incubator-superset/issues/8568,522642922,MDU6SXNzdWU1MjI2NDI5MjI=,8568, Superset dashboard runs very slow when Datasource as oracle database,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,1,2019-11-14T05:58:17Z,2019-11-15T09:22:05Z,,NONE,"Hello,

We have a dashboard performance issue big time with Oracle database and we are using Oracle database as source to build slices and dashboards.

We would like to understand the query execution from Superset to Oracle database runs parallel (all queries related to slices ) or once per slice.
If it is once per slice, is there any way can change configurations to run all slices related queries parallel?

Any inputs or suggestions to increase performance of superset (Oracle database as slices source) is greatly appreciated.

Regards,
Ganesh",incubator-superset,apache,ganesh8614,53523781,MDQ6VXNlcjUzNTIzNzgx,https://avatars3.githubusercontent.com/u/53523781?v=4,,https://api.github.com/users/ganesh8614,https://github.com/ganesh8614,https://api.github.com/users/ganesh8614/followers,https://api.github.com/users/ganesh8614/following{/other_user},https://api.github.com/users/ganesh8614/gists{/gist_id},https://api.github.com/users/ganesh8614/starred{/owner}{/repo},https://api.github.com/users/ganesh8614/subscriptions,https://api.github.com/users/ganesh8614/orgs,https://api.github.com/users/ganesh8614/repos,https://api.github.com/users/ganesh8614/events{/privacy},https://api.github.com/users/ganesh8614/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
118,https://api.github.com/repos/apache/incubator-superset/issues/8561,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8561/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8561/comments,https://api.github.com/repos/apache/incubator-superset/issues/8561/events,https://github.com/apache/incubator-superset/pull/8561,522438026,MDExOlB1bGxSZXF1ZXN0MzQwNjM4ODg4,8561,[fix] csv upload param formatting in create engine,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,3,2019-11-13T19:54:52Z,2019-11-26T06:23:44Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [x] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->
There's a issue with uploading CSVs to postgres with `(,),%` in the header columns. 

https://stackoverflow.com/questions/25917741/sqlalchemy-with-postgres-insert-into-a-table-whose-columns-have-parentheses

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->
- CSV upload, containing `()` in header, works against postgres.

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [x] Has associated issue: Fixes #8542
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,nytai,10255196,MDQ6VXNlcjEwMjU1MTk2,https://avatars1.githubusercontent.com/u/10255196?v=4,,https://api.github.com/users/nytai,https://github.com/nytai,https://api.github.com/users/nytai/followers,https://api.github.com/users/nytai/following{/other_user},https://api.github.com/users/nytai/gists{/gist_id},https://api.github.com/users/nytai/starred{/owner}{/repo},https://api.github.com/users/nytai/subscriptions,https://api.github.com/users/nytai/orgs,https://api.github.com/users/nytai/repos,https://api.github.com/users/nytai/events{/privacy},https://api.github.com/users/nytai/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8561,https://github.com/apache/incubator-superset/pull/8561,https://github.com/apache/incubator-superset/pull/8561.diff,https://github.com/apache/incubator-superset/pull/8561.patch,,,,,,,,,,,,,,,,,,
119,https://api.github.com/repos/apache/incubator-superset/issues/8555,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8555/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8555/comments,https://api.github.com/repos/apache/incubator-superset/issues/8555/events,https://github.com/apache/incubator-superset/issues/8555,522239047,MDU6SXNzdWU1MjIyMzkwNDc=,8555,"Global ""prequery"" for dashboard","[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-11-13T13:55:41Z,2019-11-14T02:37:52Z,,NONE,"### My Problem
My dashboard has many charts,  the query written by jinja template in every chart has the same sub query like `book in (select book from library group by book order by count(book) desc limit 3) ` or  `book in (select book from library group by book order by count(book) desc limit 1) `. The queries with same sub query  away take long time and be out of memory easily for big data!  So a ""prequery"" is very useful for long running query.

""prequery"" had worked for Druid in #4163,  but it could not work for all db engine, and other charts could not share the same topN result. 

### Expected Feature
So a new feature is that, the ""prequery"" should execute after triggering  filter box, and we get the result of Top 3, then the query in each chart get the result of Top 3  or the Top1 from the  result of Top 3 as the `where in ` condition, example like that:
```
select book from library group by book order by count(book) desc limit 3
```
The result of Top 3 is `book1, book2, book3`
so we can use `book in ('book1')`  as the Top 1 condition, use `book in ('book1','book2','book3')` as the Top 3 condition, the most Important is that the ""prequery"" just run one time for all charts, and don`t  need any nested sub query.",incubator-superset,apache,WChCh,8743639,MDQ6VXNlcjg3NDM2Mzk=,https://avatars1.githubusercontent.com/u/8743639?v=4,,https://api.github.com/users/WChCh,https://github.com/WChCh,https://api.github.com/users/WChCh/followers,https://api.github.com/users/WChCh/following{/other_user},https://api.github.com/users/WChCh/gists{/gist_id},https://api.github.com/users/WChCh/starred{/owner}{/repo},https://api.github.com/users/WChCh/subscriptions,https://api.github.com/users/WChCh/orgs,https://api.github.com/users/WChCh/repos,https://api.github.com/users/WChCh/events{/privacy},https://api.github.com/users/WChCh/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
120,https://api.github.com/repos/apache/incubator-superset/issues/8548,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8548/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8548/comments,https://api.github.com/repos/apache/incubator-superset/issues/8548/events,https://github.com/apache/incubator-superset/issues/8548,521636026,MDU6SXNzdWU1MjE2MzYwMjY=,8548,Dashboard results are very slow when pointed to Postgres Database,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,15,2019-11-12T15:53:06Z,2019-11-26T07:58:35Z,,NONE,"We have pointed the **SQLALCHEMY_DATABASE_URI** to **POSTGRES** database in superset and created the slices using Oracle database connection. 
When we accessing the slices from the Charts menu, getting the results in less than 5 seconds. 

But when we place the slices in dashboard and access it from the ""Dashboards"" menu reports are loading very slow and taking more than 50 seconds to see the data.


Are there any pre-requisites to follow to point Superset to Postgres database or any other configurations needs to perform to solve the server slowness issue.

### Expected results

Results should show in the dashboard screen less than 10 seconds.

### Actual results

Report performance is very slow when we place it in dashboard and taking more than 50 sec to load.

### Environment

(please complete the following information):
- OS Details : `Redhat Linux - 7`
- superset version: `unofficial-superset:0.33.010402`
- python version: `3.7.3`
- postgres version: `9.2.24`


### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.


",incubator-superset,apache,SyamprasadNakka,35252020,MDQ6VXNlcjM1MjUyMDIw,https://avatars2.githubusercontent.com/u/35252020?v=4,,https://api.github.com/users/SyamprasadNakka,https://github.com/SyamprasadNakka,https://api.github.com/users/SyamprasadNakka/followers,https://api.github.com/users/SyamprasadNakka/following{/other_user},https://api.github.com/users/SyamprasadNakka/gists{/gist_id},https://api.github.com/users/SyamprasadNakka/starred{/owner}{/repo},https://api.github.com/users/SyamprasadNakka/subscriptions,https://api.github.com/users/SyamprasadNakka/orgs,https://api.github.com/users/SyamprasadNakka/repos,https://api.github.com/users/SyamprasadNakka/events{/privacy},https://api.github.com/users/SyamprasadNakka/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
121,https://api.github.com/repos/apache/incubator-superset/issues/8546,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8546/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8546/comments,https://api.github.com/repos/apache/incubator-superset/issues/8546/events,https://github.com/apache/incubator-superset/issues/8546,521486123,MDU6SXNzdWU1MjE0ODYxMjM=,8546,Load CSV from backend storage (GCS),"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,10,2019-11-12T11:13:50Z,2019-11-14T18:58:44Z,,NONE,"## [SIP] Proposal to add a 'Load CSV from...' feature 

### Motivation

Providing a way to load CSV from different storages (first in my mind is GCS).

### Proposed Change

On top of providing a way to load CSV from user interface, allow to load a file from a backend storage such as GCS or other backends from cloud providers

### New or Changed Public Interfaces

Adding a 'Load CSV from...' button

### New dependencies

I'd tend to use [libcloud](https://libcloud.apache.org/), from Apache.

### Migration Plan and Compatibility

None

### Rejected Alternatives

None, AFAIK.
",incubator-superset,apache,YannBrrd,2820034,MDQ6VXNlcjI4MjAwMzQ=,https://avatars2.githubusercontent.com/u/2820034?v=4,,https://api.github.com/users/YannBrrd,https://github.com/YannBrrd,https://api.github.com/users/YannBrrd/followers,https://api.github.com/users/YannBrrd/following{/other_user},https://api.github.com/users/YannBrrd/gists{/gist_id},https://api.github.com/users/YannBrrd/starred{/owner}{/repo},https://api.github.com/users/YannBrrd/subscriptions,https://api.github.com/users/YannBrrd/orgs,https://api.github.com/users/YannBrrd/repos,https://api.github.com/users/YannBrrd/events{/privacy},https://api.github.com/users/YannBrrd/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
122,https://api.github.com/repos/apache/incubator-superset/issues/8544,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8544/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8544/comments,https://api.github.com/repos/apache/incubator-superset/issues/8544/events,https://github.com/apache/incubator-superset/issues/8544,521429384,MDU6SXNzdWU1MjE0MjkzODQ=,8544,[SIP-28] Proposal for Geocoding,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,10,2019-11-12T09:28:44Z,2019-11-20T09:04:47Z,,NONE,"## [SIP] Proposal for Geocoding

### Motivation

A Superset user wants to use address-based data to generate charts like `deck.gl Scatterplot`. They then first need to convert their address based data using an external source so it has the required `latitude/longitude` columns.

Many other BI tools can convert addresses automatically.

### Proposed Change

We want to implement a feature using the `GeoPy` package with the `Mapbox Geocoding API` that can convert addresses to `latitude/longitude` and save those values as additional columns or overwrite certain columns in the same table.

To make the API calls we plan to use the same API-Key that is already used for the background maps (`Mapbox API Key`).

The feature will be available under the menu ""Sources"" > ""Geocode Addresses"" and will be implemented asynchronously. Only one geocoding can be in progress at once though. There are multiple reasons for this decision:
* Most geocoding API's limit the amount of requests per second
* Most geocoding API's limit the amount of requests that can be made over a certain time period
* Depending on the amount of data in the table the process can take a very long time

If the geocoding is in process and the user navigates to the ""Geocode Addresses"" URL he will see a progressbar and will have the ability to cancel the process. If no process is ongoing the geocoding form will be shown.

The user can decide what happens if anything goes wrong (for ex. call limit reached, connection issues, etc.) or the process is interrupted. He can choose to save the already converted data or discard it.

### New or Changed Public Interfaces

* There will be a new form for the Geocoding in React
![image](https://user-images.githubusercontent.com/17166009/68677336-39054c00-055c-11ea-85b7-8004e9b1edfc.png)
* There will be a new REST API that geocodes the address based data on a specific table and adds or overwrites columns
* There will be a new REST API that informs the caller if a geocoding is already progress (boolean, and an integer representing the progress (%))
* There will be a new REST API with wich a user can interrupt a geocoding progress
* There will be a new REST API where you can get a list of columns for a selected table

### New dependencies

* We **do not need** a new dependency, because Superset is already using GeoPy

### Migration Plan and Compatibility

The documentation will likely need to be added which describes the usage of this new feature once this is merged into master

### Rejected Alternatives
* We thought about on-the-fly geocoding and accepting address-data in certain charts like the `deck.gl Scatterplot` but rejected the idea since geocoding itself is an expensive operation and should only be done once on a specific dataset.
",incubator-superset,apache,Sascha-Gschwind,17166009,MDQ6VXNlcjE3MTY2MDA5,https://avatars2.githubusercontent.com/u/17166009?v=4,,https://api.github.com/users/Sascha-Gschwind,https://github.com/Sascha-Gschwind,https://api.github.com/users/Sascha-Gschwind/followers,https://api.github.com/users/Sascha-Gschwind/following{/other_user},https://api.github.com/users/Sascha-Gschwind/gists{/gist_id},https://api.github.com/users/Sascha-Gschwind/starred{/owner}{/repo},https://api.github.com/users/Sascha-Gschwind/subscriptions,https://api.github.com/users/Sascha-Gschwind/orgs,https://api.github.com/users/Sascha-Gschwind/repos,https://api.github.com/users/Sascha-Gschwind/events{/privacy},https://api.github.com/users/Sascha-Gschwind/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
123,https://api.github.com/repos/apache/incubator-superset/issues/8543,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8543/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8543/comments,https://api.github.com/repos/apache/incubator-superset/issues/8543/events,https://github.com/apache/incubator-superset/issues/8543,521425897,MDU6SXNzdWU1MjE0MjU4OTc=,8543,[SIP-27] Proposal for Improvement on CSV Upload,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,6,2019-11-12T09:22:30Z,2019-11-20T09:04:38Z,,NONE,"## [SIP] Proposal for Improvement on CSV Upload

### Motivation

For non-technical users the process to upload a CSV can be a bit complicated since it is very verbose. If there is no database connection that has ""Allow CSV Upload"" enabled the user probably does not know what to do exactly.

We want to improve the way CSV data is uploaded that is a bit less verbose and supports creating new SQLite databases. It will also allow upload via Drag&Drop. If no database connection with ""Allow CSV Upload"" exists it should automatically create and use a new SQLite database connection.

### Proposed Change

We will replace the current form with a React-based form that supports Drag&Drop. It shows the most important form entries and has an ""Advanced Options"" menu where you can still access all the other fields that aren't needed most of the time.

Once they click ""Save"" the following mechanism should be executed:
1. Send the form-data to a backend API endpoint.
2. The backend API endpoint checks if it should create a new database or load the CSV to the existing one.
3. If a new database has to be created it checks if a file with that name already exists and informs the user if that is the case. Otherwise it will create the database file and add a database connection.
4. Finally the CSV-Upload is completed (same way it is done now)

In case of creating a new database, if anything goes wrong during the process, we try deleting the database and clean up the created files.

### New or Changed Public Interfaces

* There will be a new form for the ""CSV to Database configuration"" in React exposed at ""/superset/csvtodatabase""
* There will be a new API endpoint ""/superset/csvtodatabase/add"" that can also create an SQLite database and an SQLite database connection if needed. The endpoint will still be able to handle the CSV Upload as usual.

### New dependencies

* We **do not need** any new dependencies

### Migration Plan and Compatibility

It would be beneficial if a chapter describing the process of uploading a CSV file would be added to the existing documentation.
Since not every browser supports Drag&Drop a fallback will be implemented showing the usual file upload input.

### Rejected Alternatives

* We considered changing the current CSV upload mechanism but since the flask-forms are very limited and we wanted to implement a Drag&Drop chose to implement it in React.
",incubator-superset,apache,Sascha-Gschwind,17166009,MDQ6VXNlcjE3MTY2MDA5,https://avatars2.githubusercontent.com/u/17166009?v=4,,https://api.github.com/users/Sascha-Gschwind,https://github.com/Sascha-Gschwind,https://api.github.com/users/Sascha-Gschwind/followers,https://api.github.com/users/Sascha-Gschwind/following{/other_user},https://api.github.com/users/Sascha-Gschwind/gists{/gist_id},https://api.github.com/users/Sascha-Gschwind/starred{/owner}{/repo},https://api.github.com/users/Sascha-Gschwind/subscriptions,https://api.github.com/users/Sascha-Gschwind/orgs,https://api.github.com/users/Sascha-Gschwind/repos,https://api.github.com/users/Sascha-Gschwind/events{/privacy},https://api.github.com/users/Sascha-Gschwind/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
124,https://api.github.com/repos/apache/incubator-superset/issues/8542,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8542/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8542/comments,https://api.github.com/repos/apache/incubator-superset/issues/8542/events,https://github.com/apache/incubator-superset/issues/8542,521423709,MDU6SXNzdWU1MjE0MjM3MDk=,8542,Problem uploading CSV to PostgreSQL database,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-11-12T09:18:28Z,2019-11-22T12:11:40Z,,NONE,"When you try to upload a CSV that has parentheses in the title column to a PostgreSQL database it fails with an error, showing the column title.

If you upload the same file to a SQLite database it succeeds.

### Expected results

The CSV can be successfully uploaded to a PostgreSQL database.

### Actual results

The CSV can not be successfully uploaded to a PostgreSQL database.

#### Screenshots

CSV-Content:
![image](https://user-images.githubusercontent.com/17166009/68658297-7a363580-0535-11ea-8434-ec1153acaaa1.png)


Error displayed when uploading to a PostgreSQL database:
![image](https://user-images.githubusercontent.com/17166009/68658321-84583400-0535-11ea-877e-91d490287483.png)


Database-Connection configuration:
![image](https://user-images.githubusercontent.com/17166009/68658342-8de19c00-0535-11ea-8874-2cf87394f223.png)

Link to CSV:
https://etherscan.io/chart/tx?output=csv

#### How to reproduce the bug

1. As an Admin go to ""Sources"" > ""Databases"" and Create a new database connection.
2. Enter the connection string to a PostgreSQL database and ensure ""Allow CSV Upload"" is ticked
3. Go to ""Sources"" > ""Upload a CSV""
4. Upload the CSV from https://etherscan.io/chart/tx?output=csv

### Environment
- superset version: `0.999.0dev` (We are using the master-branch based on the commit `6d418308c734835b4b9257be32387d74f1a773a4`)
- python version: `3.6.9`
- node.js version: `v10.16.3`
- npm version: `6.9.0`
- PostgreSQL version: `PostgreSQL 11.2 (Debian 11.2-1.pgdg90+1)`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

",incubator-superset,apache,Sascha-Gschwind,17166009,MDQ6VXNlcjE3MTY2MDA5,https://avatars2.githubusercontent.com/u/17166009?v=4,,https://api.github.com/users/Sascha-Gschwind,https://github.com/Sascha-Gschwind,https://api.github.com/users/Sascha-Gschwind/followers,https://api.github.com/users/Sascha-Gschwind/following{/other_user},https://api.github.com/users/Sascha-Gschwind/gists{/gist_id},https://api.github.com/users/Sascha-Gschwind/starred{/owner}{/repo},https://api.github.com/users/Sascha-Gschwind/subscriptions,https://api.github.com/users/Sascha-Gschwind/orgs,https://api.github.com/users/Sascha-Gschwind/repos,https://api.github.com/users/Sascha-Gschwind/events{/privacy},https://api.github.com/users/Sascha-Gschwind/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
125,https://api.github.com/repos/apache/incubator-superset/issues/8540,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8540/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8540/comments,https://api.github.com/repos/apache/incubator-superset/issues/8540/events,https://github.com/apache/incubator-superset/issues/8540,521114497,MDU6SXNzdWU1MjExMTQ0OTc=,8540,Height in Deck.gl Grid wrong if aggregated,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-11-11T18:21:40Z,2019-11-11T18:21:43Z,,NONE,"I am using Deck.gl Grid to show prices per square meter. As a height parameter, I have `AVG(price_per_square_meter)`. However, I noticed that when there are multiple places at the same location, the aggregate is wrong and even exceeding `max(price_per_square_meter)` when queried in the database. If there is a single place at the location, the height is calculated as expected.

### Expected results

Heigh is calculated correctly as defined by the aggregate function.

### Actual results

It seems that the `sum` is used instead of used aggregate.

### How to reproduce
Go to the chart with example Grid. Change the height to the `AVG(occupancy)`. Even though the max occupancy in the database is 6, you can observe that the heigh column reaches to values like 36.

### Environment

(please complete the following information):

- superset version: `0.34.1`
- python version: `python 3.7.3`
- node.js version: `v10.15.2`
- npm version: `5.8.0`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [X] I have checked the superset logs for python stacktraces and included it here as text if there are any.
-  [X] I have reproduced the issue with at least the latest released version of superset.
- [X] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,jaksmid,3618465,MDQ6VXNlcjM2MTg0NjU=,https://avatars1.githubusercontent.com/u/3618465?v=4,,https://api.github.com/users/jaksmid,https://github.com/jaksmid,https://api.github.com/users/jaksmid/followers,https://api.github.com/users/jaksmid/following{/other_user},https://api.github.com/users/jaksmid/gists{/gist_id},https://api.github.com/users/jaksmid/starred{/owner}{/repo},https://api.github.com/users/jaksmid/subscriptions,https://api.github.com/users/jaksmid/orgs,https://api.github.com/users/jaksmid/repos,https://api.github.com/users/jaksmid/events{/privacy},https://api.github.com/users/jaksmid/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
126,https://api.github.com/repos/apache/incubator-superset/issues/8533,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8533/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8533/comments,https://api.github.com/repos/apache/incubator-superset/issues/8533/events,https://github.com/apache/incubator-superset/pull/8533,520145909,MDExOlB1bGxSZXF1ZXN0MzM4Nzg1MDk0,8533,Update README.md,"[{'id': 718573661, 'node_id': 'MDU6TGFiZWw3MTg1NzM2NjE=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/need:more-info', 'name': 'need:more-info', 'color': 'f1c40f', 'default': False, 'description': 'Need more information from author'}, {'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,3,2019-11-08T17:43:05Z,2019-11-13T06:33:15Z,,NONE,"### CATEGORY

Choose one

- [ ] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [x] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,sajunafernando,5140161,MDQ6VXNlcjUxNDAxNjE=,https://avatars2.githubusercontent.com/u/5140161?v=4,,https://api.github.com/users/sajunafernando,https://github.com/sajunafernando,https://api.github.com/users/sajunafernando/followers,https://api.github.com/users/sajunafernando/following{/other_user},https://api.github.com/users/sajunafernando/gists{/gist_id},https://api.github.com/users/sajunafernando/starred{/owner}{/repo},https://api.github.com/users/sajunafernando/subscriptions,https://api.github.com/users/sajunafernando/orgs,https://api.github.com/users/sajunafernando/repos,https://api.github.com/users/sajunafernando/events{/privacy},https://api.github.com/users/sajunafernando/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8533,https://github.com/apache/incubator-superset/pull/8533,https://github.com/apache/incubator-superset/pull/8533.diff,https://github.com/apache/incubator-superset/pull/8533.patch,,,,,,,,,,,,,,,,,,
127,https://api.github.com/repos/apache/incubator-superset/issues/8530,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8530/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8530/comments,https://api.github.com/repos/apache/incubator-superset/issues/8530/events,https://github.com/apache/incubator-superset/issues/8530,519849534,MDU6SXNzdWU1MTk4NDk1MzQ=,8530,Fresh query hit on each time csv download is hit and return all rows,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-11-08T07:05:40Z,2019-11-08T07:05:43Z,,NONE,"**Is your feature request related to a problem? Please describe.**
During table visualization, it is very frustrating to go to sqllab every time need to download all rows from the CSV, because in the dashboard only the row limit could be used and after a certain limit browser stops responding

**Describe the solution you'd like**
Whenever a download csv is option is clicked either in chart or in the dashboard, can we provide the functionality to download all rows,, a functionality like in sqllab (SQL_MAX_ROW, DISPLAY_MAX_ROW) would be very useful for the dashboards also

**Describe alternatives you've considered**
A clear and concise description of any alternative solutions or features you've considered.

**Additional context**
Add any other context or screenshots about the feature request here.
",incubator-superset,apache,saurabh1-singh,42036742,MDQ6VXNlcjQyMDM2NzQy,https://avatars0.githubusercontent.com/u/42036742?v=4,,https://api.github.com/users/saurabh1-singh,https://github.com/saurabh1-singh,https://api.github.com/users/saurabh1-singh/followers,https://api.github.com/users/saurabh1-singh/following{/other_user},https://api.github.com/users/saurabh1-singh/gists{/gist_id},https://api.github.com/users/saurabh1-singh/starred{/owner}{/repo},https://api.github.com/users/saurabh1-singh/subscriptions,https://api.github.com/users/saurabh1-singh/orgs,https://api.github.com/users/saurabh1-singh/repos,https://api.github.com/users/saurabh1-singh/events{/privacy},https://api.github.com/users/saurabh1-singh/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
128,https://api.github.com/repos/apache/incubator-superset/issues/8527,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8527/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8527/comments,https://api.github.com/repos/apache/incubator-superset/issues/8527/events,https://github.com/apache/incubator-superset/pull/8527,519270053,MDExOlB1bGxSZXF1ZXN0MzM4MDQxNzgw,8527,Avoid fetch fav dashboard stat not logged in,"[{'id': 1329203144, 'node_id': 'MDU6TGFiZWwxMzI5MjAzMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/M', 'name': 'size/M', 'color': '705FA3', 'default': False, 'description': ''}]",open,False,,[],,1,2019-11-07T13:35:09Z,2019-11-27T18:26:54Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [x] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->
As explained in #8501, if you allow non logged in users to see dashboards, the favorite status of that dashboard will still be fetched, causing an error toast to appear.
To fix it I check if the userId present on the dashboardInfo prop of the Header component is valid, and only if it is, the span related to the fav-star is rendered.

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
![fav-start-showing](https://user-images.githubusercontent.com/23409890/68392333-7daa7500-0161-11ea-858e-4aebe2f6b71b.png)
![fav-start-not-showing](https://user-images.githubusercontent.com/23409890/68392337-7edba200-0161-11ea-934d-602e95889cc6.png)

<!--- Skip this if not applicable -->

### TEST PLAN
There's already a test that verifies if the fav-start is displayed and works correctly

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [x] Has associated issue: #8501
- [x] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,aspedrosa,23409890,MDQ6VXNlcjIzNDA5ODkw,https://avatars0.githubusercontent.com/u/23409890?v=4,,https://api.github.com/users/aspedrosa,https://github.com/aspedrosa,https://api.github.com/users/aspedrosa/followers,https://api.github.com/users/aspedrosa/following{/other_user},https://api.github.com/users/aspedrosa/gists{/gist_id},https://api.github.com/users/aspedrosa/starred{/owner}{/repo},https://api.github.com/users/aspedrosa/subscriptions,https://api.github.com/users/aspedrosa/orgs,https://api.github.com/users/aspedrosa/repos,https://api.github.com/users/aspedrosa/events{/privacy},https://api.github.com/users/aspedrosa/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8527,https://github.com/apache/incubator-superset/pull/8527,https://github.com/apache/incubator-superset/pull/8527.diff,https://github.com/apache/incubator-superset/pull/8527.patch,,,,,,,,,,,,,,,,,,
129,https://api.github.com/repos/apache/incubator-superset/issues/8526,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8526/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8526/comments,https://api.github.com/repos/apache/incubator-superset/issues/8526/events,https://github.com/apache/incubator-superset/issues/8526,519259811,MDU6SXNzdWU1MTkyNTk4MTE=,8526,Long run query support in Chart Query,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,2,2019-11-07T13:15:57Z,2019-11-22T22:30:38Z,,NONE,"**Is your feature request related to a problem? Please describe.**
I've set up Celery task with the following config:

```
class CeleryConfig(object):
    BROKER_URL = 'redis://localhost:6379/0'
    CELERY_IMPORTS = (
        'superset.sql_lab',
        'superset.tasks',
    )
    CELERY_RESULT_BACKEND = 'redis://localhost:6379/0'
    CELERYD_LOG_LEVEL = 'INFO'
    CELERYD_PREFETCH_MULTIPLIER = 10
    CELERY_ACKS_LATE = True
    CELERY_ANNOTATIONS = {
        'sql_lab.get_sql_results': {
            'rate_limit': '100/s',
        }
    }
    CELERYBEAT_SCHEDULE = {
    }

CELERY_CONFIG = CeleryConfig
```
Sql lab seems work OK when fire long run query, PENDING status changes to RUNNING.  But In Chart Tab, after fired query button,  breaking with timeout. 
Or Chart Query doesn't support async long run query?  Why?


**Additional context**
- x86_64 GNU/Linux
- Python 3.6.9
- Flask 1.1.1
- Werkzeug 0.16.0",incubator-superset,apache,leon90dm,5271193,MDQ6VXNlcjUyNzExOTM=,https://avatars3.githubusercontent.com/u/5271193?v=4,,https://api.github.com/users/leon90dm,https://github.com/leon90dm,https://api.github.com/users/leon90dm/followers,https://api.github.com/users/leon90dm/following{/other_user},https://api.github.com/users/leon90dm/gists{/gist_id},https://api.github.com/users/leon90dm/starred{/owner}{/repo},https://api.github.com/users/leon90dm/subscriptions,https://api.github.com/users/leon90dm/orgs,https://api.github.com/users/leon90dm/repos,https://api.github.com/users/leon90dm/events{/privacy},https://api.github.com/users/leon90dm/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
130,https://api.github.com/repos/apache/incubator-superset/issues/8524,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8524/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8524/comments,https://api.github.com/repos/apache/incubator-superset/issues/8524/events,https://github.com/apache/incubator-superset/issues/8524,519075509,MDU6SXNzdWU1MTkwNzU1MDk=,8524,Ability to display images/pdfs in the dashboard,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,5,2019-11-07T06:47:56Z,2019-11-14T21:51:08Z,,NONE,"One of the use-case of the superset dashboards for me is to display images by downloading them from the s3 bucket. The database entry has the s3 location and I would like to download the image and display it. 

It will be great if someone can give me directions on how can I implement this. ",incubator-superset,apache,akashr050,8448836,MDQ6VXNlcjg0NDg4MzY=,https://avatars0.githubusercontent.com/u/8448836?v=4,,https://api.github.com/users/akashr050,https://github.com/akashr050,https://api.github.com/users/akashr050/followers,https://api.github.com/users/akashr050/following{/other_user},https://api.github.com/users/akashr050/gists{/gist_id},https://api.github.com/users/akashr050/starred{/owner}{/repo},https://api.github.com/users/akashr050/subscriptions,https://api.github.com/users/akashr050/orgs,https://api.github.com/users/akashr050/repos,https://api.github.com/users/akashr050/events{/privacy},https://api.github.com/users/akashr050/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
131,https://api.github.com/repos/apache/incubator-superset/issues/8520,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8520/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8520/comments,https://api.github.com/repos/apache/incubator-superset/issues/8520/events,https://github.com/apache/incubator-superset/issues/8520,518773017,MDU6SXNzdWU1MTg3NzMwMTc=,8520,`superset load_examples` times out with TimeoutError: [Errno 110] Connection timed out,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,"[{'login': 'betodealmeida', 'id': 1534870, 'node_id': 'MDQ6VXNlcjE1MzQ4NzA=', 'avatar_url': 'https://avatars3.githubusercontent.com/u/1534870?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/betodealmeida', 'html_url': 'https://github.com/betodealmeida', 'followers_url': 'https://api.github.com/users/betodealmeida/followers', 'following_url': 'https://api.github.com/users/betodealmeida/following{/other_user}', 'gists_url': 'https://api.github.com/users/betodealmeida/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/betodealmeida/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/betodealmeida/subscriptions', 'organizations_url': 'https://api.github.com/users/betodealmeida/orgs', 'repos_url': 'https://api.github.com/users/betodealmeida/repos', 'events_url': 'https://api.github.com/users/betodealmeida/events{/privacy}', 'received_events_url': 'https://api.github.com/users/betodealmeida/received_events', 'type': 'User', 'site_admin': False}]",,3,2019-11-06T21:08:52Z,2019-12-21T07:31:28Z,,NONE,"A clear and concise description of what the bug is.

### Expected results

Successful load of examples after invoking `superset load_examples`

### Actual results
` TimeoutError: [Errno 110] Connection timed out `

#### Screenshots

```
(venv-superset) [root@usb-gce-superset-dev-01 ~]# superset load_examples
2019-11-06 20:55:20,276:INFO:root:Configured event logger of type <class 'superset.utils.log.DBEventLogger'>
Loading examples metadata and related data into examples
Creating default CSS templates
Loading energy related dataset
2019-11-06 20:55:21,806:INFO:root:Database.get_sqla_engine(). Masked URL: sqlite:////root/.superset/superset.db
Traceback (most recent call last):
  File ""/usr/lib64/python3.6/urllib/request.py"", line 1318, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File ""/usr/lib64/python3.6/http/client.py"", line 1254, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File ""/usr/lib64/python3.6/http/client.py"", line 1300, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File ""/usr/lib64/python3.6/http/client.py"", line 1249, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File ""/usr/lib64/python3.6/http/client.py"", line 1036, in _send_output
    self.send(msg)
  File ""/usr/lib64/python3.6/http/client.py"", line 974, in send
    self.connect()
  File ""/usr/lib64/python3.6/http/client.py"", line 1407, in connect
    super().connect()
  File ""/usr/lib64/python3.6/http/client.py"", line 946, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File ""/usr/lib64/python3.6/socket.py"", line 724, in create_connection
    raise err
  File ""/usr/lib64/python3.6/socket.py"", line 713, in create_connection
    sock.connect(sa)
TimeoutError: [Errno 110] Connection timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/root/venv-superset/bin/superset"", line 31, in <module>
    cli()
  File ""/root/venv-superset/lib/python3.6/site-packages/click/core.py"", line 722, in __call__
    return self.main(*args, **kwargs)
  File ""/root/venv-superset/lib/python3.6/site-packages/flask/cli.py"", line 586, in main
    return super(FlaskGroup, self).main(*args, **kwargs)
  File ""/root/venv-superset/lib/python3.6/site-packages/click/core.py"", line 697, in main
    rv = self.invoke(ctx)
  File ""/root/venv-superset/lib/python3.6/site-packages/click/core.py"", line 1066, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File ""/root/venv-superset/lib/python3.6/site-packages/click/core.py"", line 895, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File ""/root/venv-superset/lib/python3.6/site-packages/click/core.py"", line 535, in invoke
    return callback(*args, **kwargs)
  File ""/root/venv-superset/lib/python3.6/site-packages/click/decorators.py"", line 17, in new_func
    return f(get_current_context(), *args, **kwargs)
  File ""/root/venv-superset/lib/python3.6/site-packages/flask/cli.py"", line 426, in decorator
    return __ctx.invoke(f, *args, **kwargs)
  File ""/root/venv-superset/lib/python3.6/site-packages/click/core.py"", line 535, in invoke
    return callback(*args, **kwargs)
  File ""/root/venv-superset/lib/python3.6/site-packages/superset/cli.py"", line 143, in load_examples
    load_examples_run(load_test_data, only_metadata, force)
  File ""/root/venv-superset/lib/python3.6/site-packages/superset/cli.py"", line 84, in load_examples_run
    examples.load_energy(only_metadata, force)
  File ""/root/venv-superset/lib/python3.6/site-packages/superset/examples/energy.py"", line 38, in load_energy
    data = get_example_data(""energy.json.gz"")
  File ""/root/venv-superset/lib/python3.6/site-packages/superset/examples/helpers.py"", line 72, in get_example_data
    content = request.urlopen(f""{BASE_URL}{filepath}?raw=true"").read()
  File ""/usr/lib64/python3.6/urllib/request.py"", line 223, in urlopen
    return opener.open(url, data, timeout)
  File ""/usr/lib64/python3.6/urllib/request.py"", line 526, in open
    response = self._open(req, data)
  File ""/usr/lib64/python3.6/urllib/request.py"", line 544, in _open
    '_open', req)
  File ""/usr/lib64/python3.6/urllib/request.py"", line 504, in _call_chain
    result = func(*args)
  File ""/usr/lib64/python3.6/urllib/request.py"", line 1361, in https_open
    context=self._context, check_hostname=self._check_hostname)
  File ""/usr/lib64/python3.6/urllib/request.py"", line 1320, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [Errno 110] Connection timed out>
(venv-superset) [root@usb-gce-superset-dev-01 ~]#
```

#### How to reproduce the bug

1.  `pip install superset`
2. `superset db upgrade`
3. `export FLASK_APP=superset; flask fab create-admin`
4. `superset load_examples`

### Environment

(please complete the following information):

- superset version: Superset 0.30.0
- python version: Python 3.6.8
- node.js version: bash: node: command not found
- npm version: bash: npm: command not found

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- **I have no idea where to find the logs**
- [x ] I have reproduced the issue with at least the latest released version of superset.

SIMILAR ISSUE -> https://github.com/apache/incubator-superset/issues/8491

# Speculation

Corporate proxy is blocking access to raw.githubusercontent.com and there is no way to provide a proxy.

",incubator-superset,apache,metaperl,21293,MDQ6VXNlcjIxMjkz,https://avatars3.githubusercontent.com/u/21293?v=4,,https://api.github.com/users/metaperl,https://github.com/metaperl,https://api.github.com/users/metaperl/followers,https://api.github.com/users/metaperl/following{/other_user},https://api.github.com/users/metaperl/gists{/gist_id},https://api.github.com/users/metaperl/starred{/owner}{/repo},https://api.github.com/users/metaperl/subscriptions,https://api.github.com/users/metaperl/orgs,https://api.github.com/users/metaperl/repos,https://api.github.com/users/metaperl/events{/privacy},https://api.github.com/users/metaperl/received_events,User,False,,,,,betodealmeida,1534870.0,MDQ6VXNlcjE1MzQ4NzA=,https://avatars3.githubusercontent.com/u/1534870?v=4,,https://api.github.com/users/betodealmeida,https://github.com/betodealmeida,https://api.github.com/users/betodealmeida/followers,https://api.github.com/users/betodealmeida/following{/other_user},https://api.github.com/users/betodealmeida/gists{/gist_id},https://api.github.com/users/betodealmeida/starred{/owner}{/repo},https://api.github.com/users/betodealmeida/subscriptions,https://api.github.com/users/betodealmeida/orgs,https://api.github.com/users/betodealmeida/repos,https://api.github.com/users/betodealmeida/events{/privacy},https://api.github.com/users/betodealmeida/received_events,User,False
132,https://api.github.com/repos/apache/incubator-superset/issues/8514,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8514/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8514/comments,https://api.github.com/repos/apache/incubator-superset/issues/8514/events,https://github.com/apache/incubator-superset/pull/8514,518190949,MDExOlB1bGxSZXF1ZXN0MzM3MTMwODkz,8514,"[fix] cluster_name = cluster_name, not cluster_id","[{'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,1,2019-11-06T02:07:41Z,2019-11-13T19:29:29Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [X] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
Found these 3-year-old bugs while looking into some other stuff. I'm guessing this may have happened because of some copy paste errors. It probably isn't too important since they haven't been caught, but it's pretty irksome to look at, so here we go.

### TEST PLAN
Passes `tox`.

### REVIEWERS
@john-bodley 
",incubator-superset,apache,serenajiang,14146019,MDQ6VXNlcjE0MTQ2MDE5,https://avatars0.githubusercontent.com/u/14146019?v=4,,https://api.github.com/users/serenajiang,https://github.com/serenajiang,https://api.github.com/users/serenajiang/followers,https://api.github.com/users/serenajiang/following{/other_user},https://api.github.com/users/serenajiang/gists{/gist_id},https://api.github.com/users/serenajiang/starred{/owner}{/repo},https://api.github.com/users/serenajiang/subscriptions,https://api.github.com/users/serenajiang/orgs,https://api.github.com/users/serenajiang/repos,https://api.github.com/users/serenajiang/events{/privacy},https://api.github.com/users/serenajiang/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8514,https://github.com/apache/incubator-superset/pull/8514,https://github.com/apache/incubator-superset/pull/8514.diff,https://github.com/apache/incubator-superset/pull/8514.patch,,,,,,,,,,,,,,,,,,
133,https://api.github.com/repos/apache/incubator-superset/issues/8505,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8505/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8505/comments,https://api.github.com/repos/apache/incubator-superset/issues/8505/events,https://github.com/apache/incubator-superset/issues/8505,517615098,MDU6SXNzdWU1MTc2MTUwOTg=,8505,Old dashboard not work after upgrade to 0.34.1 from 0.28.1,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,3,2019-11-05T08:21:34Z,2019-11-06T06:16:55Z,,NONE,"For upgrading, I have run below cmd:
```
superset db upgrade
superset init
```

Click old dashboard, there are some errors in browser console:
```
Uncaught TypeError: Cannot read property 'children' of undefined
    at dashboard.ea66149ece42ffc6e205.entry.js:2
    at dashboard.ea66149ece42ffc6e205.entry.js:2
    at Module.<anonymous> (dashboard.ea66149ece42ffc6e205.entry.js:2)
    at s (dashboard.ea66149ece42ffc6e205.entry.js:2)
    at Object.<anonymous> (dashboard.ea66149ece42ffc6e205.entry.js:2)
    at s (dashboard.ea66149ece42ffc6e205.entry.js:2)
    at n (dashboard.ea66149ece42ffc6e205.entry.js:2)
    at dashboard.ea66149ece42ffc6e205.entry.js:2
    at dashboard.ea66149ece42ffc6e205.entry.js:2
```
New created dashboard work well. 
Haven't see any error in server logs.

The Position JSON from the old dashboard:
```
{
    ""DASHBOARD_CHART_TYPE-HJgTnR67Z4"": {
        ""children"": [],
        ""id"": ""DASHBOARD_CHART_TYPE-HJgTnR67Z4"",
        ""meta"": {
            ""chartId"": 10,
            ""height"": 26,
            ""sliceName"": ""\u8fc7\u6ee4\uff1a\u65f6\u95f4\u3001\u7ebf\u8def"",
            ""width"": 4
        },
        ""type"": ""DASHBOARD_CHART_TYPE""
    },
    ""DASHBOARD_CHART_TYPE-HylsCTTXZ4"": {
        ""children"": [],
        ""id"": ""DASHBOARD_CHART_TYPE-HylsCTTXZ4"",
        ""meta"": {
            ""chartId"": 13,
            ""height"": 77,
            ""sliceName"": ""\u4e0a\u8f66\u70b9\u6563\u5c04\u56fe"",
            ""width"": 6
        },
        ""type"": ""DASHBOARD_CHART_TYPE""
    },
    ""DASHBOARD_CHART_TYPE-SJe6YWRQ-N"": {
        ""children"": [],
        ""id"": ""DASHBOARD_CHART_TYPE-SJe6YWRQ-N"",
        ""meta"": {
            ""chartId"": 15,
            ""height"": 77,
            ""sliceName"": ""\u4e0b\u8f66\u70b9\u6563\u5c04\u56fe"",
            ""width"": 6
        },
        ""type"": ""DASHBOARD_CHART_TYPE""
    },
    ""DASHBOARD_CHART_TYPE-SkeQKfCQZN"": {
        ""children"": [],
        ""id"": ""DASHBOARD_CHART_TYPE-SkeQKfCQZN"",
        ""meta"": {
            ""chartId"": 16,
            ""height"": 26,
            ""sliceName"": ""\u8fc7\u6ee4\uff1a\u5468\u3001\u65f6\u95f4\u51e0\u70b9"",
            ""width"": 3
        },
        ""type"": ""DASHBOARD_CHART_TYPE""
    },
    ""DASHBOARD_CHART_TYPE-Skeo8CaNWV"": {
        ""children"": [],
        ""id"": ""DASHBOARD_CHART_TYPE-Skeo8CaNWV"",
        ""meta"": {
            ""chartId"": 23,
            ""height"": 72,
            ""sliceName"": ""\u4e0b\u8f66\u70b9hexagons"",
            ""width"": 6
        },
        ""type"": ""DASHBOARD_CHART_TYPE""
    },
    ""DASHBOARD_CHART_TYPE-rJlT94zI-4"": {
        ""children"": [],
        ""id"": ""DASHBOARD_CHART_TYPE-rJlT94zI-4"",
        ""meta"": {
            ""chartId"": 24,
            ""height"": 26,
            ""sliceName"": ""\u8fc7\u6ee4\uff1a\u8ba2\u5355\u72b6\u6001"",
            ""width"": 3
        },
        ""type"": ""DASHBOARD_CHART_TYPE""
    },
    ""DASHBOARD_CHART_TYPE-rygFRapEWV"": {
        ""children"": [],
        ""id"": ""DASHBOARD_CHART_TYPE-rygFRapEWV"",
        ""meta"": {
            ""chartId"": 22,
            ""height"": 72,
            ""sliceName"": ""\u4e0a\u8f66\u70b9hexagons"",
            ""width"": 6
        },
        ""type"": ""DASHBOARD_CHART_TYPE""
    },
    ""DASHBOARD_GRID_ID"": {
        ""children"": [
            ""DASHBOARD_ROW_TYPE-BktPZRmbE"",
            ""DASHBOARD_ROW_TYPE-r1MsCaamWV"",
            ""DASHBOARD_ROW_TYPE-SJfFC6aE-N""
        ],
        ""id"": ""DASHBOARD_GRID_ID"",
        ""type"": ""DASHBOARD_GRID_TYPE""
    },
    ""DASHBOARD_HEADER_ID"": {
        ""id"": ""DASHBOARD_HEADER_ID"",
        ""meta"": {
            ""text"": ""\u62fc\u8f66\u4e0a\u4e0b\u8f66\u70b9\u5206\u5e03\u56fe""
        },
        ""type"": ""DASHBOARD_HEADER_TYPE""
    },
    ""DASHBOARD_MARKDOWN_TYPE-HkefsZVwZV"": {
        ""children"": [],
        ""id"": ""DASHBOARD_MARKDOWN_TYPE-HkefsZVwZV"",
        ""meta"": {
            ""code"": ""## \u663e\u793a\u5730\u56fe\u53ef\u80fd\u9700\u8981\u7ffb\u5899\n\n\u53ef\u4f7f\u7528\u4ee5\u4e0bPAC\u89c4\u5219:\n```\n||api.mapbox.com\n```"",
            ""height"": 26,
            ""width"": 2
        },
        ""type"": ""DASHBOARD_MARKDOWN_TYPE""
    },
    ""DASHBOARD_ROOT_ID"": {
        ""children"": [
            ""DASHBOARD_GRID_ID""
        ],
        ""id"": ""DASHBOARD_ROOT_ID"",
        ""type"": ""DASHBOARD_ROOT_TYPE""
    },
    ""DASHBOARD_ROW_TYPE-BktPZRmbE"": {
        ""children"": [
            ""DASHBOARD_CHART_TYPE-HJgTnR67Z4"",
            ""DASHBOARD_CHART_TYPE-SkeQKfCQZN"",
            ""DASHBOARD_CHART_TYPE-rJlT94zI-4"",
            ""DASHBOARD_MARKDOWN_TYPE-HkefsZVwZV""
        ],
        ""id"": ""DASHBOARD_ROW_TYPE-BktPZRmbE"",
        ""meta"": {
            ""background"": ""BACKGROUND_TRANSPARENT""
        },
        ""type"": ""DASHBOARD_ROW_TYPE""
    },
    ""DASHBOARD_ROW_TYPE-SJfFC6aE-N"": {
        ""children"": [
            ""DASHBOARD_CHART_TYPE-rygFRapEWV"",
            ""DASHBOARD_CHART_TYPE-Skeo8CaNWV""
        ],
        ""id"": ""DASHBOARD_ROW_TYPE-SJfFC6aE-N"",
        ""meta"": {
            ""background"": ""BACKGROUND_TRANSPARENT""
        },
        ""type"": ""DASHBOARD_ROW_TYPE""
    },
    ""DASHBOARD_ROW_TYPE-r1MsCaamWV"": {
        ""children"": [
            ""DASHBOARD_CHART_TYPE-HylsCTTXZ4"",
            ""DASHBOARD_CHART_TYPE-SJe6YWRQ-N""
        ],
        ""id"": ""DASHBOARD_ROW_TYPE-r1MsCaamWV"",
        ""meta"": {
            ""background"": ""BACKGROUND_TRANSPARENT""
        },
        ""type"": ""DASHBOARD_ROW_TYPE""
    },
    ""DASHBOARD_VERSION_KEY"": ""v2""
}
```",incubator-superset,apache,qiuyuzhou,2310221,MDQ6VXNlcjIzMTAyMjE=,https://avatars0.githubusercontent.com/u/2310221?v=4,,https://api.github.com/users/qiuyuzhou,https://github.com/qiuyuzhou,https://api.github.com/users/qiuyuzhou/followers,https://api.github.com/users/qiuyuzhou/following{/other_user},https://api.github.com/users/qiuyuzhou/gists{/gist_id},https://api.github.com/users/qiuyuzhou/starred{/owner}{/repo},https://api.github.com/users/qiuyuzhou/subscriptions,https://api.github.com/users/qiuyuzhou/orgs,https://api.github.com/users/qiuyuzhou/repos,https://api.github.com/users/qiuyuzhou/events{/privacy},https://api.github.com/users/qiuyuzhou/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
134,https://api.github.com/repos/apache/incubator-superset/issues/8504,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8504/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8504/comments,https://api.github.com/repos/apache/incubator-superset/issues/8504/events,https://github.com/apache/incubator-superset/issues/8504,517600370,MDU6SXNzdWU1MTc2MDAzNzA=,8504,Can not work with email report when reboot,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-11-05T07:45:26Z,2019-11-05T07:45:57Z,,NONE,"After reboot the server, the send mail does not work anymore, no error fire in log

### Expected results

It's normaly work with 3 shell terminal open at the same time . But when i put it to cronjob it does not work anymore.

#crontab -e
`
@reboot sleep 60 && /usr/local/bin/superset run -h 192.168.250.10 -p 8080 --with-threads --reload --debugger

@reboot sleep 80 && /usr/local/bin/celery worker --app=superset.tasks.celery_app:app --pool=prefork -Ofair -c 4

@reboot sleep 90 && /usr/local/bin/celeryt --app=superset.tasks.celery_app:app
`",incubator-superset,apache,toilv,52364476,MDQ6VXNlcjUyMzY0NDc2,https://avatars1.githubusercontent.com/u/52364476?v=4,,https://api.github.com/users/toilv,https://github.com/toilv,https://api.github.com/users/toilv/followers,https://api.github.com/users/toilv/following{/other_user},https://api.github.com/users/toilv/gists{/gist_id},https://api.github.com/users/toilv/starred{/owner}{/repo},https://api.github.com/users/toilv/subscriptions,https://api.github.com/users/toilv/orgs,https://api.github.com/users/toilv/repos,https://api.github.com/users/toilv/events{/privacy},https://api.github.com/users/toilv/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
135,https://api.github.com/repos/apache/incubator-superset/issues/8502,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8502/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8502/comments,https://api.github.com/repos/apache/incubator-superset/issues/8502/events,https://github.com/apache/incubator-superset/issues/8502,517505160,MDU6SXNzdWU1MTc1MDUxNjA=,8502,The time-thermal map shows the problem,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,"[{'login': 'betodealmeida', 'id': 1534870, 'node_id': 'MDQ6VXNlcjE1MzQ4NzA=', 'avatar_url': 'https://avatars3.githubusercontent.com/u/1534870?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/betodealmeida', 'html_url': 'https://github.com/betodealmeida', 'followers_url': 'https://api.github.com/users/betodealmeida/followers', 'following_url': 'https://api.github.com/users/betodealmeida/following{/other_user}', 'gists_url': 'https://api.github.com/users/betodealmeida/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/betodealmeida/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/betodealmeida/subscriptions', 'organizations_url': 'https://api.github.com/users/betodealmeida/orgs', 'repos_url': 'https://api.github.com/users/betodealmeida/repos', 'events_url': 'https://api.github.com/users/betodealmeida/events{/privacy}', 'received_events_url': 'https://api.github.com/users/betodealmeida/received_events', 'type': 'User', 'site_admin': False}]",,6,2019-11-05T02:00:24Z,2019-12-05T05:17:13Z,,NONE,"When I create a time heat map
The beginning of each month should be the first of the month
But this is the last day of last month
for example:
![image](https://user-images.githubusercontent.com/36362816/68172634-354d5480-ffb3-11e9-9c2c-ce571479f6d9.png)


",incubator-superset,apache,mklzl,36362816,MDQ6VXNlcjM2MzYyODE2,https://avatars1.githubusercontent.com/u/36362816?v=4,,https://api.github.com/users/mklzl,https://github.com/mklzl,https://api.github.com/users/mklzl/followers,https://api.github.com/users/mklzl/following{/other_user},https://api.github.com/users/mklzl/gists{/gist_id},https://api.github.com/users/mklzl/starred{/owner}{/repo},https://api.github.com/users/mklzl/subscriptions,https://api.github.com/users/mklzl/orgs,https://api.github.com/users/mklzl/repos,https://api.github.com/users/mklzl/events{/privacy},https://api.github.com/users/mklzl/received_events,User,False,,,,,betodealmeida,1534870.0,MDQ6VXNlcjE1MzQ4NzA=,https://avatars3.githubusercontent.com/u/1534870?v=4,,https://api.github.com/users/betodealmeida,https://github.com/betodealmeida,https://api.github.com/users/betodealmeida/followers,https://api.github.com/users/betodealmeida/following{/other_user},https://api.github.com/users/betodealmeida/gists{/gist_id},https://api.github.com/users/betodealmeida/starred{/owner}{/repo},https://api.github.com/users/betodealmeida/subscriptions,https://api.github.com/users/betodealmeida/orgs,https://api.github.com/users/betodealmeida/repos,https://api.github.com/users/betodealmeida/events{/privacy},https://api.github.com/users/betodealmeida/received_events,User,False
136,https://api.github.com/repos/apache/incubator-superset/issues/8501,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8501/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8501/comments,https://api.github.com/repos/apache/incubator-superset/issues/8501/events,https://github.com/apache/incubator-superset/issues/8501,517244540,MDU6SXNzdWU1MTcyNDQ1NDA=,8501,Still fetching fav-star data when no user is logged in,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-11-04T15:56:55Z,2019-11-04T15:56:58Z,,CONTRIBUTOR,"By giving the permissions:
- can dashboard on Superset
- can csrf token on Superset
- can explore json on Superset
- can list on CssTemplateAsyncModelView
- all datasource access on all_datasource_access

to the public role, any non logged in user can explore any dashboard. However, even with no user logged in, frontend app still tries to fetch the favorite status of the current dashboard.

### Expected results

Verify if a user is logged in and only if it is then fetch the favorite status of the current dashboard.

### Actual results

The favorite status of the current dashboard is always fetched

#### Screenshots

![fav-start-showing](https://user-images.githubusercontent.com/23409890/68135502-a93c1e00-ff1b-11e9-8214-4f80108d84a0.png)

#### How to reproduce the bug

1. Give the permissions mentioned on the beggining of the issue to the public role
2. Log out
3. Go to the url of any dashboard
4. See toast and fav-start still showing

### Environment

- using docker on commit [[SIP-15] Updating ISO 8601 regex match to make time optional (#8494) ](https://github.com/apache/incubator-superset/commit/fda2333cf21c2d71ad0ca276f78fd4b5b6fef314)

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [X] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [X] I have reproduced the issue with at least the latest released version of superset.
- [X] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context


",incubator-superset,apache,aspedrosa,23409890,MDQ6VXNlcjIzNDA5ODkw,https://avatars0.githubusercontent.com/u/23409890?v=4,,https://api.github.com/users/aspedrosa,https://github.com/aspedrosa,https://api.github.com/users/aspedrosa/followers,https://api.github.com/users/aspedrosa/following{/other_user},https://api.github.com/users/aspedrosa/gists{/gist_id},https://api.github.com/users/aspedrosa/starred{/owner}{/repo},https://api.github.com/users/aspedrosa/subscriptions,https://api.github.com/users/aspedrosa/orgs,https://api.github.com/users/aspedrosa/repos,https://api.github.com/users/aspedrosa/events{/privacy},https://api.github.com/users/aspedrosa/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
137,https://api.github.com/repos/apache/incubator-superset/issues/8499,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8499/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8499/comments,https://api.github.com/repos/apache/incubator-superset/issues/8499/events,https://github.com/apache/incubator-superset/issues/8499,517022251,MDU6SXNzdWU1MTcwMjIyNTE=,8499,Can't open in smartphone,[],open,False,,[],,9,2019-11-04T09:00:29Z,2019-11-15T14:47:40Z,,NONE,"I want to ask why when I try to open Apache Superset via Smatrphone failure, what causes it to happen? thanks.
",incubator-superset,apache,marindahulfa,48057810,MDQ6VXNlcjQ4MDU3ODEw,https://avatars2.githubusercontent.com/u/48057810?v=4,,https://api.github.com/users/marindahulfa,https://github.com/marindahulfa,https://api.github.com/users/marindahulfa/followers,https://api.github.com/users/marindahulfa/following{/other_user},https://api.github.com/users/marindahulfa/gists{/gist_id},https://api.github.com/users/marindahulfa/starred{/owner}{/repo},https://api.github.com/users/marindahulfa/subscriptions,https://api.github.com/users/marindahulfa/orgs,https://api.github.com/users/marindahulfa/repos,https://api.github.com/users/marindahulfa/events{/privacy},https://api.github.com/users/marindahulfa/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
138,https://api.github.com/repos/apache/incubator-superset/issues/8497,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8497/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8497/comments,https://api.github.com/repos/apache/incubator-superset/issues/8497/events,https://github.com/apache/incubator-superset/issues/8497,516986386,MDU6SXNzdWU1MTY5ODYzODY=,8497,Grouping by more than one item is not grouping data by corresponding values,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,2,2019-11-04T07:08:18Z,2019-11-25T04:56:45Z,,NONE,"A clear and concise description of what the bug is.

### Expected results

what you expected to happen.
I would expect the output to exclude data which does not correspond with the groups.

### Actual results

what actually happens.
I have data in a pivot table and I have grouped it by two variables say continent and country and the metric is population size.  The output does not exclude data which does not correspond to the first group ie the country row will have the names of all the countries regardless of the continent. If the country name does not correspond to the continent then the metric will be 'null'.

Superset version: 0.30.0
python version: 3.6.8

However, this is working well in Superset 0.28, python version 3.6






",incubator-superset,apache,mashciku,29142200,MDQ6VXNlcjI5MTQyMjAw,https://avatars0.githubusercontent.com/u/29142200?v=4,,https://api.github.com/users/mashciku,https://github.com/mashciku,https://api.github.com/users/mashciku/followers,https://api.github.com/users/mashciku/following{/other_user},https://api.github.com/users/mashciku/gists{/gist_id},https://api.github.com/users/mashciku/starred{/owner}{/repo},https://api.github.com/users/mashciku/subscriptions,https://api.github.com/users/mashciku/orgs,https://api.github.com/users/mashciku/repos,https://api.github.com/users/mashciku/events{/privacy},https://api.github.com/users/mashciku/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
139,https://api.github.com/repos/apache/incubator-superset/issues/8488,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8488/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8488/comments,https://api.github.com/repos/apache/incubator-superset/issues/8488/events,https://github.com/apache/incubator-superset/issues/8488,515605598,MDU6SXNzdWU1MTU2MDU1OTg=,8488,'ascii' codec can't decode byte 0xcc in position 0: ordinal not in range(128),"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,4,2019-10-31T17:14:58Z,2019-11-01T20:56:42Z,,NONE,"Traceback (most recent call last):
  File ""D:\Program Files (x86)\superset\superset_python3.6\lib\site-packages\sup
erset\sql_lab.py"", line 193, in execute_sql
    data = db_engine_spec.fetch_data(cursor, query.limit)
  File ""D:\Program Files (x86)\superset\superset_python3.6\lib\site-packages\sup
erset\db_engine_specs.py"", line 431, in fetch_data
    return cursor.fetchall()
UnicodeDecodeError: 'ascii' codec can't decode byte 0xcc in position 0: ordinal
not in range(128)",incubator-superset,apache,chairly,18066008,MDQ6VXNlcjE4MDY2MDA4,https://avatars2.githubusercontent.com/u/18066008?v=4,,https://api.github.com/users/chairly,https://github.com/chairly,https://api.github.com/users/chairly/followers,https://api.github.com/users/chairly/following{/other_user},https://api.github.com/users/chairly/gists{/gist_id},https://api.github.com/users/chairly/starred{/owner}{/repo},https://api.github.com/users/chairly/subscriptions,https://api.github.com/users/chairly/orgs,https://api.github.com/users/chairly/repos,https://api.github.com/users/chairly/events{/privacy},https://api.github.com/users/chairly/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
140,https://api.github.com/repos/apache/incubator-superset/issues/8483,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8483/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8483/comments,https://api.github.com/repos/apache/incubator-superset/issues/8483/events,https://github.com/apache/incubator-superset/issues/8483,514892458,MDU6SXNzdWU1MTQ4OTI0NTg=,8483,Rich tooltip not working in barchart time series,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,8,2019-10-30T18:32:33Z,2019-11-03T23:00:22Z,,NONE,"As title describes, as described in #5431 

### Expected results

Rich tooltip working also for barcharts like it does in linecharts.

### Actual results

Rich tooltip not working for barcharts.

#### Screenshots

![Annotazione 2019-10-30 192842](https://user-images.githubusercontent.com/47462792/67887434-87255300-fb4b-11e9-95d8-5375095902ee.jpg)

#### How to reproduce the bug

1. Create a grouped timeseries bar chart
2. Enable rich tooltip

### Environment

(please complete the following information):

- superset version: 0.34.1
- python version:  3.7.3
- node.js version: 10.16.0
- npm version: 6.10.2

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.
^ I have and it's been closed but not resolved",incubator-superset,apache,wtfzambo,47462792,MDQ6VXNlcjQ3NDYyNzky,https://avatars3.githubusercontent.com/u/47462792?v=4,,https://api.github.com/users/wtfzambo,https://github.com/wtfzambo,https://api.github.com/users/wtfzambo/followers,https://api.github.com/users/wtfzambo/following{/other_user},https://api.github.com/users/wtfzambo/gists{/gist_id},https://api.github.com/users/wtfzambo/starred{/owner}{/repo},https://api.github.com/users/wtfzambo/subscriptions,https://api.github.com/users/wtfzambo/orgs,https://api.github.com/users/wtfzambo/repos,https://api.github.com/users/wtfzambo/events{/privacy},https://api.github.com/users/wtfzambo/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
141,https://api.github.com/repos/apache/incubator-superset/issues/8479,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8479/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8479/comments,https://api.github.com/repos/apache/incubator-superset/issues/8479/events,https://github.com/apache/incubator-superset/issues/8479,514666286,MDU6SXNzdWU1MTQ2NjYyODY=,8479,mapbox miss point,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,1,2019-10-30T13:24:08Z,2019-10-31T03:27:37Z,,NONE,"Expected results

got the point in mapbox

Actual results

point are missing

Screenshots

![image](https://user-images.githubusercontent.com/33312773/67916643-525bdf00-fbd1-11e9-8675-a3d4254b007d.png)
![image](https://user-images.githubusercontent.com/33312773/67916659-5ee03780-fbd1-11e9-8ce3-a343c6e64dd5.png)
![image](https://user-images.githubusercontent.com/33312773/67916670-699acc80-fbd1-11e9-9764-de0917062358.png)


How to reproduce the bug

1.go to sqllab and get 2 lat lng data.
2.select mapbox visualization type.
3.shrink map , got the 2 data. 
4.enlarge map, point are missing.

Environment
docker amancevice/superset:0.34.1",incubator-superset,apache,tiankongbuqi,33312773,MDQ6VXNlcjMzMzEyNzcz,https://avatars2.githubusercontent.com/u/33312773?v=4,,https://api.github.com/users/tiankongbuqi,https://github.com/tiankongbuqi,https://api.github.com/users/tiankongbuqi/followers,https://api.github.com/users/tiankongbuqi/following{/other_user},https://api.github.com/users/tiankongbuqi/gists{/gist_id},https://api.github.com/users/tiankongbuqi/starred{/owner}{/repo},https://api.github.com/users/tiankongbuqi/subscriptions,https://api.github.com/users/tiankongbuqi/orgs,https://api.github.com/users/tiankongbuqi/repos,https://api.github.com/users/tiankongbuqi/events{/privacy},https://api.github.com/users/tiankongbuqi/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
142,https://api.github.com/repos/apache/incubator-superset/issues/8475,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8475/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8475/comments,https://api.github.com/repos/apache/incubator-superset/issues/8475/events,https://github.com/apache/incubator-superset/pull/8475,514488451,MDExOlB1bGxSZXF1ZXN0MzM0MDk3NDQ5,8475,add schema to webserver address,"[{'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,1,2019-10-30T08:44:05Z,2019-11-06T16:13:56Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [x] Bug Fix

### SUMMARY
The only concurrence of this setting is in [cache task](https://github.com/apache/incubator-superset/blob/9fc37ea9f1ff032dea923012613d4e7189ada178/superset/tasks/cache.py#L78) where an URL is built to cache charts and dashboards. This url is [passed into](https://github.com/apache/incubator-superset/blob/9fc37ea9f1ff032dea923012613d4e7189ada178/superset/tasks/cache.py#L284) Python's `urllib.request.urlopen` function which requires a url schema, otherwise you will get this error.

> urllib.error.URLError: <urlopen error unknown url type: 0.0.0.0>",incubator-superset,apache,christophlingg,2032443,MDQ6VXNlcjIwMzI0NDM=,https://avatars3.githubusercontent.com/u/2032443?v=4,,https://api.github.com/users/christophlingg,https://github.com/christophlingg,https://api.github.com/users/christophlingg/followers,https://api.github.com/users/christophlingg/following{/other_user},https://api.github.com/users/christophlingg/gists{/gist_id},https://api.github.com/users/christophlingg/starred{/owner}{/repo},https://api.github.com/users/christophlingg/subscriptions,https://api.github.com/users/christophlingg/orgs,https://api.github.com/users/christophlingg/repos,https://api.github.com/users/christophlingg/events{/privacy},https://api.github.com/users/christophlingg/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8475,https://github.com/apache/incubator-superset/pull/8475,https://github.com/apache/incubator-superset/pull/8475.diff,https://github.com/apache/incubator-superset/pull/8475.patch,,,,,,,,,,,,,,,,,,
143,https://api.github.com/repos/apache/incubator-superset/issues/8469,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8469/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8469/comments,https://api.github.com/repos/apache/incubator-superset/issues/8469/events,https://github.com/apache/incubator-superset/issues/8469,514134450,MDU6SXNzdWU1MTQxMzQ0NTA=,8469,Add additional time frames for filtering.,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,2,2019-10-29T18:32:38Z,2019-10-29T19:48:11Z,,CONTRIBUTOR,"**Is your feature request related to a problem? Please describe.**
Currently we would like to do financial reporting inside Superset, so we are lacking `Current fiscal quarter`, `Last fiscal quarter`, etc.

**Describe the solution you'd like**
These filtering options are present.  (making a quick-follow PR for this)

**Describe alternatives you've considered**
There aren't any to make this simple.

**Additional context**
N/A",incubator-superset,apache,ericandrewmeadows,19596182,MDQ6VXNlcjE5NTk2MTgy,https://avatars3.githubusercontent.com/u/19596182?v=4,,https://api.github.com/users/ericandrewmeadows,https://github.com/ericandrewmeadows,https://api.github.com/users/ericandrewmeadows/followers,https://api.github.com/users/ericandrewmeadows/following{/other_user},https://api.github.com/users/ericandrewmeadows/gists{/gist_id},https://api.github.com/users/ericandrewmeadows/starred{/owner}{/repo},https://api.github.com/users/ericandrewmeadows/subscriptions,https://api.github.com/users/ericandrewmeadows/orgs,https://api.github.com/users/ericandrewmeadows/repos,https://api.github.com/users/ericandrewmeadows/events{/privacy},https://api.github.com/users/ericandrewmeadows/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
144,https://api.github.com/repos/apache/incubator-superset/issues/8466,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8466/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8466/comments,https://api.github.com/repos/apache/incubator-superset/issues/8466/events,https://github.com/apache/incubator-superset/issues/8466,513680992,MDU6SXNzdWU1MTM2ODA5OTI=,8466,Unable to change the Datetime Format while editing the datasource  ,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,3,2019-10-29T04:05:56Z,2019-11-08T23:45:15Z,,NONE,"While editing the datasource we can see the option like Label,Description,Datetime Format,when i am giving any dateformat in Datetime Format option,its not reflecting in the table view.
but when i am changing the label name its getting reflected in the column name.

### Expected results
It should apply dateformat into the table what we have given in Datetime Format option.

### Actual results
i am getting the default format of date.
#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Create any chart in table view and save it


2. Click on  datasource link and go to columns tab.
3. Scroll down to '....'
4. See error

### Environment

(please complete the following information):

- superset version: `superset version`
- python version: `python --version`
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
![image](https://user-images.githubusercontent.com/43033939/67736919-6536ae00-fa2f-11e9-9cc8-e68d505b3c95.png)
",incubator-superset,apache,umesh11111,43033939,MDQ6VXNlcjQzMDMzOTM5,https://avatars0.githubusercontent.com/u/43033939?v=4,,https://api.github.com/users/umesh11111,https://github.com/umesh11111,https://api.github.com/users/umesh11111/followers,https://api.github.com/users/umesh11111/following{/other_user},https://api.github.com/users/umesh11111/gists{/gist_id},https://api.github.com/users/umesh11111/starred{/owner}{/repo},https://api.github.com/users/umesh11111/subscriptions,https://api.github.com/users/umesh11111/orgs,https://api.github.com/users/umesh11111/repos,https://api.github.com/users/umesh11111/events{/privacy},https://api.github.com/users/umesh11111/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
145,https://api.github.com/repos/apache/incubator-superset/issues/8452,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8452/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8452/comments,https://api.github.com/repos/apache/incubator-superset/issues/8452/events,https://github.com/apache/incubator-superset/issues/8452,512541644,MDU6SXNzdWU1MTI1NDE2NDQ=,8452,[SIP-25] Proposal for text based dashboard filters,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,6,2019-10-25T14:14:49Z,2019-12-02T00:54:42Z,,NONE,"## [SIP-25] Proposal for text based dashboard filters

### Motivation

In our projects analysts need to browse through large dataset (7M rows). They often need to search for rows by values which are unique or have very large number of unique values. Current implementation of dashboard filters is based on limited number of value buckets and does not allow them to do this.

### Proposed Change

Add new visualization type - 'Search Box' which would allow to specify filter values by free typing.

New chart type should at least enable filtering with '==' operator. Additionally every defined filter could allow for different filtering operators to be used:

For text columns:
- contains => `column LIKE '%value%'`
- does not contain => `column NOT LIKE '%value%'`
- starts with => `column LIKE '%value'`
- ends with => `column LIKE 'value%'`
- is empty => `column IS NULL`
- is not empty => `column IS NOT NULL`

For number columns: arithmetical comparison operators.

Similar functionality is already present in chart query configuration section. We would like to see similar functionality on dashboard level available to the end users of the dashboards.

New visualization would not need to perform any queries to render. It would be based on table metadata only.

### New or Changed Public Interfaces

Base version of this improvement containing only ability to filter by exact value(`==`) requires only new visualization to be prepared. It would emit filters in the same way that 'Filter Box' and 'Table' charts do.

Extended version requires changes in how filter state is stored on Dashboard level - it should contain information about used comparison operator. Also new addFilter action should be added and `getEffectiveExtraFilters` function should be extended.

### New dependencies

None

### Migration Plan and Compatibility

n/a

### Rejected Alternatives

Existing 'Filter Box' visualization could be extended to allow for free input, but it is probably better to separate slice which performs query from one which can be rendered without fetching any data.",incubator-superset,apache,swian,369013,MDQ6VXNlcjM2OTAxMw==,https://avatars0.githubusercontent.com/u/369013?v=4,,https://api.github.com/users/swian,https://github.com/swian,https://api.github.com/users/swian/followers,https://api.github.com/users/swian/following{/other_user},https://api.github.com/users/swian/gists{/gist_id},https://api.github.com/users/swian/starred{/owner}{/repo},https://api.github.com/users/swian/subscriptions,https://api.github.com/users/swian/orgs,https://api.github.com/users/swian/repos,https://api.github.com/users/swian/events{/privacy},https://api.github.com/users/swian/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
146,https://api.github.com/repos/apache/incubator-superset/issues/8447,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8447/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8447/comments,https://api.github.com/repos/apache/incubator-superset/issues/8447/events,https://github.com/apache/incubator-superset/issues/8447,512122808,MDU6SXNzdWU1MTIxMjI4MDg=,8447,Dashboard tab auto change on interval,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-10-24T18:58:15Z,2019-10-26T01:40:19Z,,NONE,"**Is your feature request related to a problem? Please describe.**
Would it be possible to rotate tabs on an interval for the tabs in dashboard view? Any references that may help to get started would be great. Something similar to refresh_frequency.",incubator-superset,apache,blazecolby,44504480,MDQ6VXNlcjQ0NTA0NDgw,https://avatars1.githubusercontent.com/u/44504480?v=4,,https://api.github.com/users/blazecolby,https://github.com/blazecolby,https://api.github.com/users/blazecolby/followers,https://api.github.com/users/blazecolby/following{/other_user},https://api.github.com/users/blazecolby/gists{/gist_id},https://api.github.com/users/blazecolby/starred{/owner}{/repo},https://api.github.com/users/blazecolby/subscriptions,https://api.github.com/users/blazecolby/orgs,https://api.github.com/users/blazecolby/repos,https://api.github.com/users/blazecolby/events{/privacy},https://api.github.com/users/blazecolby/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
147,https://api.github.com/repos/apache/incubator-superset/issues/8443,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8443/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8443/comments,https://api.github.com/repos/apache/incubator-superset/issues/8443/events,https://github.com/apache/incubator-superset/pull/8443,511929794,MDExOlB1bGxSZXF1ZXN0MzMyMDM1OTg4,8443,[contrib] Add Mapbox API key variable to docker compose file,"[{'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,3,2019-10-24T13:01:55Z,2019-11-12T17:56:08Z,,NONE,"### CATEGORY

Choose one

- [ ] Bug Fix
- [x] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
Add the `MAPBOX_API_KEY` environment variable to the `superset` service in the docker-compose file, allowing the user to specify an access token to correctly display deck.gl and Mapbox visualizations. 

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [x] Has associated issue: #7272 
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,lhsvobodaj,5245736,MDQ6VXNlcjUyNDU3MzY=,https://avatars0.githubusercontent.com/u/5245736?v=4,,https://api.github.com/users/lhsvobodaj,https://github.com/lhsvobodaj,https://api.github.com/users/lhsvobodaj/followers,https://api.github.com/users/lhsvobodaj/following{/other_user},https://api.github.com/users/lhsvobodaj/gists{/gist_id},https://api.github.com/users/lhsvobodaj/starred{/owner}{/repo},https://api.github.com/users/lhsvobodaj/subscriptions,https://api.github.com/users/lhsvobodaj/orgs,https://api.github.com/users/lhsvobodaj/repos,https://api.github.com/users/lhsvobodaj/events{/privacy},https://api.github.com/users/lhsvobodaj/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8443,https://github.com/apache/incubator-superset/pull/8443,https://github.com/apache/incubator-superset/pull/8443.diff,https://github.com/apache/incubator-superset/pull/8443.patch,,,,,,,,,,,,,,,,,,
148,https://api.github.com/repos/apache/incubator-superset/issues/8440,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8440/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8440/comments,https://api.github.com/repos/apache/incubator-superset/issues/8440/events,https://github.com/apache/incubator-superset/issues/8440,511868933,MDU6SXNzdWU1MTE4Njg5MzM=,8440,Webpack hot module replacement didn't work,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}]",open,False,,[],,2,2019-10-24T10:58:32Z,2019-12-23T11:46:41Z,,NONE,"followed with CONTRIBUTING.md 
use  'npm run dev-server'to build frontend assets but hot module replacement didn't work
use 'sudo npm run dev-server' instead",incubator-superset,apache,bw2016y,20749986,MDQ6VXNlcjIwNzQ5OTg2,https://avatars3.githubusercontent.com/u/20749986?v=4,,https://api.github.com/users/bw2016y,https://github.com/bw2016y,https://api.github.com/users/bw2016y/followers,https://api.github.com/users/bw2016y/following{/other_user},https://api.github.com/users/bw2016y/gists{/gist_id},https://api.github.com/users/bw2016y/starred{/owner}{/repo},https://api.github.com/users/bw2016y/subscriptions,https://api.github.com/users/bw2016y/orgs,https://api.github.com/users/bw2016y/repos,https://api.github.com/users/bw2016y/events{/privacy},https://api.github.com/users/bw2016y/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
149,https://api.github.com/repos/apache/incubator-superset/issues/8437,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8437/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8437/comments,https://api.github.com/repos/apache/incubator-superset/issues/8437/events,https://github.com/apache/incubator-superset/issues/8437,511686199,MDU6SXNzdWU1MTE2ODYxOTk=,8437,heatmap axis cannot display date type column correctly,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}]",open,False,,[],,2,2019-10-24T03:35:29Z,2019-12-23T03:46:41Z,,NONE,"A clear and concise description of what the bug is.
when Heatmap axis was date type column, it can not be display correctly.
For example,  2017-09-01 was displayed as 1504224000000

![image](https://user-images.githubusercontent.com/56583108/67450806-6e5cf080-f5d3-11e9-8c20-3ae76a2d852e.png)
### Expected results

what you expected to happen.

### Actual results

what actually happens.

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

### Environment

(please complete the following information):

- superset version: `superset version` 0.34 
- python version: `python --version`  3.6.9
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
yes
- [x] I have reproduced the issue with at least the latest released version of superset.
yes
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.
yes

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,hecaodong,56583108,MDQ6VXNlcjU2NTgzMTA4,https://avatars1.githubusercontent.com/u/56583108?v=4,,https://api.github.com/users/hecaodong,https://github.com/hecaodong,https://api.github.com/users/hecaodong/followers,https://api.github.com/users/hecaodong/following{/other_user},https://api.github.com/users/hecaodong/gists{/gist_id},https://api.github.com/users/hecaodong/starred{/owner}{/repo},https://api.github.com/users/hecaodong/subscriptions,https://api.github.com/users/hecaodong/orgs,https://api.github.com/users/hecaodong/repos,https://api.github.com/users/hecaodong/events{/privacy},https://api.github.com/users/hecaodong/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
150,https://api.github.com/repos/apache/incubator-superset/issues/8435,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8435/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8435/comments,https://api.github.com/repos/apache/incubator-superset/issues/8435/events,https://github.com/apache/incubator-superset/issues/8435,511423239,MDU6SXNzdWU1MTE0MjMyMzk=,8435,How to make pyodbc work in docker,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,2,2019-10-23T15:58:54Z,2019-11-06T17:01:19Z,,NONE,"I followed the guide setup the docker successfully but when try to add a MSSQL source database the error show up:
` | 2019-10-23 15:46:51,751:ERROR:root:No module named 'pyodbc'
superset_1  | Traceback (most recent call last):
superset_1  |   File ""/home/superset/superset/views/core.py"", line 1702, in testconn
superset_1  |     engine = database.get_sqla_engine(user_name=username)
superset_1  |   File ""/home/superset/superset/utils/core.py"", line 131, in __call__
superset_1  |     value = self.func(*args, **kwargs)
superset_1  |   File ""/home/superset/superset/models/core.py"", line 911, in get_sqla_engine
superset_1  |     return create_engine(url, **params)
superset_1  |   File ""/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/__init__.py"", line 435, in create_engine
superset_1  |     return strategy.create(*args, **kwargs)
superset_1  |   File ""/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py"", line 87, in create
superset_1  |     dbapi = dialect_cls.dbapi(**dbapi_args)
superset_1  |   File ""/usr/local/lib/python3.6/site-packages/sqlalchemy/connectors/pyodbc.py"", line 37, in dbapi
superset_1  |     return __import__(""pyodbc"")
superset_1  | ModuleNotFoundError: No module named 'pyodbc'
`

I have already install it:
`pip3 install pymssql`",incubator-superset,apache,toilv,52364476,MDQ6VXNlcjUyMzY0NDc2,https://avatars1.githubusercontent.com/u/52364476?v=4,,https://api.github.com/users/toilv,https://github.com/toilv,https://api.github.com/users/toilv/followers,https://api.github.com/users/toilv/following{/other_user},https://api.github.com/users/toilv/gists{/gist_id},https://api.github.com/users/toilv/starred{/owner}{/repo},https://api.github.com/users/toilv/subscriptions,https://api.github.com/users/toilv/orgs,https://api.github.com/users/toilv/repos,https://api.github.com/users/toilv/events{/privacy},https://api.github.com/users/toilv/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
151,https://api.github.com/repos/apache/incubator-superset/issues/8434,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8434/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8434/comments,https://api.github.com/repos/apache/incubator-superset/issues/8434/events,https://github.com/apache/incubator-superset/issues/8434,511285848,MDU6SXNzdWU1MTEyODU4NDg=,8434,Can anyone please clarify the working of different kind of limits in the config,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,3,2019-10-23T12:21:26Z,2019-10-27T19:05:10Z,,NONE,"I want a clear description of these limits or if they affect each other,
1 ROW_LIMIT
2 VIZ_ROW_LIMIT
3 SQL_MAX_ROW
4 DISPLAY_MAX_ROW",incubator-superset,apache,saurabh1-singh,42036742,MDQ6VXNlcjQyMDM2NzQy,https://avatars0.githubusercontent.com/u/42036742?v=4,,https://api.github.com/users/saurabh1-singh,https://github.com/saurabh1-singh,https://api.github.com/users/saurabh1-singh/followers,https://api.github.com/users/saurabh1-singh/following{/other_user},https://api.github.com/users/saurabh1-singh/gists{/gist_id},https://api.github.com/users/saurabh1-singh/starred{/owner}{/repo},https://api.github.com/users/saurabh1-singh/subscriptions,https://api.github.com/users/saurabh1-singh/orgs,https://api.github.com/users/saurabh1-singh/repos,https://api.github.com/users/saurabh1-singh/events{/privacy},https://api.github.com/users/saurabh1-singh/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
152,https://api.github.com/repos/apache/incubator-superset/issues/8431,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8431/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8431/comments,https://api.github.com/repos/apache/incubator-superset/issues/8431/events,https://github.com/apache/incubator-superset/issues/8431,511057445,MDU6SXNzdWU1MTEwNTc0NDU=,8431,how to pass the filter time to the custom query filter?,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,3,2019-10-23T04:01:10Z,2019-11-13T03:57:58Z,,NONE,"Hi, guys

I'm using superset query data from hive which contains time partitions.
I want to pass the filter time to the custom query filter, so i can specify the time partition from it.

below is the filter time:
![supserset_time](https://raw.githubusercontent.com/yyccR/Pictures/master/issue/supserset/superset_time.png)

And how to pass it to the custom filter like:
![supserset_time](https://raw.githubusercontent.com/yyccR/Pictures/master/issue/supserset/superset_filter.png)

Thanks a lot!
",incubator-superset,apache,yyccR,14156500,MDQ6VXNlcjE0MTU2NTAw,https://avatars0.githubusercontent.com/u/14156500?v=4,,https://api.github.com/users/yyccR,https://github.com/yyccR,https://api.github.com/users/yyccR/followers,https://api.github.com/users/yyccR/following{/other_user},https://api.github.com/users/yyccR/gists{/gist_id},https://api.github.com/users/yyccR/starred{/owner}{/repo},https://api.github.com/users/yyccR/subscriptions,https://api.github.com/users/yyccR/orgs,https://api.github.com/users/yyccR/repos,https://api.github.com/users/yyccR/events{/privacy},https://api.github.com/users/yyccR/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
153,https://api.github.com/repos/apache/incubator-superset/issues/8428,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8428/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8428/comments,https://api.github.com/repos/apache/incubator-superset/issues/8428/events,https://github.com/apache/incubator-superset/issues/8428,510741474,MDU6SXNzdWU1MTA3NDE0NzQ=,8428,Unable to use Table Timestamp Format dropdown option,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,"[{'login': 'betodealmeida', 'id': 1534870, 'node_id': 'MDQ6VXNlcjE1MzQ4NzA=', 'avatar_url': 'https://avatars3.githubusercontent.com/u/1534870?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/betodealmeida', 'html_url': 'https://github.com/betodealmeida', 'followers_url': 'https://api.github.com/users/betodealmeida/followers', 'following_url': 'https://api.github.com/users/betodealmeida/following{/other_user}', 'gists_url': 'https://api.github.com/users/betodealmeida/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/betodealmeida/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/betodealmeida/subscriptions', 'organizations_url': 'https://api.github.com/users/betodealmeida/orgs', 'repos_url': 'https://api.github.com/users/betodealmeida/repos', 'events_url': 'https://api.github.com/users/betodealmeida/events{/privacy}', 'received_events_url': 'https://api.github.com/users/betodealmeida/received_events', 'type': 'User', 'site_admin': False}]",,2,2019-10-22T15:37:30Z,2019-12-03T19:49:35Z,,NONE,"when i am creating the table and selecting the customize option and try to choose any date format value from the option its not working .

### Expected results
Date format should apply on the date column fields in the table


### Actual results
Dropdown value of Table Timestamp Format is not working at all.

![image](https://user-images.githubusercontent.com/43033939/67303275-d813c680-f50f-11e9-9863-bc67c06fb52d.png)


what actually happens.

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

### Environment

(please complete the following information):

- superset version: `superset version`
- python version: `python --version`
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,umesh11111,43033939,MDQ6VXNlcjQzMDMzOTM5,https://avatars0.githubusercontent.com/u/43033939?v=4,,https://api.github.com/users/umesh11111,https://github.com/umesh11111,https://api.github.com/users/umesh11111/followers,https://api.github.com/users/umesh11111/following{/other_user},https://api.github.com/users/umesh11111/gists{/gist_id},https://api.github.com/users/umesh11111/starred{/owner}{/repo},https://api.github.com/users/umesh11111/subscriptions,https://api.github.com/users/umesh11111/orgs,https://api.github.com/users/umesh11111/repos,https://api.github.com/users/umesh11111/events{/privacy},https://api.github.com/users/umesh11111/received_events,User,False,,,,,betodealmeida,1534870.0,MDQ6VXNlcjE1MzQ4NzA=,https://avatars3.githubusercontent.com/u/1534870?v=4,,https://api.github.com/users/betodealmeida,https://github.com/betodealmeida,https://api.github.com/users/betodealmeida/followers,https://api.github.com/users/betodealmeida/following{/other_user},https://api.github.com/users/betodealmeida/gists{/gist_id},https://api.github.com/users/betodealmeida/starred{/owner}{/repo},https://api.github.com/users/betodealmeida/subscriptions,https://api.github.com/users/betodealmeida/orgs,https://api.github.com/users/betodealmeida/repos,https://api.github.com/users/betodealmeida/events{/privacy},https://api.github.com/users/betodealmeida/received_events,User,False
154,https://api.github.com/repos/apache/incubator-superset/issues/8424,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8424/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8424/comments,https://api.github.com/repos/apache/incubator-superset/issues/8424/events,https://github.com/apache/incubator-superset/issues/8424,510568424,MDU6SXNzdWU1MTA1Njg0MjQ=,8424,Tooltip is displayed blow the object,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}]",open,False,,[],,2,2019-10-22T10:36:27Z,2019-12-21T11:35:26Z,,NONE,"After adding a map chart to a dashboard the tooltips appear under the cursor (but only when looking at the chart on the dashboard).

#### Screenshots
how it looks when klicking on charts -> ""Standorte""
![chart_view](https://user-images.githubusercontent.com/54529687/67272314-9b6aaf80-f4bc-11e9-83ee-1243bae60b03.png)

How it looks when klicking on the Dashboard that has the chart ""Standorte""
![Dashboard_view](https://user-images.githubusercontent.com/54529687/67272315-9b6aaf80-f4bc-11e9-8d76-248220eaa3f2.png)

#### How to reproduce the bug

Add any deck.gl chart to a dashboard and hover over the items

### Environment
- superset version: `0.34`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.
",incubator-superset,apache,chilfing,54529687,MDQ6VXNlcjU0NTI5Njg3,https://avatars0.githubusercontent.com/u/54529687?v=4,,https://api.github.com/users/chilfing,https://github.com/chilfing,https://api.github.com/users/chilfing/followers,https://api.github.com/users/chilfing/following{/other_user},https://api.github.com/users/chilfing/gists{/gist_id},https://api.github.com/users/chilfing/starred{/owner}{/repo},https://api.github.com/users/chilfing/subscriptions,https://api.github.com/users/chilfing/orgs,https://api.github.com/users/chilfing/repos,https://api.github.com/users/chilfing/events{/privacy},https://api.github.com/users/chilfing/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
155,https://api.github.com/repos/apache/incubator-superset/issues/8421,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8421/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8421/comments,https://api.github.com/repos/apache/incubator-superset/issues/8421/events,https://github.com/apache/incubator-superset/issues/8421,510408212,MDU6SXNzdWU1MTA0MDgyMTI=,8421,ModuleNotFoundError: No module named 'pyodbc',[],open,False,,[],,2,2019-10-22T03:25:13Z,2019-10-29T20:24:01Z,,NONE,"I followed the guide install the docker.
Trying to connect to SQL server but seem error.
The env of python cause this problem but i don't know how to fix it.
Ubuntu 18.04: python 2.7 and python 3.6 version

File ""/home/superset/superset/views/core.py"", line 1702, in testconn
superset_1  |     engine = database.get_sqla_engine(user_name=username)
superset_1  |   File ""/home/superset/superset/utils/core.py"", line 131, in __call__
superset_1  |     value = self.func(*args, **kwargs)
superset_1  |   File ""/home/superset/superset/models/core.py"", line 911, in get_sqla_engine
superset_1  |     return create_engine(url, **params)
superset_1  |   File ""/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/__init__.py"", line 435, in create_engine
superset_1  |     return strategy.create(*args, **kwargs)
superset_1  |   File ""/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py"", line 87, in create
superset_1  |     dbapi = dialect_cls.dbapi(**dbapi_args)
superset_1  |   File ""/usr/local/lib/python3.6/site-packages/sqlalchemy/connectors/pyodbc.py"", line 37, in dbapi
superset_1  |     return __import__(""pyodbc"")
superset_1  | ModuleNotFoundError: No module named 'pyodbc'
",incubator-superset,apache,toilv,52364476,MDQ6VXNlcjUyMzY0NDc2,https://avatars1.githubusercontent.com/u/52364476?v=4,,https://api.github.com/users/toilv,https://github.com/toilv,https://api.github.com/users/toilv/followers,https://api.github.com/users/toilv/following{/other_user},https://api.github.com/users/toilv/gists{/gist_id},https://api.github.com/users/toilv/starred{/owner}{/repo},https://api.github.com/users/toilv/subscriptions,https://api.github.com/users/toilv/orgs,https://api.github.com/users/toilv/repos,https://api.github.com/users/toilv/events{/privacy},https://api.github.com/users/toilv/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
156,https://api.github.com/repos/apache/incubator-superset/issues/8420,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8420/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8420/comments,https://api.github.com/repos/apache/incubator-superset/issues/8420/events,https://github.com/apache/incubator-superset/pull/8420,510130145,MDExOlB1bGxSZXF1ZXN0MzMwNTQ5MjQ3,8420,Redis password,"[{'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}, {'id': 1330950144, 'node_id': 'MDU6TGFiZWwxMzMwOTUwMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/S', 'name': 'size/S', 'color': 'C8B6FF', 'default': False, 'description': ''}]",open,False,,[],,1,2019-10-21T17:11:37Z,2019-12-21T06:35:24Z,,NONE,"### CATEGORY

Choose one

- [ ] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [x] Build / Development Environment
- [ ] Documentation

### SUMMARY
Added support for external Redis password and db number when deploying via docker.

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,HellScre4m,17533431,MDQ6VXNlcjE3NTMzNDMx,https://avatars3.githubusercontent.com/u/17533431?v=4,,https://api.github.com/users/HellScre4m,https://github.com/HellScre4m,https://api.github.com/users/HellScre4m/followers,https://api.github.com/users/HellScre4m/following{/other_user},https://api.github.com/users/HellScre4m/gists{/gist_id},https://api.github.com/users/HellScre4m/starred{/owner}{/repo},https://api.github.com/users/HellScre4m/subscriptions,https://api.github.com/users/HellScre4m/orgs,https://api.github.com/users/HellScre4m/repos,https://api.github.com/users/HellScre4m/events{/privacy},https://api.github.com/users/HellScre4m/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8420,https://github.com/apache/incubator-superset/pull/8420,https://github.com/apache/incubator-superset/pull/8420.diff,https://github.com/apache/incubator-superset/pull/8420.patch,,,,,,,,,,,,,,,,,,
157,https://api.github.com/repos/apache/incubator-superset/issues/8417,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8417/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8417/comments,https://api.github.com/repos/apache/incubator-superset/issues/8417/events,https://github.com/apache/incubator-superset/issues/8417,510087208,MDU6SXNzdWU1MTAwODcyMDg=,8417,Cancel button in explore modal,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}]",open,False,,[],,2,2019-10-21T16:11:51Z,2019-12-20T17:08:38Z,,NONE,"Can't dismiss the modal of explore through `Cancel` button in the results after run a query in sqllab.

### Expected results

Cancel the action and modal disappear

### Actual results

Nothing

#### Screenshots

<img width=""1041"" alt=""Screen Shot 2019-10-21 at 12 57 24"" src=""https://user-images.githubusercontent.com/51378550/67222382-95fd5e80-f403-11e9-9583-51b8074ce398.png"">


#### How to reproduce the bug

1. Go to 'sqllab'
2. Execute a query
2. Click on 'explore'
3. Click on 'cancel'
4. See error

### Environment

Sorry I don't have this information. Would be great if you can put the version on the head > tittle

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context
",incubator-superset,apache,gonzalogEB,51378550,MDQ6VXNlcjUxMzc4NTUw,https://avatars3.githubusercontent.com/u/51378550?v=4,,https://api.github.com/users/gonzalogEB,https://github.com/gonzalogEB,https://api.github.com/users/gonzalogEB/followers,https://api.github.com/users/gonzalogEB/following{/other_user},https://api.github.com/users/gonzalogEB/gists{/gist_id},https://api.github.com/users/gonzalogEB/starred{/owner}{/repo},https://api.github.com/users/gonzalogEB/subscriptions,https://api.github.com/users/gonzalogEB/orgs,https://api.github.com/users/gonzalogEB/repos,https://api.github.com/users/gonzalogEB/events{/privacy},https://api.github.com/users/gonzalogEB/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
158,https://api.github.com/repos/apache/incubator-superset/issues/8416,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8416/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8416/comments,https://api.github.com/repos/apache/incubator-superset/issues/8416/events,https://github.com/apache/incubator-superset/pull/8416,509960733,MDExOlB1bGxSZXF1ZXN0MzMwNDAzOTcw,8416,#8415: Prevent the database password from being exported along with the dashboards,"[{'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,5,2019-10-21T13:24:49Z,2019-10-28T15:29:23Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [x] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
During export, ehre is a check now if the field is named 'password' and it's not exported if so.

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API
- [x] Fixes #8415 

### REVIEWERS
",incubator-superset,apache,oskarhinc,19305104,MDQ6VXNlcjE5MzA1MTA0,https://avatars1.githubusercontent.com/u/19305104?v=4,,https://api.github.com/users/oskarhinc,https://github.com/oskarhinc,https://api.github.com/users/oskarhinc/followers,https://api.github.com/users/oskarhinc/following{/other_user},https://api.github.com/users/oskarhinc/gists{/gist_id},https://api.github.com/users/oskarhinc/starred{/owner}{/repo},https://api.github.com/users/oskarhinc/subscriptions,https://api.github.com/users/oskarhinc/orgs,https://api.github.com/users/oskarhinc/repos,https://api.github.com/users/oskarhinc/events{/privacy},https://api.github.com/users/oskarhinc/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8416,https://github.com/apache/incubator-superset/pull/8416,https://github.com/apache/incubator-superset/pull/8416.diff,https://github.com/apache/incubator-superset/pull/8416.patch,,,,,,,,,,,,,,,,,,
159,https://api.github.com/repos/apache/incubator-superset/issues/8414,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8414/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8414/comments,https://api.github.com/repos/apache/incubator-superset/issues/8414/events,https://github.com/apache/incubator-superset/issues/8414,509639308,MDU6SXNzdWU1MDk2MzkzMDg=,8414,Add button for exporting dashboard from dashboard window,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}]",open,False,,[],,2,2019-10-20T19:20:56Z,2019-12-19T20:03:29Z,,NONE,"Downloading dashboard as json file through Export option on `superset/dashboard/list` is repetitive. I'm trying to add this Export functionality in the dashboard view window.

The button should download that particular dashboard as json file.

I want to call the `export_dashboards` function from that button. How should I do that?",incubator-superset,apache,gcharvi31,39525886,MDQ6VXNlcjM5NTI1ODg2,https://avatars1.githubusercontent.com/u/39525886?v=4,,https://api.github.com/users/gcharvi31,https://github.com/gcharvi31,https://api.github.com/users/gcharvi31/followers,https://api.github.com/users/gcharvi31/following{/other_user},https://api.github.com/users/gcharvi31/gists{/gist_id},https://api.github.com/users/gcharvi31/starred{/owner}{/repo},https://api.github.com/users/gcharvi31/subscriptions,https://api.github.com/users/gcharvi31/orgs,https://api.github.com/users/gcharvi31/repos,https://api.github.com/users/gcharvi31/events{/privacy},https://api.github.com/users/gcharvi31/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
160,https://api.github.com/repos/apache/incubator-superset/issues/8408,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8408/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8408/comments,https://api.github.com/repos/apache/incubator-superset/issues/8408/events,https://github.com/apache/incubator-superset/pull/8408,508705454,MDExOlB1bGxSZXF1ZXN0MzI5NDQ5Mzcw,8408,add a test for year to date so you can be considered.,"[{'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}, {'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,1,2019-10-17T20:31:41Z,2019-12-21T16:35:24Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [ ] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [x] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
I'm trying to help this PR get considered, so I added a test real quickly. 


## BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
run `util_tests.py` and the added test will pass.

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,MarcusSorealheis,2353608,MDQ6VXNlcjIzNTM2MDg=,https://avatars2.githubusercontent.com/u/2353608?v=4,,https://api.github.com/users/MarcusSorealheis,https://github.com/MarcusSorealheis,https://api.github.com/users/MarcusSorealheis/followers,https://api.github.com/users/MarcusSorealheis/following{/other_user},https://api.github.com/users/MarcusSorealheis/gists{/gist_id},https://api.github.com/users/MarcusSorealheis/starred{/owner}{/repo},https://api.github.com/users/MarcusSorealheis/subscriptions,https://api.github.com/users/MarcusSorealheis/orgs,https://api.github.com/users/MarcusSorealheis/repos,https://api.github.com/users/MarcusSorealheis/events{/privacy},https://api.github.com/users/MarcusSorealheis/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8408,https://github.com/apache/incubator-superset/pull/8408,https://github.com/apache/incubator-superset/pull/8408.diff,https://github.com/apache/incubator-superset/pull/8408.patch,,,,,,,,,,,,,,,,,,
161,https://api.github.com/repos/apache/incubator-superset/issues/8406,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8406/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8406/comments,https://api.github.com/repos/apache/incubator-superset/issues/8406/events,https://github.com/apache/incubator-superset/issues/8406,508497405,MDU6SXNzdWU1MDg0OTc0MDU=,8406,User Impersonation Documentation/Example,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,4,2019-10-17T14:01:01Z,2019-11-14T18:26:16Z,,NONE,"We use superset to execute queries on a Hiveserver2 node. But I cannot find any documentation or example of how we can configure superset to use user impersonation through Hive. We want to identify which user run which query.

Users are authenticated through a LDAP configuration which is currently working.

But when I check the ""impersonate the logged on user"", it's still my ""superset"" user which is launching the job and not the proper user.

Here is my database configuration:
`hive://node-01.example.com:10000/toto`
`{ ""metadata_params"": {}, ""engine_params"": { ""connect_args"": { ""auth"": ""KERBEROS"", ""kerberos_service_name"": ""hive"" } } }`

Add a documentation on the ""Security"" section of the Apache Superset project with a little example on Hive/PrestoDB.",incubator-superset,apache,Tom-Kun,11410690,MDQ6VXNlcjExNDEwNjkw,https://avatars0.githubusercontent.com/u/11410690?v=4,,https://api.github.com/users/Tom-Kun,https://github.com/Tom-Kun,https://api.github.com/users/Tom-Kun/followers,https://api.github.com/users/Tom-Kun/following{/other_user},https://api.github.com/users/Tom-Kun/gists{/gist_id},https://api.github.com/users/Tom-Kun/starred{/owner}{/repo},https://api.github.com/users/Tom-Kun/subscriptions,https://api.github.com/users/Tom-Kun/orgs,https://api.github.com/users/Tom-Kun/repos,https://api.github.com/users/Tom-Kun/events{/privacy},https://api.github.com/users/Tom-Kun/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
162,https://api.github.com/repos/apache/incubator-superset/issues/8402,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8402/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8402/comments,https://api.github.com/repos/apache/incubator-superset/issues/8402/events,https://github.com/apache/incubator-superset/issues/8402,508077141,MDU6SXNzdWU1MDgwNzcxNDE=,8402,Unable to filter by dates in Dashboard.Throws ORA-01843: not a valid month,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}]",open,False,,[],,5,2019-10-16T20:19:52Z,2019-12-21T18:35:26Z,,NONE,"I have tried to create a dashboard which includes a date column.
When I try to open the dashboard and select a filter which is a date column , it gives me ORA-01843: not a valid month error.

But when I try to take the query object and run in Oracle DB directly , it works well.

But if I run the same query in superset , it throws me error.

When I do the below modifications to the query it works :
1.Either add TO_DATE to the values selected .Example
 where sample_date in TO_DATE('10-10-2019','MM-DD-YYYY')

or

2.Add TO_CHAR to the column 
where TO_CHAR(sample_date,'MM-DD-YYYY) in ('10-10-2019')


Why is it like that.I am unable to perform any date comparisons
",incubator-superset,apache,umesh11111,43033939,MDQ6VXNlcjQzMDMzOTM5,https://avatars0.githubusercontent.com/u/43033939?v=4,,https://api.github.com/users/umesh11111,https://github.com/umesh11111,https://api.github.com/users/umesh11111/followers,https://api.github.com/users/umesh11111/following{/other_user},https://api.github.com/users/umesh11111/gists{/gist_id},https://api.github.com/users/umesh11111/starred{/owner}{/repo},https://api.github.com/users/umesh11111/subscriptions,https://api.github.com/users/umesh11111/orgs,https://api.github.com/users/umesh11111/repos,https://api.github.com/users/umesh11111/events{/privacy},https://api.github.com/users/umesh11111/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
163,https://api.github.com/repos/apache/incubator-superset/issues/8400,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8400/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8400/comments,https://api.github.com/repos/apache/incubator-superset/issues/8400/events,https://github.com/apache/incubator-superset/issues/8400,507731806,MDU6SXNzdWU1MDc3MzE4MDY=,8400,Windows installation fails,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 357045492, 'node_id': 'MDU6TGFiZWwzNTcwNDU0OTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.windows', 'name': '.windows', 'color': 'ecf0f1', 'default': False, 'description': ''}]",open,False,,[],,6,2019-10-16T09:32:59Z,2019-11-25T15:28:06Z,,NONE,"pip install --index-url https://pypi.tuna.tsinghua.edu.cn/simple/ superset

### Actual results
copying superset\static\assets\.terser-plugin-cache\content-v2\sha512\00\0f\4e8df4f5ee7921b2270d4e4b41484d51b0f9179c662a55d62128f18abf1686780a3620666b8d0f53752f414c3c1bdf8cafd5de04e357c01b4ec561ab7581 -> build\lib\superset\static\assets\.terser-plugin-cache\content-v2\sha512\00\0f
    error: could not create 'build\lib\superset\static\assets\.terser-plugin-cache\content-v2\sha512\00\0f\4e8df4f5ee7921b2270d4e4b41484d51b0f9179c662a55d62128f18abf1686780a3620666b8d0f53752f414c3c1bdf8cafd5de04e357c01b4ec561ab7581': No such file or directory

### Environment

- python version: Python 3.6.8


[log.txt](https://github.com/apache/incubator-superset/files/3733516/log.txt)
",incubator-superset,apache,oakley04,690239,MDQ6VXNlcjY5MDIzOQ==,https://avatars1.githubusercontent.com/u/690239?v=4,,https://api.github.com/users/oakley04,https://github.com/oakley04,https://api.github.com/users/oakley04/followers,https://api.github.com/users/oakley04/following{/other_user},https://api.github.com/users/oakley04/gists{/gist_id},https://api.github.com/users/oakley04/starred{/owner}{/repo},https://api.github.com/users/oakley04/subscriptions,https://api.github.com/users/oakley04/orgs,https://api.github.com/users/oakley04/repos,https://api.github.com/users/oakley04/events{/privacy},https://api.github.com/users/oakley04/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
164,https://api.github.com/repos/apache/incubator-superset/issues/8396,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8396/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8396/comments,https://api.github.com/repos/apache/incubator-superset/issues/8396/events,https://github.com/apache/incubator-superset/issues/8396,507304805,MDU6SXNzdWU1MDczMDQ4MDU=,8396,pyarrow does not know how to serialize objects of type,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}]",open,False,,[],,6,2019-10-15T15:01:06Z,2019-12-18T05:24:21Z,,CONTRIBUTOR,"`sql_lab` and also `visualization` doesn't work because of `pyarrow` can't serialize objects

### Expected results

return query result

### Actual results
```
pyarrow does not know how to serialize objects of type <class 'pandas.core.arrays.integer.IntegerArray'>.
```
#### Screenshots

![Screenshot from 2019-10-15 18-24-34](https://user-images.githubusercontent.com/35199552/66843336-7edced80-ef79-11e9-8ad0-8ce8356d72d4.png)


#### How to reproduce the bug

1. Go to `sql_lab`
2. Run a query like `SELECT *`
4. See error

### Environment

- superset version: `branch master on 2019-10-12 18:38`
- python version: `3.7`
- node.js version: `10.16.3`
- npm version: `6.9.0`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

",incubator-superset,apache,blcksrx,35199552,MDQ6VXNlcjM1MTk5NTUy,https://avatars0.githubusercontent.com/u/35199552?v=4,,https://api.github.com/users/blcksrx,https://github.com/blcksrx,https://api.github.com/users/blcksrx/followers,https://api.github.com/users/blcksrx/following{/other_user},https://api.github.com/users/blcksrx/gists{/gist_id},https://api.github.com/users/blcksrx/starred{/owner}{/repo},https://api.github.com/users/blcksrx/subscriptions,https://api.github.com/users/blcksrx/orgs,https://api.github.com/users/blcksrx/repos,https://api.github.com/users/blcksrx/events{/privacy},https://api.github.com/users/blcksrx/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
165,https://api.github.com/repos/apache/incubator-superset/issues/8395,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8395/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8395/comments,https://api.github.com/repos/apache/incubator-superset/issues/8395/events,https://github.com/apache/incubator-superset/issues/8395,507297466,MDU6SXNzdWU1MDcyOTc0NjY=,8395,import_datasources not working ,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,3,2019-10-15T14:49:56Z,2019-11-21T16:08:12Z,,NONE,"I am running superset version - 0.29.0rc7 and using postgresql as backend.
While I tried importing datasource from yaml file , the encrypted password field in not updating in the dbs table. But if I configure datasource from interface , its working fine.

I have tried the following command,

superset import_datasources -p DBConnection.yaml


-------- cat DBConnection.yaml ----------
- database_name: DEVL-Database
  extra: ""{\r\n    \""metadata_params\"": {},\r\n    \""engine_params\"": {},\r\n    \""\
    metadata_cache_timeout\"": {},\r\n    \""schemas_allowed_for_csv_upload\"": []\r\n\
    }\r\n""
  sqlalchemy_uri: postgresql+psycopg2://postgres:postgres123@10.10.10.151/devl
  tables: []
-----------------------------------------


When I click ""Test"" connection , showing no authentication password supplied.",incubator-superset,apache,rinshadka,40381766,MDQ6VXNlcjQwMzgxNzY2,https://avatars1.githubusercontent.com/u/40381766?v=4,,https://api.github.com/users/rinshadka,https://github.com/rinshadka,https://api.github.com/users/rinshadka/followers,https://api.github.com/users/rinshadka/following{/other_user},https://api.github.com/users/rinshadka/gists{/gist_id},https://api.github.com/users/rinshadka/starred{/owner}{/repo},https://api.github.com/users/rinshadka/subscriptions,https://api.github.com/users/rinshadka/orgs,https://api.github.com/users/rinshadka/repos,https://api.github.com/users/rinshadka/events{/privacy},https://api.github.com/users/rinshadka/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
166,https://api.github.com/repos/apache/incubator-superset/issues/8393,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8393/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8393/comments,https://api.github.com/repos/apache/incubator-superset/issues/8393/events,https://github.com/apache/incubator-superset/issues/8393,507002636,MDU6SXNzdWU1MDcwMDI2MzY=,8393,"Report the ""root:'charset' is an invalid keyword argument for this function"" errors When connecting to Oracle","[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}]",open,False,,[],,4,2019-10-15T04:47:07Z,2019-12-18T05:24:22Z,,NONE,"I had an error when configuring Superset connect to oracle.

The error was attributable to issues with sqlalchemy

### Environment
- superset version: Superset 0.30.0
- python version: Python 3.6.9



### Details errors

2019-10-15 04:22:48,682:INFO:root:Database.get_sqla_engine(). Masked URL: oracle+cx_oracle://XXXX:XXXXXXXXXX@10.12.192.55:1521/xxxx?charset=utf8
2019-10-15 04:22:48,683:ERROR:root:'charset' is an invalid keyword argument for this function
Traceback (most recent call last):
  File ""/onepiece/python3/lib/python3.6/site-packages/superset/views/core.py"", line 1706, in testconn
    with closing(engine.connect()) as conn:
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/engine/base.py"", line 2196, in connect
    return self._connection_cls(self, **kwargs)
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/engine/base.py"", line 103, in __init__
    else engine.raw_connection()
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/engine/base.py"", line 2296, in raw_connection
    self.pool.unique_connection, _connection
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/engine/base.py"", line 2265, in _wrap_pool_connect
    return fn()
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/pool/base.py"", line 303, in unique_connection
    return _ConnectionFairy._checkout(self)
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/pool/base.py"", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/pool/base.py"", line 492, in checkout
    rec = pool._do_get()
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/pool/impl.py"", line 238, in _do_get
    return self._create_connection()
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/pool/base.py"", line 308, in _create_connection
    return _ConnectionRecord(self)
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/pool/base.py"", line 437, in __init__
    self.__connect(first_connect_check=True)
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/pool/base.py"", line 639, in __connect
    connection = pool._invoke_creator(self)
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py"", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File ""/onepiece/python3/lib/python3.6/site-packages/sqlalchemy/engine/default.py"", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
TypeError: 'charset' is an invalid keyword argument for this function
",incubator-superset,apache,xuanyuanaosheng,4197714,MDQ6VXNlcjQxOTc3MTQ=,https://avatars2.githubusercontent.com/u/4197714?v=4,,https://api.github.com/users/xuanyuanaosheng,https://github.com/xuanyuanaosheng,https://api.github.com/users/xuanyuanaosheng/followers,https://api.github.com/users/xuanyuanaosheng/following{/other_user},https://api.github.com/users/xuanyuanaosheng/gists{/gist_id},https://api.github.com/users/xuanyuanaosheng/starred{/owner}{/repo},https://api.github.com/users/xuanyuanaosheng/subscriptions,https://api.github.com/users/xuanyuanaosheng/orgs,https://api.github.com/users/xuanyuanaosheng/repos,https://api.github.com/users/xuanyuanaosheng/events{/privacy},https://api.github.com/users/xuanyuanaosheng/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
167,https://api.github.com/repos/apache/incubator-superset/issues/8388,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8388/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8388/comments,https://api.github.com/repos/apache/incubator-superset/issues/8388/events,https://github.com/apache/incubator-superset/issues/8388,506703266,MDU6SXNzdWU1MDY3MDMyNjY=,8388,Allow the months and days embedded within charts to be displayed in Portuguese,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,4,2019-10-14T14:50:29Z,2019-12-12T03:16:58Z,,CONTRIBUTOR,"**Is your feature request related to a problem? Please describe.**
We could add localization for months and days names for the charts, so it's translated to Portuguese. 

**Describe the solution you'd like**
We could use mechanism built in d3 and moment libraries, to use proper localization here.

**Additional context**
If it'll be quick and easy to achieve, we can also add support for other languages that are supported by the libraries.
",incubator-superset,apache,oskarhinc,19305104,MDQ6VXNlcjE5MzA1MTA0,https://avatars1.githubusercontent.com/u/19305104?v=4,,https://api.github.com/users/oskarhinc,https://github.com/oskarhinc,https://api.github.com/users/oskarhinc/followers,https://api.github.com/users/oskarhinc/following{/other_user},https://api.github.com/users/oskarhinc/gists{/gist_id},https://api.github.com/users/oskarhinc/starred{/owner}{/repo},https://api.github.com/users/oskarhinc/subscriptions,https://api.github.com/users/oskarhinc/orgs,https://api.github.com/users/oskarhinc/repos,https://api.github.com/users/oskarhinc/events{/privacy},https://api.github.com/users/oskarhinc/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
168,https://api.github.com/repos/apache/incubator-superset/issues/8378,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8378/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8378/comments,https://api.github.com/repos/apache/incubator-superset/issues/8378/events,https://github.com/apache/incubator-superset/pull/8378,506291424,MDExOlB1bGxSZXF1ZXN0MzI3NTM1MDA5,8378,"Add ""Year to Date"" to the Time Range control options","[{'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}, {'id': 1330950144, 'node_id': 'MDU6TGFiZWwxMzMwOTUwMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/S', 'name': 'size/S', 'color': 'C8B6FF', 'default': False, 'description': ''}]",open,False,,[],,2,2019-10-13T08:24:26Z,2019-12-20T04:08:32Z,,NONE,"### CATEGORY

Choose one:
- [ ] Bug Fix
- [X] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
Introduces the ""Year to Date"" time frame, to be used to select the current calendar year (i.e. from Jan 1st to today).
",incubator-superset,apache,AndLLA,44858649,MDQ6VXNlcjQ0ODU4NjQ5,https://avatars2.githubusercontent.com/u/44858649?v=4,,https://api.github.com/users/AndLLA,https://github.com/AndLLA,https://api.github.com/users/AndLLA/followers,https://api.github.com/users/AndLLA/following{/other_user},https://api.github.com/users/AndLLA/gists{/gist_id},https://api.github.com/users/AndLLA/starred{/owner}{/repo},https://api.github.com/users/AndLLA/subscriptions,https://api.github.com/users/AndLLA/orgs,https://api.github.com/users/AndLLA/repos,https://api.github.com/users/AndLLA/events{/privacy},https://api.github.com/users/AndLLA/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8378,https://github.com/apache/incubator-superset/pull/8378,https://github.com/apache/incubator-superset/pull/8378.diff,https://github.com/apache/incubator-superset/pull/8378.patch,,,,,,,,,,,,,,,,,,
169,https://api.github.com/repos/apache/incubator-superset/issues/8375,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8375/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8375/comments,https://api.github.com/repos/apache/incubator-superset/issues/8375/events,https://github.com/apache/incubator-superset/issues/8375,505960191,MDU6SXNzdWU1MDU5NjAxOTE=,8375,Finance Related Charts,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,5,2019-10-11T17:00:04Z,2019-12-02T17:24:27Z,,NONE,"**Is your feature request related to a problem? Please describe.**
I've been looking around and can't really find any stock/candlestick or finance related charts in the demo/gallery. Are there any implementations out there, and if not, it would be great to add some as a feature.

Thanks
",incubator-superset,apache,majeedus,6387294,MDQ6VXNlcjYzODcyOTQ=,https://avatars3.githubusercontent.com/u/6387294?v=4,,https://api.github.com/users/majeedus,https://github.com/majeedus,https://api.github.com/users/majeedus/followers,https://api.github.com/users/majeedus/following{/other_user},https://api.github.com/users/majeedus/gists{/gist_id},https://api.github.com/users/majeedus/starred{/owner}{/repo},https://api.github.com/users/majeedus/subscriptions,https://api.github.com/users/majeedus/orgs,https://api.github.com/users/majeedus/repos,https://api.github.com/users/majeedus/events{/privacy},https://api.github.com/users/majeedus/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
170,https://api.github.com/repos/apache/incubator-superset/issues/8366,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8366/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8366/comments,https://api.github.com/repos/apache/incubator-superset/issues/8366/events,https://github.com/apache/incubator-superset/issues/8366,505146809,MDU6SXNzdWU1MDUxNDY4MDk=,8366,No such file or directory,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,3,2019-10-10T09:25:47Z,2019-12-03T19:04:21Z,,NONE,"   copying superset\static\assets\.cache-loader\e34f9d96f1e720a24eb4203d0ee716ab.json -> build\lib\superset\static\assets\.cache-loader
    copying superset\static\assets\.cache-loader\e7c0cd5a9e08d14a0736090723cefbd2.json -> build\lib\superset\static\assets\.cache-loader
    copying superset\static\assets\.cache-loader\f1745700e3c5df3e849eeb53184ad653.json -> build\lib\superset\static\assets\.cache-loader
    creating build\lib\superset\static\assets\.terser-plugin-cache
    creating build\lib\superset\static\assets\.terser-plugin-cache\content-v2
    creating build\lib\superset\static\assets\.terser-plugin-cache\content-v2\sha512
    creating build\lib\superset\static\assets\.terser-plugin-cache\content-v2\sha512\00
    creating build\lib\superset\static\assets\.terser-plugin-cache\content-v2\sha512\00\0f
    copying superset\static\assets\.terser-plugin-cache\content-v2\sha512\00\0f\4e8df4f5ee7921b2270d4e4b41484d51b0f9179c662a55d62128f18abf1686780a3620666b8d0f53752f414c3c1bdf8cafd5de04e357c01b4ec561ab7581 -> build\lib\sup
erset\static\assets\.terser-plugin-cache\content-v2\sha512\00\0f
    error: could not create 'build\lib\superset\static\assets\.terser-plugin-cache\content-v2\sha512\00\0f\4e8df4f5ee7921b2270d4e4b41484d51b0f9179c662a55d62128f18abf1686780a3620666b8d0f53752f414c3c1bdf8cafd5de04e357c01b4e
c561ab7581': No such file or directory
",incubator-superset,apache,venlee1993,27339765,MDQ6VXNlcjI3MzM5NzY1,https://avatars2.githubusercontent.com/u/27339765?v=4,,https://api.github.com/users/venlee1993,https://github.com/venlee1993,https://api.github.com/users/venlee1993/followers,https://api.github.com/users/venlee1993/following{/other_user},https://api.github.com/users/venlee1993/gists{/gist_id},https://api.github.com/users/venlee1993/starred{/owner}{/repo},https://api.github.com/users/venlee1993/subscriptions,https://api.github.com/users/venlee1993/orgs,https://api.github.com/users/venlee1993/repos,https://api.github.com/users/venlee1993/events{/privacy},https://api.github.com/users/venlee1993/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
171,https://api.github.com/repos/apache/incubator-superset/issues/8361,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8361/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8361/comments,https://api.github.com/repos/apache/incubator-superset/issues/8361/events,https://github.com/apache/incubator-superset/pull/8361,504558619,MDExOlB1bGxSZXF1ZXN0MzI2MTgwNDcz,8361,Fix update ids in dashboard metadata on import,"[{'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}, {'id': 1329203144, 'node_id': 'MDU6TGFiZWwxMzI5MjAzMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/M', 'name': 'size/M', 'color': '705FA3', 'default': False, 'description': ''}]",open,False,,[],,7,2019-10-09T10:27:54Z,2019-12-16T05:48:34Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [x] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY

Add update for ids of following fields in the json:

- `filter_immune_slice_fields`
- `default_filters`

Add test for correct update of `timed_refresh_immune_slices`.

### TEST PLAN

1. Export dashboard with `default_filters`.
2. Import it using master -> dashboard is broken
3. Import it using code from this PR -> dashboard works correctly

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS

@mistercrunch ",incubator-superset,apache,smacker,406916,MDQ6VXNlcjQwNjkxNg==,https://avatars0.githubusercontent.com/u/406916?v=4,,https://api.github.com/users/smacker,https://github.com/smacker,https://api.github.com/users/smacker/followers,https://api.github.com/users/smacker/following{/other_user},https://api.github.com/users/smacker/gists{/gist_id},https://api.github.com/users/smacker/starred{/owner}{/repo},https://api.github.com/users/smacker/subscriptions,https://api.github.com/users/smacker/orgs,https://api.github.com/users/smacker/repos,https://api.github.com/users/smacker/events{/privacy},https://api.github.com/users/smacker/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8361,https://github.com/apache/incubator-superset/pull/8361,https://github.com/apache/incubator-superset/pull/8361.diff,https://github.com/apache/incubator-superset/pull/8361.patch,,,,,,,,,,,,,,,,,,
172,https://api.github.com/repos/apache/incubator-superset/issues/8360,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8360/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8360/comments,https://api.github.com/repos/apache/incubator-superset/issues/8360/events,https://github.com/apache/incubator-superset/issues/8360,504443595,MDU6SXNzdWU1MDQ0NDM1OTU=,8360,NLP (Natural Language Processing) Integration with sql Lab,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,10,2019-10-09T06:28:50Z,2019-11-29T14:08:41Z,,NONE,"**Is your feature request related to a problem? Please describe.**
I am having a requirement of Bot integration across superset 

**Describe the solution you'd like**
For bot integration i have to process a natural language processing

**Describe alternatives you've considered**
Api microservice which will be ready to process nlp

",incubator-superset,apache,kalimuthu123,42966797,MDQ6VXNlcjQyOTY2Nzk3,https://avatars3.githubusercontent.com/u/42966797?v=4,,https://api.github.com/users/kalimuthu123,https://github.com/kalimuthu123,https://api.github.com/users/kalimuthu123/followers,https://api.github.com/users/kalimuthu123/following{/other_user},https://api.github.com/users/kalimuthu123/gists{/gist_id},https://api.github.com/users/kalimuthu123/starred{/owner}{/repo},https://api.github.com/users/kalimuthu123/subscriptions,https://api.github.com/users/kalimuthu123/orgs,https://api.github.com/users/kalimuthu123/repos,https://api.github.com/users/kalimuthu123/events{/privacy},https://api.github.com/users/kalimuthu123/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
173,https://api.github.com/repos/apache/incubator-superset/issues/8358,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8358/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8358/comments,https://api.github.com/repos/apache/incubator-superset/issues/8358/events,https://github.com/apache/incubator-superset/pull/8358,504340388,MDExOlB1bGxSZXF1ZXN0MzI2MDEzNDc5,8358,[New-Viz][AmericanExpress] Funnel/Step Visualization,[],open,False,,[],,9,2019-10-09T00:11:19Z,2019-11-01T18:27:08Z,,CONTRIBUTOR,"### CATEGORY

- [ ] Bug Fix
- [x] Enhancement (new features, refinement)
- [ ] Refactor
- [x] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
This is a PR to our most popular viz_type at American Express. The Step/Funnel Visualization is a 2 in 1 visualization that is simple to use and highly modifiable. It has unique support of multi-pass queries and thus is worthy of the PR effort. The  'Funnel' feature can be turned on or off if the user prefers a simple step visualization over 'funnel'. 

### Funnel-Mode
![image](https://user-images.githubusercontent.com/41172775/66625024-52a32480-eba7-11e9-8110-6274eaa75de5.png)

### Step-Mode
![image](https://user-images.githubusercontent.com/41172775/66625076-9b5add80-eba7-11e9-8a05-8bd0215c0a5e.png)

### Control Panel Supports Multi-Step Queries with 'Add Step'
![image](https://user-images.githubusercontent.com/41172775/66625137-ec6ad180-eba7-11e9-8415-d6ff8da3b300.png)


### ADDITIONAL INFORMATION
- [x] Has associated issue:
- [x] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [x] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,TheLastSultan,41172775,MDQ6VXNlcjQxMTcyNzc1,https://avatars3.githubusercontent.com/u/41172775?v=4,,https://api.github.com/users/TheLastSultan,https://github.com/TheLastSultan,https://api.github.com/users/TheLastSultan/followers,https://api.github.com/users/TheLastSultan/following{/other_user},https://api.github.com/users/TheLastSultan/gists{/gist_id},https://api.github.com/users/TheLastSultan/starred{/owner}{/repo},https://api.github.com/users/TheLastSultan/subscriptions,https://api.github.com/users/TheLastSultan/orgs,https://api.github.com/users/TheLastSultan/repos,https://api.github.com/users/TheLastSultan/events{/privacy},https://api.github.com/users/TheLastSultan/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8358,https://github.com/apache/incubator-superset/pull/8358,https://github.com/apache/incubator-superset/pull/8358.diff,https://github.com/apache/incubator-superset/pull/8358.patch,,,,,,,,,,,,,,,,,,
174,https://api.github.com/repos/apache/incubator-superset/issues/8348,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8348/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8348/comments,https://api.github.com/repos/apache/incubator-superset/issues/8348/events,https://github.com/apache/incubator-superset/issues/8348,502631163,MDU6SXNzdWU1MDI2MzExNjM=,8348,Filter Button [Apply] Position ,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 671048892, 'node_id': 'MDU6TGFiZWw2NzEwNDg4OTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.css', 'name': '.css', 'color': 'ecf0f1', 'default': False, 'description': ''}, {'id': 238899553, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTM=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/help-wanted', 'name': 'help-wanted', 'color': 'defc8d', 'default': False, 'description': ''}, {'id': 601015683, 'node_id': 'MDU6TGFiZWw2MDEwMTU2ODM=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/starter-task', 'name': 'starter-task', 'color': 'defc8d', 'default': False, 'description': ''}]",open,False,,[],,5,2019-10-04T13:15:50Z,2019-11-20T06:32:41Z,,NONE,"I've been working with some data that has big company names and noticed that when someone apply several filters (on the same column) the button apply disappear because it is located on the Chart's bottom.

I change the position to bellow the drop-down button, but it still not good (visually), and would be a lot better to be in the left of the drop-down button. I'm trying to do this, but it'll take some time because i don't know React YET...

### Current Modification

I just wrote a css to set a class with
```
margin-left: auto;
margin-right: 0;
display: block;
```
and added the class to the Filter Button.
![Modified](https://user-images.githubusercontent.com/26379593/66209866-c36dac80-e68e-11e9-80c0-ae979ba01f1a.png)


### Expected results

I thin it would be really good to have like the image bellow, better to view and without that problem.
![Desired](https://user-images.githubusercontent.com/26379593/66209771-7db0e400-e68e-11e9-9983-b3d94fcd6d27.png)

### Actual results

Now, with the current way, after selecting a set of filters, it can't be applied because the button is hidden.
![Current Result](https://user-images.githubusercontent.com/26379593/66209987-15aecd80-e68f-11e9-808d-3eaa9a14a922.png)

#### How to reproduce the bug

1. Go to any dashboard
2. Choose any filter slice and configure it to have the apply button.
3. Select enough filters to hide the apply button

### Environment

- superset version: 0.999.0dev
- python version: Python 3.6.9
- node.js version: v10.16.3
- npm version: 6.9.0

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.",incubator-superset,apache,SWoto,26379593,MDQ6VXNlcjI2Mzc5NTkz,https://avatars2.githubusercontent.com/u/26379593?v=4,,https://api.github.com/users/SWoto,https://github.com/SWoto,https://api.github.com/users/SWoto/followers,https://api.github.com/users/SWoto/following{/other_user},https://api.github.com/users/SWoto/gists{/gist_id},https://api.github.com/users/SWoto/starred{/owner}{/repo},https://api.github.com/users/SWoto/subscriptions,https://api.github.com/users/SWoto/orgs,https://api.github.com/users/SWoto/repos,https://api.github.com/users/SWoto/events{/privacy},https://api.github.com/users/SWoto/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
175,https://api.github.com/repos/apache/incubator-superset/issues/8346,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8346/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8346/comments,https://api.github.com/repos/apache/incubator-superset/issues/8346/events,https://github.com/apache/incubator-superset/pull/8346,502609272,MDExOlB1bGxSZXF1ZXN0MzI0NjU3NjI5,8346,#[Visualisation]:Added Grid Gallery as custom visualisation,"[{'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}]",open,False,,[],,4,2019-10-04T12:30:12Z,2019-12-20T17:08:32Z,,CONTRIBUTOR,"### CATEGORY
Grid Gallery  is a custom visualisation added in superset to solve use cases like showing table with images with description and addition information like trending e-commerce websites are showing their menu items.

This component is based on of https://github.com/benhowell/react-grid-gallery.

Any suggestions/Feedback are welcome to improve  in this component .

Choose one

- [ ] Bug Fix
- [x] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<img width=""1432"" alt=""Screenshot 2019-10-04 at 5 57 37 PM"" src=""https://user-images.githubusercontent.com/13414728/66207509-98a44800-e6d0-11e9-8384-e85658c91483.png"">

<img width=""1426"" alt=""Screenshot 2019-10-04 at 5 56 17 PM"" src=""https://user-images.githubusercontent.com/13414728/66207518-9c37cf00-e6d0-11e9-8597-a6343d8931a1.png"">

<img width=""1434"" alt=""Screenshot 2019-10-04 at 5 57 13 PM"" src=""https://user-images.githubusercontent.com/13414728/66207526-9fcb5600-e6d0-11e9-94c0-84481bdd1a13.png"">



### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,jitendra-kumawat,13414728,MDQ6VXNlcjEzNDE0NzI4,https://avatars1.githubusercontent.com/u/13414728?v=4,,https://api.github.com/users/jitendra-kumawat,https://github.com/jitendra-kumawat,https://api.github.com/users/jitendra-kumawat/followers,https://api.github.com/users/jitendra-kumawat/following{/other_user},https://api.github.com/users/jitendra-kumawat/gists{/gist_id},https://api.github.com/users/jitendra-kumawat/starred{/owner}{/repo},https://api.github.com/users/jitendra-kumawat/subscriptions,https://api.github.com/users/jitendra-kumawat/orgs,https://api.github.com/users/jitendra-kumawat/repos,https://api.github.com/users/jitendra-kumawat/events{/privacy},https://api.github.com/users/jitendra-kumawat/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8346,https://github.com/apache/incubator-superset/pull/8346,https://github.com/apache/incubator-superset/pull/8346.diff,https://github.com/apache/incubator-superset/pull/8346.patch,,,,,,,,,,,,,,,,,,
176,https://api.github.com/repos/apache/incubator-superset/issues/8339,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8339/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8339/comments,https://api.github.com/repos/apache/incubator-superset/issues/8339/events,https://github.com/apache/incubator-superset/pull/8339,501768635,MDExOlB1bGxSZXF1ZXN0MzIzOTc5NDEy,8339,Fix for incorrect attaching of raw data files to email schedules chart report,"[{'id': 1330950144, 'node_id': 'MDU6TGFiZWwxMzMwOTUwMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/S', 'name': 'size/S', 'color': 'C8B6FF', 'default': False, 'description': ''}]",open,False,,"[{'login': 'villebro', 'id': 33317356, 'node_id': 'MDQ6VXNlcjMzMzE3MzU2', 'avatar_url': 'https://avatars2.githubusercontent.com/u/33317356?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/villebro', 'html_url': 'https://github.com/villebro', 'followers_url': 'https://api.github.com/users/villebro/followers', 'following_url': 'https://api.github.com/users/villebro/following{/other_user}', 'gists_url': 'https://api.github.com/users/villebro/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/villebro/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/villebro/subscriptions', 'organizations_url': 'https://api.github.com/users/villebro/orgs', 'repos_url': 'https://api.github.com/users/villebro/repos', 'events_url': 'https://api.github.com/users/villebro/events{/privacy}', 'received_events_url': 'https://api.github.com/users/villebro/received_events', 'type': 'User', 'site_admin': False}]",,3,2019-10-02T23:03:14Z,2019-11-02T23:43:22Z,,NONE,"### CATEGORY

Choose one

- [x] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
Schedule Email Reports fails in a case of attached data files. Present fix resolve this regression from the removal of the dependency `request`

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [x] Has associated issue: [#8286](https://github.com/apache/incubator-superset/issues/8286)
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
@villebro ",incubator-superset,apache,ngritsuk,10799069,MDQ6VXNlcjEwNzk5MDY5,https://avatars2.githubusercontent.com/u/10799069?v=4,,https://api.github.com/users/ngritsuk,https://github.com/ngritsuk,https://api.github.com/users/ngritsuk/followers,https://api.github.com/users/ngritsuk/following{/other_user},https://api.github.com/users/ngritsuk/gists{/gist_id},https://api.github.com/users/ngritsuk/starred{/owner}{/repo},https://api.github.com/users/ngritsuk/subscriptions,https://api.github.com/users/ngritsuk/orgs,https://api.github.com/users/ngritsuk/repos,https://api.github.com/users/ngritsuk/events{/privacy},https://api.github.com/users/ngritsuk/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8339,https://github.com/apache/incubator-superset/pull/8339,https://github.com/apache/incubator-superset/pull/8339.diff,https://github.com/apache/incubator-superset/pull/8339.patch,villebro,33317356.0,MDQ6VXNlcjMzMzE3MzU2,https://avatars2.githubusercontent.com/u/33317356?v=4,,https://api.github.com/users/villebro,https://github.com/villebro,https://api.github.com/users/villebro/followers,https://api.github.com/users/villebro/following{/other_user},https://api.github.com/users/villebro/gists{/gist_id},https://api.github.com/users/villebro/starred{/owner}{/repo},https://api.github.com/users/villebro/subscriptions,https://api.github.com/users/villebro/orgs,https://api.github.com/users/villebro/repos,https://api.github.com/users/villebro/events{/privacy},https://api.github.com/users/villebro/received_events,User,False
177,https://api.github.com/repos/apache/incubator-superset/issues/8333,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8333/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8333/comments,https://api.github.com/repos/apache/incubator-superset/issues/8333/events,https://github.com/apache/incubator-superset/pull/8333,501209372,MDExOlB1bGxSZXF1ZXN0MzIzNTI4NDI4,8333,[WiP] docs: plug the Hello World plugin,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1329183122, 'node_id': 'MDU6TGFiZWwxMzI5MTgzMTIy', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XS', 'name': 'size/XS', 'color': 'E2D8FF', 'default': False, 'description': ''}]",open,False,,[],,0,2019-10-02T00:22:02Z,2019-11-26T06:23:43Z,,MEMBER,"Adding a simple ""hello world"" plugin here: https://github.com/apache-superset/superset-ui-plugins/pull/216, this is the Superset-side PR to get that plugin loaded up in Superset

<img width=""1185"" alt=""Screen Shot 2019-10-01 at 5 19 11 PM"" src=""https://user-images.githubusercontent.com/487433/66009628-26cdc380-e470-11e9-990b-67a364bb2db2.png"">
",incubator-superset,apache,mistercrunch,487433,MDQ6VXNlcjQ4NzQzMw==,https://avatars1.githubusercontent.com/u/487433?v=4,,https://api.github.com/users/mistercrunch,https://github.com/mistercrunch,https://api.github.com/users/mistercrunch/followers,https://api.github.com/users/mistercrunch/following{/other_user},https://api.github.com/users/mistercrunch/gists{/gist_id},https://api.github.com/users/mistercrunch/starred{/owner}{/repo},https://api.github.com/users/mistercrunch/subscriptions,https://api.github.com/users/mistercrunch/orgs,https://api.github.com/users/mistercrunch/repos,https://api.github.com/users/mistercrunch/events{/privacy},https://api.github.com/users/mistercrunch/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8333,https://github.com/apache/incubator-superset/pull/8333,https://github.com/apache/incubator-superset/pull/8333.diff,https://github.com/apache/incubator-superset/pull/8333.patch,,,,,,,,,,,,,,,,,,
178,https://api.github.com/repos/apache/incubator-superset/issues/8322,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8322/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8322/comments,https://api.github.com/repos/apache/incubator-superset/issues/8322/events,https://github.com/apache/incubator-superset/issues/8322,500065842,MDU6SXNzdWU1MDAwNjU4NDI=,8322,An unknown error occurred. Please contact your Superset administrator,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,6,2019-09-30T05:54:14Z,2019-12-05T17:47:09Z,,NONE,"Hello, I have installed superset using [SupersetOffcDoc](https://superset.incubator.apache.org/installation.html) And successfully ran superset using command `gunicorn superset:app` but when i try to import a dashboard getting **An unknown error occurred. Please contact your Superset administrator**. My logged in user is `ADMIN` and also i found no errors in logs ",incubator-superset,apache,liya2664,35729584,MDQ6VXNlcjM1NzI5NTg0,https://avatars0.githubusercontent.com/u/35729584?v=4,,https://api.github.com/users/liya2664,https://github.com/liya2664,https://api.github.com/users/liya2664/followers,https://api.github.com/users/liya2664/following{/other_user},https://api.github.com/users/liya2664/gists{/gist_id},https://api.github.com/users/liya2664/starred{/owner}{/repo},https://api.github.com/users/liya2664/subscriptions,https://api.github.com/users/liya2664/orgs,https://api.github.com/users/liya2664/repos,https://api.github.com/users/liya2664/events{/privacy},https://api.github.com/users/liya2664/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
179,https://api.github.com/repos/apache/incubator-superset/issues/8321,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8321/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8321/comments,https://api.github.com/repos/apache/incubator-superset/issues/8321/events,https://github.com/apache/incubator-superset/issues/8321,500059203,MDU6SXNzdWU1MDAwNTkyMDM=,8321,Deck GL plots 5.3 version with google maps integration in react js zoom issue with plots,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,4,2019-09-30T05:31:15Z,2019-12-03T22:35:26Z,,NONE,"I am using deck gl 5.3 version for adding scatter plots and arc layer plot with google maps and I am facing issue as when I am zooming the maps, the plots are not  zooming with the maps. the plots are moving away from the maps when we zoom in or out. ",incubator-superset,apache,tanmaykul,15089955,MDQ6VXNlcjE1MDg5OTU1,https://avatars2.githubusercontent.com/u/15089955?v=4,,https://api.github.com/users/tanmaykul,https://github.com/tanmaykul,https://api.github.com/users/tanmaykul/followers,https://api.github.com/users/tanmaykul/following{/other_user},https://api.github.com/users/tanmaykul/gists{/gist_id},https://api.github.com/users/tanmaykul/starred{/owner}{/repo},https://api.github.com/users/tanmaykul/subscriptions,https://api.github.com/users/tanmaykul/orgs,https://api.github.com/users/tanmaykul/repos,https://api.github.com/users/tanmaykul/events{/privacy},https://api.github.com/users/tanmaykul/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
180,https://api.github.com/repos/apache/incubator-superset/issues/8318,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8318/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8318/comments,https://api.github.com/repos/apache/incubator-superset/issues/8318/events,https://github.com/apache/incubator-superset/issues/8318,499690330,MDU6SXNzdWU0OTk2OTAzMzA=,8318,[SIP-24] Proposal to introduce Flask app factory pattern,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,8,2019-09-27T23:26:32Z,2019-10-22T04:35:18Z,,CONTRIBUTOR,"### Motivation

Superset’s singletons are currently configured in the `superset` package’s `__init__.py` python module which means that the app itself (Superset) cannot be configured any other way than is described in the root package. The act of simply importing `superset` for other purposes, such as the `cli` forces the entire app to load, even though all you might need is SqlAlchemy, or some other component. A better approach is to leverage a pattern such as the “Factory Pattern” in which one or more functions can compose several components into a single “app”.  What’s more is that certain portions of the app might need to be overridden in test, or for different use cases. Making the app more composable makes it easier to alter functionality as needed and customize.

### Proposed Change

In order to get this done, we will need to add a few new modules, clean up `superset.__init__.py` and update the way views are added to FAB. This change is largely a refactor, with no change to functionality.

We should perform this migration in a few phases (likely several PRs):
	1. Migrate all current direct references to `app` to leverage `flask.current_app` proxy
	2. Introduce a new `extensions.py` in the base of the `superset` package whose job it will be to instantiate the Flask app, and other singletons, such as AppBuilder.
	3. Move all logic currently in `superset.__init__.py` into a new `app.py` file which will define a `create_app()` function whose responsibility will be to call `init_app()` on the Flask app, along with other flask app aware objects
	4. Move all calls to `appbuilder.add_view_xxx()` to `app.py`

### New or Changed Public Interfaces

The biggest change will be the removal of `superset.app` from the global scope. Instead, we will leverage Flask’s `current_app` proxy in order to reference the current running app. There will be no changes to the set of dependent libraries.

### New dependencies

n/a

### Migration Plan and Compatibility

Documentation will likely need to be added which describes the ""new way"" of doing things once this is merged into `master`. Contributors that are accustomed to the current structure will likely need to spend a little time coming up to speed with the location of various parts.

### Rejected Alternatives

n/a
",incubator-superset,apache,craig-rueda,2595291,MDQ6VXNlcjI1OTUyOTE=,https://avatars0.githubusercontent.com/u/2595291?v=4,,https://api.github.com/users/craig-rueda,https://github.com/craig-rueda,https://api.github.com/users/craig-rueda/followers,https://api.github.com/users/craig-rueda/following{/other_user},https://api.github.com/users/craig-rueda/gists{/gist_id},https://api.github.com/users/craig-rueda/starred{/owner}{/repo},https://api.github.com/users/craig-rueda/subscriptions,https://api.github.com/users/craig-rueda/orgs,https://api.github.com/users/craig-rueda/repos,https://api.github.com/users/craig-rueda/events{/privacy},https://api.github.com/users/craig-rueda/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
181,https://api.github.com/repos/apache/incubator-superset/issues/8316,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8316/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8316/comments,https://api.github.com/repos/apache/incubator-superset/issues/8316/events,https://github.com/apache/incubator-superset/issues/8316,499393583,MDU6SXNzdWU0OTkzOTM1ODM=,8316,Include schema on sqlatable's unique constraint,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,4,2019-09-27T11:32:48Z,2019-11-15T00:47:26Z,,CONTRIBUTOR,"On a project that I'm working on we have different schemas on the same database (postgres) and all schemas have the same ddl. 
Since the SqlaTable model has a unique constrain on the fields ""database_id"" and ""table_name"" we can't import the tables.

The solution would be to add the ""schema"" field to the existing unique constraint of the SqlaTable model.
To prevent having several tables with the same name and database on the list endpoint of the tablemodelview I would also add the schema to the list_columns",incubator-superset,apache,aspedrosa,23409890,MDQ6VXNlcjIzNDA5ODkw,https://avatars0.githubusercontent.com/u/23409890?v=4,,https://api.github.com/users/aspedrosa,https://github.com/aspedrosa,https://api.github.com/users/aspedrosa/followers,https://api.github.com/users/aspedrosa/following{/other_user},https://api.github.com/users/aspedrosa/gists{/gist_id},https://api.github.com/users/aspedrosa/starred{/owner}{/repo},https://api.github.com/users/aspedrosa/subscriptions,https://api.github.com/users/aspedrosa/orgs,https://api.github.com/users/aspedrosa/repos,https://api.github.com/users/aspedrosa/events{/privacy},https://api.github.com/users/aspedrosa/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
182,https://api.github.com/repos/apache/incubator-superset/issues/8315,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8315/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8315/comments,https://api.github.com/repos/apache/incubator-superset/issues/8315/events,https://github.com/apache/incubator-superset/pull/8315,499392497,MDExOlB1bGxSZXF1ZXN0MzIyMTIyMzQ2,8315,#8301:  Applied more Portuguese translations,"[{'id': 1331560260, 'node_id': 'MDU6TGFiZWwxMzMxNTYwMjYw', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/L', 'name': 'size/L', 'color': '6D53B9', 'default': False, 'description': ''}]",open,False,,[],,5,2019-09-27T11:30:03Z,2019-10-28T12:54:55Z,,CONTRIBUTOR,"### CATEGORY
Choose one
- [ ] Bug Fix
- [x] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->
Translated some phrases across the app to Portuguese.

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API
- [x] Fixes #8301 

### REVIEWERS
",incubator-superset,apache,oskarhinc,19305104,MDQ6VXNlcjE5MzA1MTA0,https://avatars1.githubusercontent.com/u/19305104?v=4,,https://api.github.com/users/oskarhinc,https://github.com/oskarhinc,https://api.github.com/users/oskarhinc/followers,https://api.github.com/users/oskarhinc/following{/other_user},https://api.github.com/users/oskarhinc/gists{/gist_id},https://api.github.com/users/oskarhinc/starred{/owner}{/repo},https://api.github.com/users/oskarhinc/subscriptions,https://api.github.com/users/oskarhinc/orgs,https://api.github.com/users/oskarhinc/repos,https://api.github.com/users/oskarhinc/events{/privacy},https://api.github.com/users/oskarhinc/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8315,https://github.com/apache/incubator-superset/pull/8315,https://github.com/apache/incubator-superset/pull/8315.diff,https://github.com/apache/incubator-superset/pull/8315.patch,,,,,,,,,,,,,,,,,,
183,https://api.github.com/repos/apache/incubator-superset/issues/8314,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8314/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8314/comments,https://api.github.com/repos/apache/incubator-superset/issues/8314/events,https://github.com/apache/incubator-superset/issues/8314,499341600,MDU6SXNzdWU0OTkzNDE2MDA=,8314,How to change Big Number CSS to be like that?,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,7,2019-09-27T09:35:24Z,2019-12-16T23:26:35Z,,NONE,"How to configure to make big number like that?
Example: 
![IMG-20190921-WA0000](https://user-images.githubusercontent.com/28984703/65759009-a3992e80-e14c-11e9-8d9b-f3da4436d29f.jpg)
",incubator-superset,apache,syazwan0913,28984703,MDQ6VXNlcjI4OTg0NzAz,https://avatars0.githubusercontent.com/u/28984703?v=4,,https://api.github.com/users/syazwan0913,https://github.com/syazwan0913,https://api.github.com/users/syazwan0913/followers,https://api.github.com/users/syazwan0913/following{/other_user},https://api.github.com/users/syazwan0913/gists{/gist_id},https://api.github.com/users/syazwan0913/starred{/owner}{/repo},https://api.github.com/users/syazwan0913/subscriptions,https://api.github.com/users/syazwan0913/orgs,https://api.github.com/users/syazwan0913/repos,https://api.github.com/users/syazwan0913/events{/privacy},https://api.github.com/users/syazwan0913/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
184,https://api.github.com/repos/apache/incubator-superset/issues/8312,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8312/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8312/comments,https://api.github.com/repos/apache/incubator-superset/issues/8312/events,https://github.com/apache/incubator-superset/issues/8312,499296209,MDU6SXNzdWU0OTkyOTYyMDk=,8312,Render links in table charts,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,3,2019-09-27T07:57:09Z,2019-11-26T17:59:01Z,,NONE,"**Describe the solution you'd like**

In a table chart, I'd like to render a device id column (with values such as `device-1`, `device-2`), as link to the device's config page (e.g. `http://some.where/?q=device-1` ). 

**A clear and concise description of what you want to happen.**

It would be great if an url-template including a value placeholder (e.g. `http://some.where/?q=${s}` or similar) could be configured, which is picked up by the system to render the value as a link.

",incubator-superset,apache,holgerbrandl,200952,MDQ6VXNlcjIwMDk1Mg==,https://avatars2.githubusercontent.com/u/200952?v=4,,https://api.github.com/users/holgerbrandl,https://github.com/holgerbrandl,https://api.github.com/users/holgerbrandl/followers,https://api.github.com/users/holgerbrandl/following{/other_user},https://api.github.com/users/holgerbrandl/gists{/gist_id},https://api.github.com/users/holgerbrandl/starred{/owner}{/repo},https://api.github.com/users/holgerbrandl/subscriptions,https://api.github.com/users/holgerbrandl/orgs,https://api.github.com/users/holgerbrandl/repos,https://api.github.com/users/holgerbrandl/events{/privacy},https://api.github.com/users/holgerbrandl/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
185,https://api.github.com/repos/apache/incubator-superset/issues/8310,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8310/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8310/comments,https://api.github.com/repos/apache/incubator-superset/issues/8310/events,https://github.com/apache/incubator-superset/issues/8310,499286182,MDU6SXNzdWU0OTkyODYxODI=,8310,Proper documentation & example for - How write a connector?,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,4,2019-09-27T07:34:09Z,2019-12-10T06:37:12Z,,NONE,"## [SIP] Proposal for documentation & example to write connector in separate repository 

### Motivation

Currently, I am using [dgraph](https://github.com/dgraph-io/dgraph) as my primary database. But could not find any connector for that, so decided to write. 

In the [FAQ](https://superset.incubator.apache.org/faq.html#does-superset-work-with-insert-database-engine-here) section I found

> Another key element for a database to be supported is through the Superset [Database Engine Specification](https://github.com/apache/incubator-superset/blob/master/superset/db_engine_specs.py) interface. This interface allows for defining database-specific configurations and logic that go beyond the SQLAlchemy and DBAPI scope.

Where the link ([Database Engine Specification](https://github.com/apache/incubator-superset/blob/master/superset/db_engine_specs.py)) is broken.

### Proposed Change

A step by step documentation will be very helpful.

With that, if we have a separate repository with example (maybe connector for REST-API) it will be great.
",incubator-superset,apache,ashim-k-saha,32305652,MDQ6VXNlcjMyMzA1NjUy,https://avatars3.githubusercontent.com/u/32305652?v=4,,https://api.github.com/users/ashim-k-saha,https://github.com/ashim-k-saha,https://api.github.com/users/ashim-k-saha/followers,https://api.github.com/users/ashim-k-saha/following{/other_user},https://api.github.com/users/ashim-k-saha/gists{/gist_id},https://api.github.com/users/ashim-k-saha/starred{/owner}{/repo},https://api.github.com/users/ashim-k-saha/subscriptions,https://api.github.com/users/ashim-k-saha/orgs,https://api.github.com/users/ashim-k-saha/repos,https://api.github.com/users/ashim-k-saha/events{/privacy},https://api.github.com/users/ashim-k-saha/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
186,https://api.github.com/repos/apache/incubator-superset/issues/8308,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8308/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8308/comments,https://api.github.com/repos/apache/incubator-superset/issues/8308/events,https://github.com/apache/incubator-superset/issues/8308,499235437,MDU6SXNzdWU0OTkyMzU0Mzc=,8308,"Queries with nested fields for presto fail with "" 'The number of data values and number of nestedfields are not equal'""","[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,4,2019-09-27T05:03:03Z,2019-11-08T19:08:19Z,,NONE,"A clear and concise description of what the bug is.
When querying a deeply nested field in presto, a ""The number of data values and number of nestedfields are not equal'"" error.
This appears related to http://mail-archives.apache.org/mod_mbox/superset-notifications/201905.mbox/%3C155925893590.16760.17217802552102811180.gitbox@gitbox.apache.org%3E

### Expected results

The data

### Actual results

Exception:  'The number of data values and number of nestedfields are not equal'

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Query a deeply nested field (a row of array of row) in sql lab
2. If the rows have different shape, i.e. one is null, the other has data only the shape of the first row determines the data.
3. The code comes from ./superset/db_engine_specs/presto.py in the _expand_row_data function.

### Environment

(please complete the following information):

- superset version: 0.34.1rc1
- python version: `python --version` 3.6
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [X ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ X] I have reproduced the issue with at least the latest released version of superset.
- [ X] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,elonazoulay,1587350,MDQ6VXNlcjE1ODczNTA=,https://avatars0.githubusercontent.com/u/1587350?v=4,,https://api.github.com/users/elonazoulay,https://github.com/elonazoulay,https://api.github.com/users/elonazoulay/followers,https://api.github.com/users/elonazoulay/following{/other_user},https://api.github.com/users/elonazoulay/gists{/gist_id},https://api.github.com/users/elonazoulay/starred{/owner}{/repo},https://api.github.com/users/elonazoulay/subscriptions,https://api.github.com/users/elonazoulay/orgs,https://api.github.com/users/elonazoulay/repos,https://api.github.com/users/elonazoulay/events{/privacy},https://api.github.com/users/elonazoulay/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
187,https://api.github.com/repos/apache/incubator-superset/issues/8303,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8303/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8303/comments,https://api.github.com/repos/apache/incubator-superset/issues/8303/events,https://github.com/apache/incubator-superset/issues/8303,499031269,MDU6SXNzdWU0OTkwMzEyNjk=,8303,Tabs in dashboard columns,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,5,2019-09-26T17:56:15Z,2019-11-28T14:48:55Z,,NONE,"**problem / proposal**
For design reasons I'd like to nest tabs in columns.

**context**
I implemented on a fork by moving `onChangeTab` to context. If this feature is desired I can fix tests, add nesting constraints, and PR. (Though idk if the nesting constraints are all that necessary)",incubator-superset,apache,micimize,8343799,MDQ6VXNlcjgzNDM3OTk=,https://avatars1.githubusercontent.com/u/8343799?v=4,,https://api.github.com/users/micimize,https://github.com/micimize,https://api.github.com/users/micimize/followers,https://api.github.com/users/micimize/following{/other_user},https://api.github.com/users/micimize/gists{/gist_id},https://api.github.com/users/micimize/starred{/owner}{/repo},https://api.github.com/users/micimize/subscriptions,https://api.github.com/users/micimize/orgs,https://api.github.com/users/micimize/repos,https://api.github.com/users/micimize/events{/privacy},https://api.github.com/users/micimize/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
188,https://api.github.com/repos/apache/incubator-superset/issues/8302,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8302/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8302/comments,https://api.github.com/repos/apache/incubator-superset/issues/8302/events,https://github.com/apache/incubator-superset/issues/8302,499023120,MDU6SXNzdWU0OTkwMjMxMjA=,8302,"Chart ""save"" behaviors not permission controlled","[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,3,2019-09-26T17:37:35Z,2019-11-18T03:28:23Z,,NONE,"Chart save actions should be disabled in the UI when they are not allowed (save button, `ctrl-s`)

### Expected results

* Save button is disabled when `can_add: false, can_overwrite: false`
* `ctrl-s` is disabled and copy reflects it (less important)

### Actual results

* Save button is not disabled when `can_add: false, can_overwrite: false`
* The opened modal is broken/unresponsive
* `ctrl-s` fires an overwrite attempt (regardless of permissions) and just fails due to undefined `data` results in
https://github.com/apache/incubator-superset/blob/0a8f3eb43ff068a8612338015f605f1951ce57b6/superset/assets/src/explore/components/ExploreViewContainer.jsx#L189

#### Screenshots

![image](https://user-images.githubusercontent.com/8343799/65710598-f0034200-e058-11e9-8e07-bfc1e9d1e577.png)

#### How to reproduce the bug

Go to a chart with a user who cannot overwrite or copy the chart

### Environment

- superset version: container built from a fork of very-recent `master`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [X] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [X] I have reproduced the issue with at least the latest released version of superset.
- [X] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional Context
I think we can just add `can_add` to where [`can_overwrite`](https://github.com/apache/incubator-superset/blob/0a8f3eb43ff068a8612338015f605f1951ce57b6/superset/assets/src/explore/components/ExploreViewContainer.jsx#L361) is provided and pass it down properly to [`canAdd`](https://github.com/apache/incubator-superset/blob/0a8f3eb43ff068a8612338015f605f1951ce57b6/superset/assets/src/explore/components/ExploreViewContainer.jsx#L315).",incubator-superset,apache,micimize,8343799,MDQ6VXNlcjgzNDM3OTk=,https://avatars1.githubusercontent.com/u/8343799?v=4,,https://api.github.com/users/micimize,https://github.com/micimize,https://api.github.com/users/micimize/followers,https://api.github.com/users/micimize/following{/other_user},https://api.github.com/users/micimize/gists{/gist_id},https://api.github.com/users/micimize/starred{/owner}{/repo},https://api.github.com/users/micimize/subscriptions,https://api.github.com/users/micimize/orgs,https://api.github.com/users/micimize/repos,https://api.github.com/users/micimize/events{/privacy},https://api.github.com/users/micimize/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
189,https://api.github.com/repos/apache/incubator-superset/issues/8301,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8301/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8301/comments,https://api.github.com/repos/apache/incubator-superset/issues/8301/events,https://github.com/apache/incubator-superset/issues/8301,498923420,MDU6SXNzdWU0OTg5MjM0MjA=,8301,Apply more Portuguese translations,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,5,2019-09-26T14:29:32Z,2019-11-04T20:32:14Z,,CONTRIBUTOR,"**Is your feature request related to a problem? Please describe.**
There are some phrases across the app that are not translated at all or are missing the Portuguese translations. 

**Describe the solution you'd like**
We should use currently used mechanism to provide additional translations. 

**Additional context**
The list of required strings to translate:
- ""Edit Dashboard"" to ""Editar Painel""
- ""Force refresh dashboard"" to ""Forçar actualização do painel""
- ""Set auto-refresh interval"" to ""Definir intervalo de actualização automática""
- ""Share Dashboard"" to ""Partilhar Painel""
- ""Query timeout"" to ""Demora na Consulta""
- ""visualization queries are set to timeout at ${action.timeout} seconds. "" to ""as consultas de visualização estão definidas para um tempo limite de ${action.timeout} segundos. ""
- ""Perhaps your data has grown, your database is under unusual load, or you are simply querying a data source that is too large to be processed within the timeout range. If that is the case, we recommend that you summarize your data further."" to ""Os dados poderão ter aumentado de volume, o banco de dados pode estar sob uma carga incomum ou a consulta de dados seja muito grande para ser processada dentro do intervalo de tempo limite. Se esse for o caso, recomendamos que resuma seus dados ainda mais.""
- ""Apply"" to ""Aplicar"" to ""Last day"" to ""Último dia""
- ""Last week"" to  ""Último semana""
- ""Last month"" to ""Último mês""
- ""Last quarter"" to ""Último quarto""
- ""Last year"" to ""Último ano""
- ""No filter"" to ""Sem filtro""
- ""Last"" to ""Último""
- ""Next"" to ""Próximo""
- ""defaults"" to ""padrões""
- ""seconds"" to ""segundos""
- ""minutes"" to ""minutos""
- ""hours"" to ""horas""
- ""days"" to ""dias""
- ""weeks"" to ""semanas""
- ""months"" to ""meses""
- ""years"" to ""anos""
- ""Start / end"" to ""Começar / fim""
- ""Relative to today"" to ""Em relação a hoje""
- ""Custom"" to ""Costume""
- ""Time range"" to ""Intervalo de tempo""
- ""No results found"" to ""Dados não encontrados""
- ""Data"" to ""Dados""
- ""Customize"" to ""Customizar""
",incubator-superset,apache,oskarhinc,19305104,MDQ6VXNlcjE5MzA1MTA0,https://avatars1.githubusercontent.com/u/19305104?v=4,,https://api.github.com/users/oskarhinc,https://github.com/oskarhinc,https://api.github.com/users/oskarhinc/followers,https://api.github.com/users/oskarhinc/following{/other_user},https://api.github.com/users/oskarhinc/gists{/gist_id},https://api.github.com/users/oskarhinc/starred{/owner}{/repo},https://api.github.com/users/oskarhinc/subscriptions,https://api.github.com/users/oskarhinc/orgs,https://api.github.com/users/oskarhinc/repos,https://api.github.com/users/oskarhinc/events{/privacy},https://api.github.com/users/oskarhinc/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
190,https://api.github.com/repos/apache/incubator-superset/issues/8293,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8293/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8293/comments,https://api.github.com/repos/apache/incubator-superset/issues/8293/events,https://github.com/apache/incubator-superset/pull/8293,498144808,MDExOlB1bGxSZXF1ZXN0MzIxMTMzNzYw,8293,"#8292: Added Portuguese translations for ""Edit dashboard"" dropdown","[{'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}, {'id': 1330950144, 'node_id': 'MDU6TGFiZWwxMzMwOTUwMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/S', 'name': 'size/S', 'color': 'C8B6FF', 'default': False, 'description': ''}]",open,False,,[],,4,2019-09-25T08:55:10Z,2019-12-23T12:46:38Z,,CONTRIBUTOR,"### CATEGORY
- [ ] Bug Fix
- [x] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
Added Portuguese translations for ""Edit dashboard"" dropdown

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API
- [x] Fixes #8292  

### REVIEWERS
",incubator-superset,apache,oskarhinc,19305104,MDQ6VXNlcjE5MzA1MTA0,https://avatars1.githubusercontent.com/u/19305104?v=4,,https://api.github.com/users/oskarhinc,https://github.com/oskarhinc,https://api.github.com/users/oskarhinc/followers,https://api.github.com/users/oskarhinc/following{/other_user},https://api.github.com/users/oskarhinc/gists{/gist_id},https://api.github.com/users/oskarhinc/starred{/owner}{/repo},https://api.github.com/users/oskarhinc/subscriptions,https://api.github.com/users/oskarhinc/orgs,https://api.github.com/users/oskarhinc/repos,https://api.github.com/users/oskarhinc/events{/privacy},https://api.github.com/users/oskarhinc/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8293,https://github.com/apache/incubator-superset/pull/8293,https://github.com/apache/incubator-superset/pull/8293.diff,https://github.com/apache/incubator-superset/pull/8293.patch,,,,,,,,,,,,,,,,,,
191,https://api.github.com/repos/apache/incubator-superset/issues/8278,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8278/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8278/comments,https://api.github.com/repos/apache/incubator-superset/issues/8278/events,https://github.com/apache/incubator-superset/issues/8278,496866608,MDU6SXNzdWU0OTY4NjY2MDg=,8278,Time in filter box is showing as unix timestamp,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,5,2019-09-23T02:14:02Z,2019-12-10T06:16:04Z,,NONE,"I am trying to use filter box and trying to filter data based on date. when i create filter based on date then date is being shown in epoch time. 

### Expected results

Date should show in yyyy-mm-dd format

### Actual results

it shows in epoch time like: 1568505600000

#### Screenshots

https://drive.google.com/file/d/1gTnKG8QkMWkzXoiRF-5fXiwpMo_f5LqC/view?usp=sharing

#### How to reproduce the bug

1. Create a table in postgres with DATE column
2. now create table in superset 
3. Change the Datetime Format in column of table to  %Y-%m-%d
4. try to create the filter box using that column

### Environment
Running superset with docker.

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,rajeshchy,14107362,MDQ6VXNlcjE0MTA3MzYy,https://avatars2.githubusercontent.com/u/14107362?v=4,,https://api.github.com/users/rajeshchy,https://github.com/rajeshchy,https://api.github.com/users/rajeshchy/followers,https://api.github.com/users/rajeshchy/following{/other_user},https://api.github.com/users/rajeshchy/gists{/gist_id},https://api.github.com/users/rajeshchy/starred{/owner}{/repo},https://api.github.com/users/rajeshchy/subscriptions,https://api.github.com/users/rajeshchy/orgs,https://api.github.com/users/rajeshchy/repos,https://api.github.com/users/rajeshchy/events{/privacy},https://api.github.com/users/rajeshchy/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
192,https://api.github.com/repos/apache/incubator-superset/issues/8241,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8241/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8241/comments,https://api.github.com/repos/apache/incubator-superset/issues/8241/events,https://github.com/apache/incubator-superset/issues/8241,494872210,MDU6SXNzdWU0OTQ4NzIyMTA=,8241,Superset fails to build JSON (specifically with producing label colors) for very large sets of data,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,3,2019-09-17T21:58:46Z,2019-09-18T18:22:27Z,,NONE,"A clear and concise description of what the bug is.

### Expected results

Produces UI for large quantity of elements

### Actual results

Superset throws 500 error and UI becomes unusable for listing dashboards or viewing affected dashboard

#### How to reproduce the bug

1. Create a pie chart with large limit for rows (Enough that string length of Parameters, specifically with label colors > 65530 characters)
2. Set a color scheme (To generate Label Colors dynamically)
3. Save in Superset UI
4. 500 Error on listing dashboards or viewing affected dashboard

Error is due to String length of Parameters exceeding 65530 characters (2^16) and being truncated therefore invalid JSON leading to JSON deserialize error

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [X] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,nmits,21202387,MDQ6VXNlcjIxMjAyMzg3,https://avatars3.githubusercontent.com/u/21202387?v=4,,https://api.github.com/users/nmits,https://github.com/nmits,https://api.github.com/users/nmits/followers,https://api.github.com/users/nmits/following{/other_user},https://api.github.com/users/nmits/gists{/gist_id},https://api.github.com/users/nmits/starred{/owner}{/repo},https://api.github.com/users/nmits/subscriptions,https://api.github.com/users/nmits/orgs,https://api.github.com/users/nmits/repos,https://api.github.com/users/nmits/events{/privacy},https://api.github.com/users/nmits/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
193,https://api.github.com/repos/apache/incubator-superset/issues/8236,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8236/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8236/comments,https://api.github.com/repos/apache/incubator-superset/issues/8236/events,https://github.com/apache/incubator-superset/issues/8236,494629754,MDU6SXNzdWU0OTQ2Mjk3NTQ=,8236,Pivot Table Conditional Formatting on Cells - Add Colour to Cells,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,14,2019-09-17T13:37:43Z,2019-12-19T14:40:35Z,,CONTRIBUTOR,"It would be nice if there was a way to add conditional formatting to individual cells to highlight them a certain color if the value in that cell is in or out of a range etc.

This was being worked on at some point in time on older versions of Superset. #3416

However, it looks like progress stopped. Can someone champion this feature and continue what was already done?

",incubator-superset,apache,davidhassan,1705367,MDQ6VXNlcjE3MDUzNjc=,https://avatars2.githubusercontent.com/u/1705367?v=4,,https://api.github.com/users/davidhassan,https://github.com/davidhassan,https://api.github.com/users/davidhassan/followers,https://api.github.com/users/davidhassan/following{/other_user},https://api.github.com/users/davidhassan/gists{/gist_id},https://api.github.com/users/davidhassan/starred{/owner}{/repo},https://api.github.com/users/davidhassan/subscriptions,https://api.github.com/users/davidhassan/orgs,https://api.github.com/users/davidhassan/repos,https://api.github.com/users/davidhassan/events{/privacy},https://api.github.com/users/davidhassan/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
194,https://api.github.com/repos/apache/incubator-superset/issues/8234,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8234/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8234/comments,https://api.github.com/repos/apache/incubator-superset/issues/8234/events,https://github.com/apache/incubator-superset/issues/8234,494519025,MDU6SXNzdWU0OTQ1MTkwMjU=,8234,Filter dashboard clicking on chart #5941,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,3,2019-09-17T09:49:35Z,2019-11-20T11:22:08Z,,NONE,"**Is your feature request related to a problem? Please describe.**
click the chart to affect the other chart as a filter
**Describe the solution you'd like**
chart filter by single click
**Describe alternatives you've considered**
click based chart filter
",incubator-superset,apache,kalimuthu123,42966797,MDQ6VXNlcjQyOTY2Nzk3,https://avatars3.githubusercontent.com/u/42966797?v=4,,https://api.github.com/users/kalimuthu123,https://github.com/kalimuthu123,https://api.github.com/users/kalimuthu123/followers,https://api.github.com/users/kalimuthu123/following{/other_user},https://api.github.com/users/kalimuthu123/gists{/gist_id},https://api.github.com/users/kalimuthu123/starred{/owner}{/repo},https://api.github.com/users/kalimuthu123/subscriptions,https://api.github.com/users/kalimuthu123/orgs,https://api.github.com/users/kalimuthu123/repos,https://api.github.com/users/kalimuthu123/events{/privacy},https://api.github.com/users/kalimuthu123/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
195,https://api.github.com/repos/apache/incubator-superset/issues/8230,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8230/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8230/comments,https://api.github.com/repos/apache/incubator-superset/issues/8230/events,https://github.com/apache/incubator-superset/issues/8230,494181379,MDU6SXNzdWU0OTQxODEzNzk=,8230,Deck GL Screengrid overlay does not update,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,5,2019-09-16T17:30:12Z,2019-11-18T20:31:20Z,,NONE,"Probably root cause of #5470 - The deck gl screengrid overlay displays the same values for the same locations no matter how you pan and zoom the map

### Expected results
Popup data corresponds to underlying map data

### Actual results
The map renders with the popups misaligned (seems like largest point is in the upper left) and the overlays don't change

#### Screenshots
<img width=""940"" alt=""Screen Shot 2019-09-16 at 12 23 05"" src=""https://user-images.githubusercontent.com/8343799/64979291-094c0780-d87d-11e9-905e-f1df208fb823.png"">

With the following **Javascript tooltip generator** we can illustrate the problem:
`(o) => console.log(o) || JSON.stringify([o.object.position, o.lngLat]);`

<img width=""481"" alt=""Screen Shot 2019-09-16 at 12 17 13"" src=""https://user-images.githubusercontent.com/8343799/64979007-63000200-d87c-11e9-8c19-e405e21783d1.png"">
<img width=""473"" alt=""Screen Shot 2019-09-16 at 12 17 40"" src=""https://user-images.githubusercontent.com/8343799/64979008-63000200-d87c-11e9-8592-ffea250813c4.png"">

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Create a screengrid visualization
2. Pan and zoom the map

### Environment

(please complete the following information):
- the [`amancevice/superset:edge`](https://hub.docker.com/layers/amancevice/superset/edge/images/sha256-a6ba4bac37c80366c910284a93c6e37bd476c2c61f7bf2aae861ba410d7c79aa) container
- superset version: `Superset 0.999.0dev` (post `0.34.0`)
- python version: `Python 3.6.9`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [X] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [X] I have reproduced the issue with at least the latest released version of superset.
- [X] I have checked the issue tracker for the same issue and I haven't found one similar (there are, but they were stale-botted
",incubator-superset,apache,micimize,8343799,MDQ6VXNlcjgzNDM3OTk=,https://avatars1.githubusercontent.com/u/8343799?v=4,,https://api.github.com/users/micimize,https://github.com/micimize,https://api.github.com/users/micimize/followers,https://api.github.com/users/micimize/following{/other_user},https://api.github.com/users/micimize/gists{/gist_id},https://api.github.com/users/micimize/starred{/owner}{/repo},https://api.github.com/users/micimize/subscriptions,https://api.github.com/users/micimize/orgs,https://api.github.com/users/micimize/repos,https://api.github.com/users/micimize/events{/privacy},https://api.github.com/users/micimize/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
196,https://api.github.com/repos/apache/incubator-superset/issues/8229,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8229/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8229/comments,https://api.github.com/repos/apache/incubator-superset/issues/8229/events,https://github.com/apache/incubator-superset/pull/8229,493858888,MDExOlB1bGxSZXF1ZXN0MzE3NzI1ODMy,8229,[POC] add echarts scatter,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1329203144, 'node_id': 'MDU6TGFiZWwxMzI5MjAzMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/M', 'name': 'size/M', 'color': '705FA3', 'default': False, 'description': ''}]",open,False,,[],,4,2019-09-16T05:51:24Z,2019-11-26T06:23:42Z,,MEMBER,"### CATEGORY

Choose one

- [ ] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,mistercrunch,487433,MDQ6VXNlcjQ4NzQzMw==,https://avatars1.githubusercontent.com/u/487433?v=4,,https://api.github.com/users/mistercrunch,https://github.com/mistercrunch,https://api.github.com/users/mistercrunch/followers,https://api.github.com/users/mistercrunch/following{/other_user},https://api.github.com/users/mistercrunch/gists{/gist_id},https://api.github.com/users/mistercrunch/starred{/owner}{/repo},https://api.github.com/users/mistercrunch/subscriptions,https://api.github.com/users/mistercrunch/orgs,https://api.github.com/users/mistercrunch/repos,https://api.github.com/users/mistercrunch/events{/privacy},https://api.github.com/users/mistercrunch/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8229,https://github.com/apache/incubator-superset/pull/8229,https://github.com/apache/incubator-superset/pull/8229.diff,https://github.com/apache/incubator-superset/pull/8229.patch,,,,,,,,,,,,,,,,,,
197,https://api.github.com/repos/apache/incubator-superset/issues/8225,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8225/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8225/comments,https://api.github.com/repos/apache/incubator-superset/issues/8225/events,https://github.com/apache/incubator-superset/issues/8225,493661803,MDU6SXNzdWU0OTM2NjE4MDM=,8225,"Pandas casting int64 to float64, misrepresenting value","[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,6,2019-09-14T20:11:37Z,2019-12-03T17:54:13Z,,CONTRIBUTOR,"I have the following data being returned by Presto (single column, 6 rows):

```
[(None,), (1239162456494753670,), (None,), (None,), (None,), (None,)
```

Due to the missing data (`None`), Pandas infers the type as `float64`, converting the value to a wrong id:

```python
>>> column_names = ['organization_lyft_id']
>>> data = [(None,), (1239162456494753670,), (None,), (None,), (None,), (None,)]
>>> df = pd.DataFrame(list(data), columns=column_names).infer_objects()  # SupersetDataFrame
>>> print(df)
   organization_lyft_id
0                   NaN
1          1.239162e+18
2                   NaN
3                   NaN
4                   NaN
5                   NaN
>>> print(df.dtypes)
organization_lyft_id    float64
dtype: object
```

The number then shows up as `1239162456494753800` in SQL Lab.

Here's the Pandas documentation on this:

> ... pandas primarily uses NaN to represent missing data. Because NaN is a float, this forces an array of integers with any missing values to become floating point. In some cases, this may not matter much. But if your integer column is, say, an identifier, casting to float can be problematic. **Some integers cannot even be represented as floating point numbers.** (emphasis mine)

Note that if the missing data is filtered the value is inferred as an int64, and it shows up correctly in SQL Lab:

```python
>>> column_names = ['organization_lyft_id']
>>> data = [(1239162456494753670,)]
>>> df = pd.DataFrame(list(data), columns=column_names).infer_objects()  # SupersetDataFrame
>>> print(df)
   organization_lyft_id
0   1239162456494753670
>>> print(df.dtypes)
organization_lyft_id    int64
dtype: object

```

The solution is to pass a `dtype` argument when creating the Pandas data frame, built from the cursor description. I'm working on a fix for this.",incubator-superset,apache,betodealmeida,1534870,MDQ6VXNlcjE1MzQ4NzA=,https://avatars3.githubusercontent.com/u/1534870?v=4,,https://api.github.com/users/betodealmeida,https://github.com/betodealmeida,https://api.github.com/users/betodealmeida/followers,https://api.github.com/users/betodealmeida/following{/other_user},https://api.github.com/users/betodealmeida/gists{/gist_id},https://api.github.com/users/betodealmeida/starred{/owner}{/repo},https://api.github.com/users/betodealmeida/subscriptions,https://api.github.com/users/betodealmeida/orgs,https://api.github.com/users/betodealmeida/repos,https://api.github.com/users/betodealmeida/events{/privacy},https://api.github.com/users/betodealmeida/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
198,https://api.github.com/repos/apache/incubator-superset/issues/8186,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8186/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8186/comments,https://api.github.com/repos/apache/incubator-superset/issues/8186/events,https://github.com/apache/incubator-superset/issues/8186,490163233,MDU6SXNzdWU0OTAxNjMyMzM=,8186,Why Dashboard is blank?,"[{'id': 718573661, 'node_id': 'MDU6TGFiZWw3MTg1NzM2NjE=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/need:more-info', 'name': 'need:more-info', 'color': 'f1c40f', 'default': False, 'description': 'Need more information from author'}]",open,False,,[],,3,2019-09-06T06:56:42Z,2019-11-05T07:25:17Z,,NONE,"![image](https://user-images.githubusercontent.com/32725399/64406955-b1134980-d0b5-11e9-8dd2-dc1654780c11.png)

I create some slice in dashboard,but sometimes it shows error above the link youcan see,if refresh,some slices will be normal,but others still have error! I don't kown if I make something wrong or other questions? Thanks a lot if you can provide solution!",incubator-superset,apache,Demonya,32725399,MDQ6VXNlcjMyNzI1Mzk5,https://avatars2.githubusercontent.com/u/32725399?v=4,,https://api.github.com/users/Demonya,https://github.com/Demonya,https://api.github.com/users/Demonya/followers,https://api.github.com/users/Demonya/following{/other_user},https://api.github.com/users/Demonya/gists{/gist_id},https://api.github.com/users/Demonya/starred{/owner}{/repo},https://api.github.com/users/Demonya/subscriptions,https://api.github.com/users/Demonya/orgs,https://api.github.com/users/Demonya/repos,https://api.github.com/users/Demonya/events{/privacy},https://api.github.com/users/Demonya/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
199,https://api.github.com/repos/apache/incubator-superset/issues/8183,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8183/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8183/comments,https://api.github.com/repos/apache/incubator-superset/issues/8183/events,https://github.com/apache/incubator-superset/issues/8183,489933220,MDU6SXNzdWU0ODk5MzMyMjA=,8183,How to pass time filters to SQL Lab queries,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}]",open,False,,[],,21,2019-09-05T18:40:08Z,2019-11-26T05:48:08Z,,NONE,"Is there a way to pass `[from, to]` date filters to an SQL query?

I've been looking everywhere in documentation and source code and haven't found a solution to passing date filters to custom SQL queries. I'm working on some advanced multi-join aggregations from existing tables/views.

As a very simple example of the issue I'm trying solve, consider this SQL query:

```sql
SELECT COUNT(*)
FROM sessions
WHERE timestamp <= {{ something }} AND timestamp >= {{ something_else }}
```

I'd like to be able to access the date filters that are propagated through a `Filter Box` widget. in a dashboard. I've found that the values of these filters are available as these variables (thanks to https://superset.incubator.apache.org/faq.html#how-to-add-dynamic-filters-to-a-dashboard): https://github.com/apache/incubator-superset/blob/40776bd547166b6975574e815ec02add04781248/superset/assets/src/visualizations/FilterBox/FilterBox.jsx#L38-L44

With that in mind, I could make use of `__time_range` inside my SQL filter via `filter_values('__time_range')`, but `__time_range` is always giving me the literal time range selected, not a parsed `[from, to]` couple of date objects. I get values such as:

- 'Last quarter'
- '2019-09-02T00:00:00 : 2019-09-03T00:00:00'

These variations are very difficult to deal with inside an SQL query.

I'd like to know if this is all I get or if there's an undocumented solution to my problem I don't know about. In its simplest from, I'd like to have filters available in the SQL as template params so that I can do things like:

```sql
timestamp >= {{ from }} AND timestamp <= {{ to }}
```
",incubator-superset,apache,cachafla,21595,MDQ6VXNlcjIxNTk1,https://avatars1.githubusercontent.com/u/21595?v=4,,https://api.github.com/users/cachafla,https://github.com/cachafla,https://api.github.com/users/cachafla/followers,https://api.github.com/users/cachafla/following{/other_user},https://api.github.com/users/cachafla/gists{/gist_id},https://api.github.com/users/cachafla/starred{/owner}{/repo},https://api.github.com/users/cachafla/subscriptions,https://api.github.com/users/cachafla/orgs,https://api.github.com/users/cachafla/repos,https://api.github.com/users/cachafla/events{/privacy},https://api.github.com/users/cachafla/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
200,https://api.github.com/repos/apache/incubator-superset/issues/8167,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8167/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8167/comments,https://api.github.com/repos/apache/incubator-superset/issues/8167/events,https://github.com/apache/incubator-superset/issues/8167,488891858,MDU6SXNzdWU0ODg4OTE4NTg=,8167,PUT requests to /tablecolumninlineview/api/update/<id> fail,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,"[{'login': 'dpgaspar', 'id': 4025227, 'node_id': 'MDQ6VXNlcjQwMjUyMjc=', 'avatar_url': 'https://avatars1.githubusercontent.com/u/4025227?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/dpgaspar', 'html_url': 'https://github.com/dpgaspar', 'followers_url': 'https://api.github.com/users/dpgaspar/followers', 'following_url': 'https://api.github.com/users/dpgaspar/following{/other_user}', 'gists_url': 'https://api.github.com/users/dpgaspar/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/dpgaspar/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/dpgaspar/subscriptions', 'organizations_url': 'https://api.github.com/users/dpgaspar/orgs', 'repos_url': 'https://api.github.com/users/dpgaspar/repos', 'events_url': 'https://api.github.com/users/dpgaspar/events{/privacy}', 'received_events_url': 'https://api.github.com/users/dpgaspar/received_events', 'type': 'User', 'site_admin': False}]",,3,2019-09-04T01:18:06Z,2019-12-04T09:00:36Z,,CONTRIBUTOR,"Making a PUT request to the tablecolumninlineview api fails when not all required fields on the model are provided.

### Expected results

Expect a 200 when providing a payload of `{""description"": description}`.

### Actual results

Get a 500
`{""error_details"":{""column_name"":[""This field is required.""]},""message"":""Validation error"",""severity"":""warning""}`

#### How to reproduce the bug

1. Create a dimension in superset
2. Hit the API to change the dimension description
3. Get an error

Note that when I include the `column_name` field, this doesn't fail. It seems like there's an issue with merging the payload with the existing object, perhaps with the model or in FAB. I would expect to not need the `column_name` field when making a PUT request if it already exists on the existing object

### Environment

Repros on superset master, up to date versions of python and js

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

cc @john-bodley @dpgaspar 
",incubator-superset,apache,etr2460,7409244,MDQ6VXNlcjc0MDkyNDQ=,https://avatars2.githubusercontent.com/u/7409244?v=4,,https://api.github.com/users/etr2460,https://github.com/etr2460,https://api.github.com/users/etr2460/followers,https://api.github.com/users/etr2460/following{/other_user},https://api.github.com/users/etr2460/gists{/gist_id},https://api.github.com/users/etr2460/starred{/owner}{/repo},https://api.github.com/users/etr2460/subscriptions,https://api.github.com/users/etr2460/orgs,https://api.github.com/users/etr2460/repos,https://api.github.com/users/etr2460/events{/privacy},https://api.github.com/users/etr2460/received_events,User,False,,,,,dpgaspar,4025227.0,MDQ6VXNlcjQwMjUyMjc=,https://avatars1.githubusercontent.com/u/4025227?v=4,,https://api.github.com/users/dpgaspar,https://github.com/dpgaspar,https://api.github.com/users/dpgaspar/followers,https://api.github.com/users/dpgaspar/following{/other_user},https://api.github.com/users/dpgaspar/gists{/gist_id},https://api.github.com/users/dpgaspar/starred{/owner}{/repo},https://api.github.com/users/dpgaspar/subscriptions,https://api.github.com/users/dpgaspar/orgs,https://api.github.com/users/dpgaspar/repos,https://api.github.com/users/dpgaspar/events{/privacy},https://api.github.com/users/dpgaspar/received_events,User,False
201,https://api.github.com/repos/apache/incubator-superset/issues/8102,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8102/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8102/comments,https://api.github.com/repos/apache/incubator-superset/issues/8102/events,https://github.com/apache/incubator-superset/issues/8102,484605140,MDU6SXNzdWU0ODQ2MDUxNDA=,8102,Dashboard filters do not persist on page refresh,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,10,2019-08-23T16:06:22Z,2019-10-29T10:23:33Z,,NONE,"A clear and concise description of what the bug is.
Dashboard filters do not persist on page refresh.

### Expected results
The page reloads with the same values for filters

### Actual results
The filters reset to defaults. 

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Load a dashboard which contains filters
2. Use dropdown to select one the the filters and hit apply
3. Refresh the browser 
4. Previously applied filter does not get applied (filters not retained)

### Environment

(please complete the following information):

- superset version: 33.0 (and 26.3)
- python version: 3.6.8
- node.js version: v10.16.0
- npm version: 6.9.0

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.
Issue #5628 is same but the PR does not seem to address this issue., only dashboard refresh interval issue.

### Additional context
I am also open to a workaround or change in config that would enable this desired behavior

Add any other context about the problem here.
",incubator-superset,apache,smokemonster99,43358107,MDQ6VXNlcjQzMzU4MTA3,https://avatars3.githubusercontent.com/u/43358107?v=4,,https://api.github.com/users/smokemonster99,https://github.com/smokemonster99,https://api.github.com/users/smokemonster99/followers,https://api.github.com/users/smokemonster99/following{/other_user},https://api.github.com/users/smokemonster99/gists{/gist_id},https://api.github.com/users/smokemonster99/starred{/owner}{/repo},https://api.github.com/users/smokemonster99/subscriptions,https://api.github.com/users/smokemonster99/orgs,https://api.github.com/users/smokemonster99/repos,https://api.github.com/users/smokemonster99/events{/privacy},https://api.github.com/users/smokemonster99/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
202,https://api.github.com/repos/apache/incubator-superset/issues/8094,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8094/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8094/comments,https://api.github.com/repos/apache/incubator-superset/issues/8094/events,https://github.com/apache/incubator-superset/issues/8094,483937273,MDU6SXNzdWU0ODM5MzcyNzM=,8094,Please add line-bar type graph to visualisations list,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}]",open,False,,[],,4,2019-08-22T11:28:12Z,2019-12-20T15:08:36Z,,NONE,"Now a days a lot of visualisation happen on line-bar chart together in one chart.
Please add this type of graph.
Thanks in advance",incubator-superset,apache,rajat1428,54063946,MDQ6VXNlcjU0MDYzOTQ2,https://avatars2.githubusercontent.com/u/54063946?v=4,,https://api.github.com/users/rajat1428,https://github.com/rajat1428,https://api.github.com/users/rajat1428/followers,https://api.github.com/users/rajat1428/following{/other_user},https://api.github.com/users/rajat1428/gists{/gist_id},https://api.github.com/users/rajat1428/starred{/owner}{/repo},https://api.github.com/users/rajat1428/subscriptions,https://api.github.com/users/rajat1428/orgs,https://api.github.com/users/rajat1428/repos,https://api.github.com/users/rajat1428/events{/privacy},https://api.github.com/users/rajat1428/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
203,https://api.github.com/repos/apache/incubator-superset/issues/8082,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8082/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8082/comments,https://api.github.com/repos/apache/incubator-superset/issues/8082/events,https://github.com/apache/incubator-superset/pull/8082,483610057,MDExOlB1bGxSZXF1ZXN0MzA5NjUyOTMw,8082,add GeoJSON encoding support to deck.gl Polygon chart,"[{'id': 1329203144, 'node_id': 'MDU6TGFiZWwxMzI5MjAzMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/M', 'name': 'size/M', 'color': '705FA3', 'default': False, 'description': ''}]",open,False,,[],,5,2019-08-21T19:29:14Z,2019-11-05T07:33:35Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [ ] Bug Fix
- [x] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->
Currently, the deck.gl Polygon layer only accepts JSON coordinate arrays, polyline, or geohashes as data inputs. This requires user's to perform substantial pre-processing on their data if their data source stores geometry objects as GeoJSON. 

This PR adds GeoJSON encoding support to the deck.gl polygon chart. It will automatically determine if the user supplied polygon data is a GeoJSON (either single or multi-polygon) or a simple JSON coordinate array. All existing charts using JSON coordinate arrays should be unaffected by this change.

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF
<!--- Skip this if not applicable -->
![image](https://user-images.githubusercontent.com/7088252/63461980-d5212a80-c427-11e9-8978-ac77c8f0f112.png)


### TEST PLAN
<!--- What steps should be taken to verify the changes -->
Visual inspection

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [x] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,thunter009,7088252,MDQ6VXNlcjcwODgyNTI=,https://avatars3.githubusercontent.com/u/7088252?v=4,,https://api.github.com/users/thunter009,https://github.com/thunter009,https://api.github.com/users/thunter009/followers,https://api.github.com/users/thunter009/following{/other_user},https://api.github.com/users/thunter009/gists{/gist_id},https://api.github.com/users/thunter009/starred{/owner}{/repo},https://api.github.com/users/thunter009/subscriptions,https://api.github.com/users/thunter009/orgs,https://api.github.com/users/thunter009/repos,https://api.github.com/users/thunter009/events{/privacy},https://api.github.com/users/thunter009/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8082,https://github.com/apache/incubator-superset/pull/8082,https://github.com/apache/incubator-superset/pull/8082.diff,https://github.com/apache/incubator-superset/pull/8082.patch,,,,,,,,,,,,,,,,,,
204,https://api.github.com/repos/apache/incubator-superset/issues/8048,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8048/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8048/comments,https://api.github.com/repos/apache/incubator-superset/issues/8048/events,https://github.com/apache/incubator-superset/issues/8048,480862477,MDU6SXNzdWU0ODA4NjI0Nzc=,8048,Dashboard emails/chart emails schedules menu not showing up with master branch code,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,6,2019-08-14T20:01:29Z,2019-10-24T18:08:44Z,,NONE,"
The Dashboard emails/Chart emails schedule menu is not showing up even after config file is edited with email specific settings. Only seen in latest master branch code that i deployed.
### Expected results
The menu should be visibile if we enable email in the config.py file


### Actual results
No menus showsn


#### Screenshots


![image](https://user-images.githubusercontent.com/51064489/63052060-73534480-beac-11e9-9729-681f4d361c40.png)


#### How to reproduce the bug

1. get latest master code from github and deploy it
2. Edit config.py and enable email
3. Login to superset and Click on manage menu
4. No email specific menus shown

### Environment

(please complete the following information):

- superset version: master
- python version: 3.6.8
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,suvarnaC,51064489,MDQ6VXNlcjUxMDY0NDg5,https://avatars3.githubusercontent.com/u/51064489?v=4,,https://api.github.com/users/suvarnaC,https://github.com/suvarnaC,https://api.github.com/users/suvarnaC/followers,https://api.github.com/users/suvarnaC/following{/other_user},https://api.github.com/users/suvarnaC/gists{/gist_id},https://api.github.com/users/suvarnaC/starred{/owner}{/repo},https://api.github.com/users/suvarnaC/subscriptions,https://api.github.com/users/suvarnaC/orgs,https://api.github.com/users/suvarnaC/repos,https://api.github.com/users/suvarnaC/events{/privacy},https://api.github.com/users/suvarnaC/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
205,https://api.github.com/repos/apache/incubator-superset/issues/8047,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8047/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8047/comments,https://api.github.com/repos/apache/incubator-superset/issues/8047/events,https://github.com/apache/incubator-superset/pull/8047,480695460,MDExOlB1bGxSZXF1ZXN0MzA3MzQyNzMw,8047,[database] Improve connection URI validation,"[{'id': 1690342159, 'node_id': 'MDU6TGFiZWwxNjkwMzQyMTU5', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/preset-io', 'name': 'preset-io', 'color': '2FC098', 'default': False, 'description': ''}, {'id': 1329203144, 'node_id': 'MDU6TGFiZWwxMzI5MjAzMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/M', 'name': 'size/M', 'color': '705FA3', 'default': False, 'description': ''}]",open,False,,[],,4,2019-08-14T13:58:48Z,2019-11-26T06:23:42Z,,CONTRIBUTOR,"### CATEGORY

- [ ] Bug Fix
- [X] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
Improves database connection form validation (and API data submission). Currently a user would only know about URI parse validation errors after form submission, with this change an error is shown to the user while still editing the form.
 
### ADDITIONAL INFORMATION
- [ ] Has associated issue:
- [X] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [X] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS
",incubator-superset,apache,dpgaspar,4025227,MDQ6VXNlcjQwMjUyMjc=,https://avatars1.githubusercontent.com/u/4025227?v=4,,https://api.github.com/users/dpgaspar,https://github.com/dpgaspar,https://api.github.com/users/dpgaspar/followers,https://api.github.com/users/dpgaspar/following{/other_user},https://api.github.com/users/dpgaspar/gists{/gist_id},https://api.github.com/users/dpgaspar/starred{/owner}{/repo},https://api.github.com/users/dpgaspar/subscriptions,https://api.github.com/users/dpgaspar/orgs,https://api.github.com/users/dpgaspar/repos,https://api.github.com/users/dpgaspar/events{/privacy},https://api.github.com/users/dpgaspar/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8047,https://github.com/apache/incubator-superset/pull/8047,https://github.com/apache/incubator-superset/pull/8047.diff,https://github.com/apache/incubator-superset/pull/8047.patch,,,,,,,,,,,,,,,,,,
206,https://api.github.com/repos/apache/incubator-superset/issues/8033,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8033/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8033/comments,https://api.github.com/repos/apache/incubator-superset/issues/8033/events,https://github.com/apache/incubator-superset/pull/8033,479847996,MDExOlB1bGxSZXF1ZXN0MzA2NjU4NjEx,8033,fixed the bleeding dashboard chart issue,"[{'id': 718573661, 'node_id': 'MDU6TGFiZWw3MTg1NzM2NjE=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/need:more-info', 'name': 'need:more-info', 'color': 'f1c40f', 'default': False, 'description': 'Need more information from author'}, {'id': 1330950144, 'node_id': 'MDU6TGFiZWwxMzMwOTUwMTQ0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/S', 'name': 'size/S', 'color': 'C8B6FF', 'default': False, 'description': ''}]",open,False,,[],,21,2019-08-12T20:59:58Z,2019-11-05T18:37:41Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [x] Bug Fix
- [ ] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
User mentioned Horizon chart was bleeding. I verified that it was and added simple fix. 

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF

Before:
<img width=""1134"" alt=""Screen Shot 2019-08-12 at 1 27 23 PM"" src=""https://user-images.githubusercontent.com/2353608/62897991-49ade800-bd09-11e9-9a7a-44690066b1b7.png"">

After:

*Dashboard*

![dash-horizon-gif](https://user-images.githubusercontent.com/2353608/63323380-7b5f1a00-c2da-11e9-88f5-11dd3d240477.gif)

*Explore Chart*

![explore-gif](https://user-images.githubusercontent.com/2353608/63321252-00473500-c2d5-11e9-83ab-b80cbd406c84.gif)


### TEST PLAN
Do we test CSS? I can add if we do, but I did not see that in the project. (honestly didn't look hard)

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [x] Has associated issue: #7953 
- [x] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API



### REVIEWERS
@mistercrunch ",incubator-superset,apache,MarcusSorealheis,2353608,MDQ6VXNlcjIzNTM2MDg=,https://avatars2.githubusercontent.com/u/2353608?v=4,,https://api.github.com/users/MarcusSorealheis,https://github.com/MarcusSorealheis,https://api.github.com/users/MarcusSorealheis/followers,https://api.github.com/users/MarcusSorealheis/following{/other_user},https://api.github.com/users/MarcusSorealheis/gists{/gist_id},https://api.github.com/users/MarcusSorealheis/starred{/owner}{/repo},https://api.github.com/users/MarcusSorealheis/subscriptions,https://api.github.com/users/MarcusSorealheis/orgs,https://api.github.com/users/MarcusSorealheis/repos,https://api.github.com/users/MarcusSorealheis/events{/privacy},https://api.github.com/users/MarcusSorealheis/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/8033,https://github.com/apache/incubator-superset/pull/8033,https://github.com/apache/incubator-superset/pull/8033.diff,https://github.com/apache/incubator-superset/pull/8033.patch,,,,,,,,,,,,,,,,,,
207,https://api.github.com/repos/apache/incubator-superset/issues/8023,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8023/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8023/comments,https://api.github.com/repos/apache/incubator-superset/issues/8023/events,https://github.com/apache/incubator-superset/issues/8023,479320934,MDU6SXNzdWU0NzkzMjA5MzQ=,8023,feat: Add row level security,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,8,2019-08-11T01:05:25Z,2019-11-25T02:01:34Z,,NONE,"Superset need Row Level Security！！！
    In issues, this problem has been raised many times. It seems that it is a common problem for all of us and needs to be solved urgently. This will allow superset to grow rapidly and reach the product.
    Hope the Superset have Permission manage （access rule，action rule，model rule，field rule，record rule，view rule and menu rule）like Odoo（erp），example:

![rule](https://user-images.githubusercontent.com/1625023/62828342-61587400-bc16-11e9-8cde-8100afb2724d.png)

![QQ图片20190811085122](https://user-images.githubusercontent.com/1625023/62828378-6f5ac480-bc17-11e9-888a-42a165cebdb8.png)


![QQ图片20190811085122](https://user-images.githubusercontent.com/1625023/62828348-a11f5b80-bc16-11e9-9d98-4f3bf7c9b37e.png)

![object-rule](https://user-images.githubusercontent.com/1625023/62828365-2571de80-bc17-11e9-8a45-7221617da7af.png)


",incubator-superset,apache,toop,1625023,MDQ6VXNlcjE2MjUwMjM=,https://avatars1.githubusercontent.com/u/1625023?v=4,,https://api.github.com/users/toop,https://github.com/toop,https://api.github.com/users/toop/followers,https://api.github.com/users/toop/following{/other_user},https://api.github.com/users/toop/gists{/gist_id},https://api.github.com/users/toop/starred{/owner}{/repo},https://api.github.com/users/toop/subscriptions,https://api.github.com/users/toop/orgs,https://api.github.com/users/toop/repos,https://api.github.com/users/toop/events{/privacy},https://api.github.com/users/toop/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
208,https://api.github.com/repos/apache/incubator-superset/issues/8022,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/8022/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/8022/comments,https://api.github.com/repos/apache/incubator-superset/issues/8022/events,https://github.com/apache/incubator-superset/issues/8022,479272667,MDU6SXNzdWU0NzkyNzI2Njc=,8022,deck.gl Screen Grid doesn't display colour selector,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 357044520, 'node_id': 'MDU6TGFiZWwzNTcwNDQ1MjA=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/cant-reproduce', 'name': 'cant-reproduce', 'color': '2c3e50', 'default': False, 'description': 'Issues that cannot be reproduced'}]",open,False,,[],,7,2019-08-10T14:28:50Z,2019-12-13T13:22:17Z,,CONTRIBUTOR,"For current master branch (2019-08-10):

""deck.gl Screen Grid"" doesn't display colour selector or grid size. ""Switching to deck.gl Grid"" shows the colour selector and grid size and setting the colour there, affects the colour displayed when switching back to deck.gl Screen Grid.

### Expected results

Colour selector and grid size controls should display on deck.gl Screen Grid, not just Grid. Not sure if colour selector is supposed to display on Grid, as it doesn't seem to work for Grid.

### Actual results

As described above.

#### Screenshots

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Make a new chart of type deck.gl Screen Grid.
2. See error

### Environment

(please complete the following information):

- superset version: `0.999.0dev` as shown in packages.json
- python version: `3.7.2`
- node.js version: `v12.8.0`
- npm version: `6.10.3`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Loving Superset ^^
",incubator-superset,apache,fzzylogic,8237722,MDQ6VXNlcjgyMzc3MjI=,https://avatars2.githubusercontent.com/u/8237722?v=4,,https://api.github.com/users/fzzylogic,https://github.com/fzzylogic,https://api.github.com/users/fzzylogic/followers,https://api.github.com/users/fzzylogic/following{/other_user},https://api.github.com/users/fzzylogic/gists{/gist_id},https://api.github.com/users/fzzylogic/starred{/owner}{/repo},https://api.github.com/users/fzzylogic/subscriptions,https://api.github.com/users/fzzylogic/orgs,https://api.github.com/users/fzzylogic/repos,https://api.github.com/users/fzzylogic/events{/privacy},https://api.github.com/users/fzzylogic/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
209,https://api.github.com/repos/apache/incubator-superset/issues/7958,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7958/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7958/comments,https://api.github.com/repos/apache/incubator-superset/issues/7958/events,https://github.com/apache/incubator-superset/issues/7958,475630155,MDU6SXNzdWU0NzU2MzAxNTU=,7958,Timezone offset doesn't work.,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}]",open,False,,[],,8,2019-08-01T11:31:12Z,2019-12-23T06:34:02Z,,NONE,"The ""Timezone offset"" doesn't work for the postergsql database.
I am trying to display a list of records for my local time, despite setting the offset to 2 hours I still have UTC time.

I tested two ways to install the superset: using Docker and local development installation.

Edit:
I also tested this for example data that can be initiated by installing a superset.
Timezone offset setting for the flight table also does not shift time from UTC to my local.",incubator-superset,apache,maltitco,1561204,MDQ6VXNlcjE1NjEyMDQ=,https://avatars2.githubusercontent.com/u/1561204?v=4,,https://api.github.com/users/maltitco,https://github.com/maltitco,https://api.github.com/users/maltitco/followers,https://api.github.com/users/maltitco/following{/other_user},https://api.github.com/users/maltitco/gists{/gist_id},https://api.github.com/users/maltitco/starred{/owner}{/repo},https://api.github.com/users/maltitco/subscriptions,https://api.github.com/users/maltitco/orgs,https://api.github.com/users/maltitco/repos,https://api.github.com/users/maltitco/events{/privacy},https://api.github.com/users/maltitco/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
210,https://api.github.com/repos/apache/incubator-superset/issues/7934,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7934/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7934/comments,https://api.github.com/repos/apache/incubator-superset/issues/7934/events,https://github.com/apache/incubator-superset/issues/7934,473498586,MDU6SXNzdWU0NzM0OTg1ODY=,7934,"Add a post-init extension point for blueprints, etc","[{'id': 1470838497, 'node_id': 'MDU6TGFiZWwxNDcwODM4NDk3', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/feature_request', 'name': 'feature_request', 'color': 'ededed', 'default': False, 'description': None}, {'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}]",open,False,,[],,8,2019-07-26T19:14:28Z,2019-12-18T00:24:20Z,,NONE,"**Problem:**
#4149 - you have to do hacky in-function imports to import from superset in blueprints to avoid circular imports.

**Solution:**
We add a generic extension point post-init, such as an optional `superset_post_init.py` with a `post_init(app) -> app`, that handles extensions

**Alternatives:**
* Rework the way the config or internal library structure is loaded so that imports are not an issue
* Make a specific entry point `blueprints.py`
* Do nothing and tell users to deal with it and use the workaround
",incubator-superset,apache,micimize,8343799,MDQ6VXNlcjgzNDM3OTk=,https://avatars1.githubusercontent.com/u/8343799?v=4,,https://api.github.com/users/micimize,https://github.com/micimize,https://api.github.com/users/micimize/followers,https://api.github.com/users/micimize/following{/other_user},https://api.github.com/users/micimize/gists{/gist_id},https://api.github.com/users/micimize/starred{/owner}{/repo},https://api.github.com/users/micimize/subscriptions,https://api.github.com/users/micimize/orgs,https://api.github.com/users/micimize/repos,https://api.github.com/users/micimize/events{/privacy},https://api.github.com/users/micimize/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
211,https://api.github.com/repos/apache/incubator-superset/issues/7887,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7887/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7887/comments,https://api.github.com/repos/apache/incubator-superset/issues/7887/events,https://github.com/apache/incubator-superset/issues/7887,469472908,MDU6SXNzdWU0Njk0NzI5MDg=,7887,Filtering data per user on DB table level (Customer or Tenant Support)  ,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,8,2019-07-17T22:15:12Z,2019-12-02T17:21:02Z,,NONE,"**Is your feature request related to a problem? Please describe.**

Most enterprise data sets are divided by a major ID column that strictly groups data of customer accounts into silos that are . not matched in 99% of the use cases - let's call the column ""account_id"" for a simple example. User Alice is allowed to see data `""WHERE  account_id = 1""`, Bob is allowed to see data `""WHERE account_id=2""` and Chris can see  `""WHERE account_id  in (2 ,3)"" ` 

This filter should be applied BEFORE any data hits dashboard or Slice logic. Ideally speaking one user should see only his data in the table - as if none else would use the system. 

**Describe the solution you'd like**

It would be great to have a general mechanism to define a column filter that always matches a predefined user criteria. In the perfect implementation this would be a selection of the users metadata against a table column:
First go to"" Sources/tables/Edit Table""
There will be a new tab ""FILTERS""
Here you can select a column and a criteria the value of the column needs to match against. The criteria can be obtained from the user object in the easiest implementation. In the given example it would be:

Table: my_fact_table
Column: account_id
Criteria:
`my_fact_table.account_id = user.account_id (direct single match)`
OR  
`my_fact_table.account_id in user.account_ids (1:many match)`

In some use cases even a combination of two of those columns would make sense (think about sellers and buyers and a deal incorporating a buyer_id and seller_id). But this might be the last 20%.

**Describe alternatives you've considered**

There's potentially some not as convenient work around possible with JINJA. The docs are suboptimal here and it is also very SqlLab focussed. It would be great to have some better documentation how to use JINJA in this use case and potentially even point out how to deal with the users metadata better (most users will likely also be using SSO and potentially get the control data from a different app using SSO/OAuth or even a REST call).  

**Additional context**

The functionality does not describe  a full tenant support, but the most basic and most central topic would be covered: Clean separation of data. This looks like be a basic ask of many users in the data world. Implementation effort should be minor considering templating can be used internally.",incubator-superset,apache,durchgedreht,4490840,MDQ6VXNlcjQ0OTA4NDA=,https://avatars1.githubusercontent.com/u/4490840?v=4,,https://api.github.com/users/durchgedreht,https://github.com/durchgedreht,https://api.github.com/users/durchgedreht/followers,https://api.github.com/users/durchgedreht/following{/other_user},https://api.github.com/users/durchgedreht/gists{/gist_id},https://api.github.com/users/durchgedreht/starred{/owner}{/repo},https://api.github.com/users/durchgedreht/subscriptions,https://api.github.com/users/durchgedreht/orgs,https://api.github.com/users/durchgedreht/repos,https://api.github.com/users/durchgedreht/events{/privacy},https://api.github.com/users/durchgedreht/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
212,https://api.github.com/repos/apache/incubator-superset/issues/7804,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7804/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7804/comments,https://api.github.com/repos/apache/incubator-superset/issues/7804/events,https://github.com/apache/incubator-superset/issues/7804,462694133,MDU6SXNzdWU0NjI2OTQxMzM=,7804,Server side pagination for charts (tables),"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,9,2019-07-01T12:45:40Z,2019-12-19T06:56:54Z,,CONTRIBUTOR,"**Is your feature request related to a problem? Please describe.**

As a analyst I need to pull in the entire resultset to do my work. There is no way to either catagorize or aggregate information before hand. If I pull the entire result set (25M rows) I crash the browser or if I enforce a limit then the subsequent filters don't work anymore.

It balloons memory usage on both the server, caches, and web client. This makes it close to impossible to use Superset for this use case.

**Describe the solution you'd like**

Pagination should happen on the server side rather than on the client side. This means I will pull in limited set of data to the client and when it is out of data it will reach out to the server to request the remaining data.

**Describe alternatives you've considered**

SQL lab does not cut this as the end users are not able to integrate this with their work flow.

**Additional context**

This was previously mentioned (paraphrased) in #1433 , #4037 without resolution.

@mistercrunch @kristw @john-bodley 
",incubator-superset,apache,bolkedebruin,4282712,MDQ6VXNlcjQyODI3MTI=,https://avatars2.githubusercontent.com/u/4282712?v=4,,https://api.github.com/users/bolkedebruin,https://github.com/bolkedebruin,https://api.github.com/users/bolkedebruin/followers,https://api.github.com/users/bolkedebruin/following{/other_user},https://api.github.com/users/bolkedebruin/gists{/gist_id},https://api.github.com/users/bolkedebruin/starred{/owner}{/repo},https://api.github.com/users/bolkedebruin/subscriptions,https://api.github.com/users/bolkedebruin/orgs,https://api.github.com/users/bolkedebruin/repos,https://api.github.com/users/bolkedebruin/events{/privacy},https://api.github.com/users/bolkedebruin/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
213,https://api.github.com/repos/apache/incubator-superset/issues/7748,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7748/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7748/comments,https://api.github.com/repos/apache/incubator-superset/issues/7748/events,https://github.com/apache/incubator-superset/issues/7748,459015621,MDU6SXNzdWU0NTkwMTU2MjE=,7748,[SIP-23] Move SQL Lab storage out of browser localStorage,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,9,2019-06-21T05:30:17Z,2019-07-12T19:35:03Z,,CONTRIBUTOR,"## [SIP] Proposal for moving SQL Lab storage out of browser localStorage

### Motivation

Currently, we store SQL Lab state in the browser `localStorage`, including tabs, their queries and results. The redux state is persisted to `localStorage` using the `redux-localstorage` library.

While the implementation is clean, it provides a few drawbacks:

- The **state is not preserved across browsers**, of if the user clears the application data in the browser.
- Upgrades might leave the **state in a bad shape**, preventing SQL Lab from working successfully. We observed this a few times at Lyft, and users would use incognito mode until we instructed them to delete the application data.
- Storage is **limited to 5 MB**, hardcoded on the browser.

At Lyft we're currently migrating from BigQuery to Superset, and the project requires querying tables with nested fields (see the work on https://github.com/apache/incubator-superset/pull/7625, https://github.com/apache/incubator-superset/pull/7627 and https://github.com/apache/incubator-superset/pull/7693). Here's what we see when querying the first 100 rows from one of our tables:

<img width=""445"" alt=""Screen Shot 2019-06-19 at 1 23 01 PM"" src=""https://user-images.githubusercontent.com/1534870/59797784-6a236e00-9295-11e9-8956-50feaa9fcc97.png"">

In this case, the query is running automatically for the data preview when the user selects the table in the table browser (left of SQL Lab) in order to inspect it. This makes the browser extremely sluggish, even crashing it.

### Proposed Change

I propose moving the persistence of SQL Lab's state from the browser `localStorage` to the metadata database. State would be synced the following way:

#### backend -> frontend

- On load, the bootstrap payload contains a list of tab IDs, and the active tab ID.
- SQL Lab loads the active tab asynchronously by ID. This will load:
  - selected database
  - selected schema
  - any table schemas
  - query in textarea
  - results (if query has run)
  - any table previews
- On tab switch, the corresponding tab is loaded asynchronously in a similar way.

#### frontend -> backend

- Tabs are saved every time a query changes (user typing, eg), with debouncing.
- Tabs are saved every time a query is executed.
- Tabs are saved every time results are loaded.
- Similar for other changes (database changed, schema, table preview).

These changes should be transparent to the user, with the exception that there will be an additional latency from having to request the state from the server, instead of having it in `localStorage`.

### New or Changed Public Interfaces

For this work, we need to create the following models:

```python
# superset/models/sql_lab.py
class TabState(Model):

    __tablename__ = 'tab_state'

    # basic info
    id = Column(Integer, primary_key=True)
    user_id = Column(Integer, ForeignKey('ab_user.id'))
    label = Column(String(256))
    active = Column(Boolean, default=False)

    # tables that are open in the schema browser and their data previews
    table_schemas = relationship('TableSchema')

    # the query in the textarea, and results (if any)
    # we'll reuse the Query model, since it has everything we need
    # (note that this require having results_key set even for sync queries)
    query_id = Column(Integer, ForeignKey('query.id'))
    query = relationship('Query')


class TableSchema(Model):

    __tablename__ = 'table_schema'

    id = Column(Integer, primary_key=True)
    tab_state_id = Column(Integer, ForeignKey('tab_state.id'))

    # DB
    database_id = Column(Integer, ForeignKey('dbs.id'), nullable=False)
    database = relationship('Database', foreign_keys=[database_id])
    schema = Column(String(256))
    table = Column(String(256))
  
    # JSON describing the schema, partitions, latest partition, etc.
    results = Column(Text)
```

These will be exposed via automatically generated views by FAB.

Note that since we're loading the query results from the server, for synchronous queries we need to store the results in a results backend. We can fallback to a simple results backend (`werkzeug.contrib.cache.BaseCache`, eg) when none is set.

Optionally, we can store results ourselves in the database with a simple model:

```python
class Results(Model):

    __tablename__ = 'results'

    # used as results_key for sync queries
    id = Column(Integer, primary_key=True)

    # JSON with the results payload
    results = Column(Text)
```

### New dependencies

None.

### Migration Plan and Compatibility

We should implement logic that moves the state from `localStorage` to the backend when we detect that it's stored in the browser.

### Rejected Alternatives

None.",incubator-superset,apache,betodealmeida,1534870,MDQ6VXNlcjE1MzQ4NzA=,https://avatars3.githubusercontent.com/u/1534870?v=4,,https://api.github.com/users/betodealmeida,https://github.com/betodealmeida,https://api.github.com/users/betodealmeida/followers,https://api.github.com/users/betodealmeida/following{/other_user},https://api.github.com/users/betodealmeida/gists{/gist_id},https://api.github.com/users/betodealmeida/starred{/owner}{/repo},https://api.github.com/users/betodealmeida/subscriptions,https://api.github.com/users/betodealmeida/orgs,https://api.github.com/users/betodealmeida/repos,https://api.github.com/users/betodealmeida/events{/privacy},https://api.github.com/users/betodealmeida/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
214,https://api.github.com/repos/apache/incubator-superset/issues/7656,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7656/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7656/comments,https://api.github.com/repos/apache/incubator-superset/issues/7656/events,https://github.com/apache/incubator-superset/issues/7656,452742651,MDU6SXNzdWU0NTI3NDI2NTE=,7656,[SIP-15A] Proposal for inferring temporal formatting and parsing,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-06-05T22:18:49Z,2019-10-10T19:11:41Z,,CONTRIBUTOR,"## [SIP-15A] Proposal for inferring temporal formatting and parsing

### Motivation

In [SIP-15](https://github.com/apache/incubator-superset/issues/6360) we surfaced examples were lexicographical sorting could result in incorrect time intervals when the optional configuration fields weren't specified. Initially the proposal was to ensure all temporal fields were cast to a timestamp and filter comparisons were between the appropriate timestamp (or similar) types, i.e., for Presto: 

    DATE_PARSE(ds, '%Y-%m-%d') >= TIMESTAMP '2018-01-01 00:00:00'

Additionally if all temporal fields were transformed to a timestamp the time grains would also work correctly (the current logic assumes that said type can be successfully cast to a timestamp which is not always the case). 

@mistercrunch correctly pointed out out that not all query planners would be able to rewrite these filters to take advantage of indexes (if present) resulting in sub-performant queries and thus the status quo of ensuring the _left-hand-side_ (LHS) of the filter comparison remains unchanged and that the _right-hand-side_ (RHS) formats the Python `datetime` object appropriately, i.e., 

    ds >= '2018-01-01'

There are two problems with the current functionality: 

1. One must _explicitly_ define the format of the temporal column for non date/date-time like types, i.e., strings and numbers as there are multiple temporal encodings, e.g. `%Y-%m-%d`, `%Y-%d-%m`, epoch timestamp (in seconds), epoch timestamp (in milliseconds), etc. 

2. The time grains incorrectly assume that the temporal column can simply be cast to timestamp (or equivalent) type.  

Really this can be seen as two conversions: 

1. Converting a Python `datetime` object into the appropriate database type for filtering. 
2. Converting a database type into a timestamp (or equivalent) which is necessary for the time grain transformations for grouping. 

Note that the `convert_dttm` handles both of these already for date/date-time like types so the problem really lies with string like and numeric types which have temporal encoding.

### Proposed Change

We propose the following to address the two problems outlined above:

#### Format Inferencing 

Rather than having to explicitly define the format for all non date/date-time temporal columns it would be great to infer this from a sample. There are a few Python libraries ([`arrow`](https://github.com/crsmithdev/arrow), [`datetutil`](https://github.com/dateutil/dateutil), [`maya`](https://github.com/kennethreitz/maya), etc.) which can parse non a priori defined date-time formats, i.e., 

    >>> from dateutil.parser import parse
    >>> parse('2018-01-01')
    datetime.datetime(2018, 1, 1, 0, 0)

Sadly none of these libraries will provide the underlying format though there are [ways](https://stackoverflow.com/questions/53892450/get-the-format-in-dateutil-parse) of inferring it. It's also worth pointing out that a single value could be expressed by multiple formats, e.g. `2018-01-01` could be either `%Y-%m-%d` or `%Y-%d-%m`. Taking a sample of values should help further restrict the set of plausible formats.

Regarding epoch timestamps which can be defined via integers (representing seconds or milliseconds) or floats, to differentiate between these one could use basis logic like [www.epochconverter.com](https://www.epochconverter.com) where if there are less than 12 digits the timestamp is assumed to be in seconds, 12 - 14 as milliseconds, and 15+ as microseconds (see [here](https://stackoverflow.com/questions/23929145/how-to-test-if-a-given-time-stamp-is-in-seconds-or-milliseconds) for detail and the rare occurrences where this fails). 

We propose the following solution: 

1. Add a database specific column name/type to format mapping for non-explicit temporal columns, i.e., we use the `ds` column of type `VARCHAR` with the `%Y-%m-%d` format to represent a date-stamp.

2. Whenever a SQLAlchemy column is marked as temporal and the column type is not explicitly a temporal type and no formatting is present then: 
    - If it exists in the mapping apply the format.
    - Otherwise sample the column (using say 100 values) and try to infer the best format. 

3. Rather than using a free-form text box the `python_date_format` field should represent a selector with the various types where either the mapped or best format is selected. This allows users to override the format if the inferencing was incorrect. Why a drop-down and not pre-populated free-form text? Mostly because some formats are not overly human readable and have an example/more detailed description would help.

4. Deprecate the `database_expression` field. This logic should be obtainable via i) using the `python_date_format` field, ii) using a custom expression, or iii) ensuring the type mapping exists in the engine spec.

#### Time Grains 

Given that the format of the type is already inferred we simply need to provide at the engine level in [db_engine_specs.py](https://github.com/apache/incubator-superset/blob/master/superset/db_engine_specs.py) functionality (by ways of a SQL expression) to map from a string or numerical type to a timestamp which will then be wrapped inside of the SQL expressions representing the `time_grain_functions`, i.e., for the example of a date encoded as a string, for the Presto engine we would use the `DATE_PARSE(string, format)` UDF. Note there is already some logic [here](https://github.com/apache/incubator-superset/blob/master/superset/db_engine_specs.py#L147) regarding converting various types to a timestamp.

 For reference here's a few patterns for date-time formats: 

- [MySQL](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date-format)
- [Oracle](https://docs.oracle.com/cd/B19306_01/server.102/b14200/sql_elements004.htm)
- [Postgres](https://www.postgresql.org/docs/8.2/functions-formatting.html#FUNCTIONS-FORMATTING-DATETIME-TABLE)
- [Presto](http://teradata.github.io/presto/docs/127t/functions/datetime.html#mysql-date-functions)

It seems SQLAlchemy doesn't provide any abstraction and thus the only viable solution may be to explicitly define a mapping of the various date-time formats similar to [this](http://www.sqlines.com/mysql/functions/str_to_date). 

#### ISO 8601

For string like temporal columns they must adhere to the [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601). The reason being is strings use lexicographical ordering thus we need to ensure the representation coincides with the chronological ordering which is the case for the ISO 8601 format. 

For example say you had dates of the form `%m/%d/%Y` (MM/DD/YYYY in ISO 8601 syntax) and we were fixed on not converting types to timestamps then the date filtering would fail, 

    >>> '12/31/2018' < '01/01/2019'
    False

as opposed to dates of the form `%Y-%m-%d` (YYYY-MM-DD in ISO 8601 syntax), 

    >>> '2018-12-31' < '2019-01-01'
    True

Note if a string column doesn't adhere to the ISO 8601 format one will have to use a SQL expression in order to convert the column to either a date or timestamp (and possibly forgo leveraging the index), i.e., for Presto this would be defined as:

- `type`: `TIMESTAMP`
- `expression`: `DATE_PARSE(ds, '%m/%d/%Y')`

### New or Changed Public Interfaces

N/A.

### New dependencies

Depends on what Python package we use for inferring the date-time format.

### Migration Plan and Compatibility

A migration would be needed to: 

1. Add support for the database specific column name/type mapping. 
2. Re-encoding the `table_columns.python_date_format` column.
3. Bulk inferring temporal formats.

Note the migration and change to type interfering should be rolled out in conjunction with SIP-15 given that by remedying the lexicographical sorting issue outlined in SIP-15 we would fundamentally be changing the time filters for existing charts. Please refer to [here](https://github.com/apache/incubator-superset/issues/6360#issuecomment-495014185) for more details.

### Rejected Alternatives

See [SIP-15](https://github.com/apache/incubator-superset/issues/6360).

to: @agrawaldevesh @betodealmeida @mistercrunch @michellethomas @villebro 
",incubator-superset,apache,john-bodley,4567245,MDQ6VXNlcjQ1NjcyNDU=,https://avatars1.githubusercontent.com/u/4567245?v=4,,https://api.github.com/users/john-bodley,https://github.com/john-bodley,https://api.github.com/users/john-bodley/followers,https://api.github.com/users/john-bodley/following{/other_user},https://api.github.com/users/john-bodley/gists{/gist_id},https://api.github.com/users/john-bodley/starred{/owner}{/repo},https://api.github.com/users/john-bodley/subscriptions,https://api.github.com/users/john-bodley/orgs,https://api.github.com/users/john-bodley/repos,https://api.github.com/users/john-bodley/events{/privacy},https://api.github.com/users/john-bodley/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
215,https://api.github.com/repos/apache/incubator-superset/issues/7650,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7650/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7650/comments,https://api.github.com/repos/apache/incubator-superset/issues/7650/events,https://github.com/apache/incubator-superset/issues/7650,452602016,MDU6SXNzdWU0NTI2MDIwMTY=,7650,d3 formatting not working,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 546619551, 'node_id': 'MDU6TGFiZWw1NDY2MTk1NTE=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.vis', 'name': '.vis', 'color': 'ecf0f1', 'default': False, 'description': 'visualization'}]",open,False,,[],,8,2019-06-05T16:35:03Z,2019-12-04T06:06:19Z,,NONE,"
### Expected results

Number formatting on dashboard should change according to d3 format specified in metrics

### Actual results
Specifying a d3 format works on the COUNT(*) metric. But has no affect on any other metric as far as I can tell

#### Screenshots

![image](https://user-images.githubusercontent.com/7714673/58973271-74366e80-87b7-11e9-80fc-44a90be9cad4.png)

In the image above COUNT(*) and SUM(count) have the same d3 format configured. However, the configuration is not being applied to SUM(count)

#### How to reproduce the bug

1. Change the d3 format of COUNT(*) and any other metric for one of your tables
2. Create a table view of these two metrics. 
3. Notice that d3 formatting is only applied to the COUNT(*) metric


### Environment

*superset version: 0.33.0
*python version: 3.6.8

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [X] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [X] I have reproduced the issue with at least the latest released version of superset.
- [X] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

I have seen a number of other Issues raised around d3 formatting dating back to 2017. As far as I can tell those issues were fixed in this PR https://github.com/apache/incubator-superset/pull/2598
So I believe this must be a new bug
",incubator-superset,apache,duffar12,7714673,MDQ6VXNlcjc3MTQ2NzM=,https://avatars2.githubusercontent.com/u/7714673?v=4,,https://api.github.com/users/duffar12,https://github.com/duffar12,https://api.github.com/users/duffar12/followers,https://api.github.com/users/duffar12/following{/other_user},https://api.github.com/users/duffar12/gists{/gist_id},https://api.github.com/users/duffar12/starred{/owner}{/repo},https://api.github.com/users/duffar12/subscriptions,https://api.github.com/users/duffar12/orgs,https://api.github.com/users/duffar12/repos,https://api.github.com/users/duffar12/events{/privacy},https://api.github.com/users/duffar12/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
216,https://api.github.com/repos/apache/incubator-superset/issues/7571,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7571/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7571/comments,https://api.github.com/repos/apache/incubator-superset/issues/7571/events,https://github.com/apache/incubator-superset/issues/7571,446828578,MDU6SXNzdWU0NDY4Mjg1Nzg=,7571,"[SIP-20] Proposal for Improving Examples Interface, Organization and Storage","[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,3,2019-05-21T21:14:46Z,2019-06-21T22:27:55Z,,CONTRIBUTOR,"# [SIP] Proposal for Improving Examples Interface, Organization and Storage
The goal of the changes in this proposal is to improve the examples capabilities of Superset so as to foster an ecosystem of examples which will sustain and grow as the platform continues to develop. First I will characterize the existing system of examples and then propose changes to improve the number and quality of examples. 

## Current Examples
Examples are currently programmatically defined in the `superset.data` module. An abstract interface summarizing these examples looks like the following:

```python
from abc import ABC

class AbstractSupersetExample(ABC):
    """"""Defines interface through which superset examples load themselves.""""""

    def __init__(self, description):
        self.description = description

    def load_data(self):
        # Task 1: Load file and create pandas.DataFrame
        # Task 2: Load data into SQL with pandas.DataFrame.to_sql() 
        # Task 3: Process through ORM to get back workable Table object from whichever data source the table is in
        pass

    def create_metrics(self): 
        # Task 1: Build any TableColumns
        # Task 2: Build Metrics - SQLMetrics
        # Task 3: Store metrics in DB via ORM
        pass
    
    def create_charts(self, chart):
        # Task 1: Build chart from config/JSON
        # Task 2: Store to DB via - misc_dash_slices.add(slc.slice_name) / merge_slice(slc)
        pass
    
    def create_dashboards(self, name, config):
        # Task 1: Instantiate Dash via ORM
        # Task 2: Configure Dash via JSON
        # Task 3: Store to DB via ORM
        pass
```

While this mechanism jump started the collection of Superset examples, defining examples as code will not appeal to most Superset users of growing a community that contributes examples.

### Current Dashboard Import/Export

Dashboard example creation could utilize the export feature by adding example oriented fields to the export. Dashboards can be exported via the Dashboard List interface at `/dashboard/list/` via its Export action or at the command line via  `superset export_dashboards`. Dashboard and chart export JSON includes everything needed to reproduce a dashboard save the actual data table: dashboard, chart and datasource information. 

The `datasources. __SqlaTable__.database` element will need to be removed when examples are created and recreated when they are loaded to match `SQLALCHEMY_EXAMPLES_URI` or a `—database-uri` the user specifies. Each Slice’s `datasource_id` and `datasource_name` must be changed.

```
{
  ""dashboards"": [
    {
      ""__Dashboard__"": {
        ""created_on"": {
          ""__datetime__"": ""2019-04-19T10:29:21""
        },
        ""changed_by_fk"": null,
        ""slug"": ""world_health"",
        ""json_metadata"": ""{\""remote_id\"": 1}"",
        ""description"": null,
        ""dashboard_title"": ""World's Bank Data"",
        ""changed_on"": {
          ""__datetime__"": ""2019-05-02T17:55:47""
        },
        ""created_by_fk"": null,
        ""css"": null,
        ""position_json"": {...},
  ""id"": 1,
  ""slices"": [
    {
      ""__Slice__"": {
        ""created_by_fk"": null,
        ""cache_timeout"": null,
        ""params"": ""{\""compare_lag\"": \""10\"", \""compare_suffix\"": \""o10Y\"", \""country_fieldtype\"": \""cca3\"", \""date_filter\"": false, \""entity\"": \""country_code\"", \""filter_configs\"": [{\""asc\"": false, \""clearable\"": true, \""column\"": \""region\"", \""key\"": \""2s98dfu\"", \""metric\"": \""sum__SP_POP_TOTL\"", \""multiple\"": true}, {\""asc\"": false, \""clearable\"": true, \""column\"": \""country_name\"", \""key\"": \""li3j2lk\"", \""metric\"": \""sum__SP_POP_TOTL\"", \""multiple\"": true}], \""granularity_sqla\"": \""year\"", \""groupby\"": [], \""limit\"": \""25\"", \""markup_type\"": \""markdown\"", \""metric\"": \""sum__SP_POP_TOTL\"", \""metrics\"": [\""sum__SP_POP_TOTL\""], \""row_limit\"": 50000, \""secondary_metric\"": \""sum__SP_POP_TOTL\"", \""show_bubbles\"": true, \""since\"": \""2014-01-01\"", \""time_range\"": \""2014-01-01 : 2014-01-02\"", \""until\"": \""2014-01-02\"", \""viz_type\"": \""filter_box\"", \""where\"": \""\"", \""remote_id\"": 371, \""datasource_name\"": \""wb_health_population\"", \""schema\"": \""wb_health_population\"", \""database_name\"": \""main\""}"",
        ""datasource_name"": null,
        ""datasource_type"": ""table"",
        ""slice_name"": ""Region Filter"",
        ""changed_on"": {
          ""__datetime__"": ""2019-05-02T18:00:39""
        },
        ""changed_by_fk"": 1,
        ""perm"": ""[main].[wb_health_population](id:2)"",
        ""description"": null,
        ""viz_type"": ""filter_box"",
        ""datasource_id"": 2,
        ""id"": 371,
        ""created_on"": {
          ""__datetime__"": ""2019-05-02T17:55:47""
        },
        ""owners"": []
      }
    }
  ],
  ""datasources"": [
    {
      ""__SqlaTable__"": {
        ""created_on"": {
          ""__datetime__"": ""2019-04-19T10:29:20""
        },
        ""sql"": null,
        ""cache_timeout"": null,
        ""changed_on"": {
          ""__datetime__"": ""2019-05-02T17:55:47""
        },
        ""is_sqllab_view"": false,
        ""params"": ""{\""remote_id\"": 2, \""database_name\"": \""main\""}"",
        ""id"": 2,
        ""template_params"": null,
        ""perm"": ""[main].[wb_health_population](id:2)"",
        ""description"": ""<!--\nLicensed to the Apache Software Foundation..."",
		  ""created_by_fk"": null,
        ""table_name"": ""wb_health_population"",
        ""default_endpoint"": null,
        ""changed_by_fk"": null,
        ""main_dttm_col"": ""year"",
        ""is_featured"": false,
        ""database_id"": 1,
        ""filter_select_enabled"": true,
        ""fetch_values_predicate"": null,
        ""offset"": 0,
        ""schema"": null,
        ""columns"": [
          {
            ""__TableColumn__"": {
              ""created_by_fk"": null,
              ""python_date_format"": null,
              ""is_dttm"": false,
              ""description"": null,
              ""groupby"": false,
              ""type"": ""FLOAT"",
              ""verbose_name"": null,
              ""id"": 4,
              ""changed_by_fk"": null,
              ""created_on"": {
                ""__datetime__"": ""2019-04-19T10:29:20""
              },
              ""table_id"": 2,
              ""filterable"": false,
              ""expression"": """",
              ""database_expression"": null,
              ""is_active"": true,
              ""column_name"": ""NY_GNP_PCAP_CD"",
              ""changed_on"": {
                ""__datetime__"": ""2019-04-19T10:29:20""
              }
            }
          },
			...
		  ],
        ""metrics"": [
          {
            ""__SqlMetric__"": {
              ""created_by_fk"": null,
              ""table_id"": 2,
              ""d3format"": null,
              ""description"": null,
              ""metric_name"": ""sum__SP_POP_TOTL"",
              ""changed_on"": {
                ""__datetime__"": ""2019-04-19T10:29:20""
              },
              ""metric_type"": null,
              ""changed_by_fk"": null,
              ""expression"": ""sum(SP_POP_TOTL)"",
              ""warning_text"": null,
              ""is_restricted"": false,
              ""verbose_name"": null,
              ""id"": 3,
              ""created_on"": {
                ""__datetime__"": ""2019-04-19T10:29:20""
              }
            }
          },
			...
		  ],
		  ""database"": {
          ""__Database__"": {
            ""allow_csv_upload"": true,
            ""verbose_name"": null,
            ""created_by_fk"": null,
            ""allow_ctas"": false,
            ""database_name"": ""main"",
            ""changed_by_fk"": null,
            ""allow_dml"": false,
            ""sqlalchemy_uri"": ""sqlite:////Users/rjurney/.superset/superset.db"",
            ""force_ctas_schema"": null,
            ""password"": null,
            ""allow_multi_schema_metadata_fetch"": false,
            ""cache_timeout"": null,
            ""created_on"": {
              ""__datetime__"": ""2019-04-19T10:28:59""
            },
            ""extra"": ""{\n    \""metadata_params\"": {},\n    \""engine_params\"": {},\n    \""metadata_cache_timeout\"": {},\n    \""schemas_allowed_for_csv_upload\"": []\n}\n"",
            ""select_as_create_table_as"": false,
            ""perm"": ""[main].(id:1)"",
            ""changed_on"": {
              ""__datetime__"": ""2019-04-19T10:28:59""
            },
            ""expose_in_sqllab"": true,
            ""impersonate_user"": false,
            ""id"": 1,
            ""allow_run_async"": false
          }
        }
      }
    },
```

A Slice object has a `params_dict` which contains the following. Note that this includes references to the `datasource_name` `wb_health_population`.

```python
 {'compare_lag': '10',
  'compare_suffix': 'o10Y',
  'country_fieldtype': 'cca3',
  'entity': 'country_code',
  'granularity_sqla': 'year',
  'groupby': ['region', 'country_code'],
  'limit': '25',
  'markup_type': 'markdown',
  'metric': 'sum__SP_POP_TOTL',
  'metrics': ['sum__SP_POP_TOTL'],
  'row_limit': 50000,
  'secondary_metric': 'sum__SP_POP_TOTL',
  'show_bubbles': True,
  'since': '1960-01-01',
  'time_range': '2014-01-01 : 2014-01-02',
  'until': 'now',
  'viz_type': 'treemap',
  'where': '',
  'remote_id': 708,
  'datasource_name': 'wb_health_population',
  'schema': 'wb_health_population',
  'database_name': 'main'}]
```

## Example Components
A Superset example is a SQL oriented dashboard and is composed of the following:

	* Physical database with tables loaded with a dataset
	* Superset Datasource object
	* Table object
		* Column objects
		* Metric objects
	* Dashboard object
	* One or more chart objects

All of the above with the exception of the Datasource.Database entry will need to be serialized, stored, contributed, approved, listed, deserialized and loaded by the example system. The Datasource.Database entry will need to be removed on exporting and replaced on importing of examples.

## Scope of Improvement
This proposal improves the superset example process in three areas: example creation, data storage and discoverability.

In order to improve the range and quality of Superset examples we need to first improve the process for creating and loading examples. While examples can be created programmatically, the more natural process is to use Superset to create them. This requires that we automate the process to persist and restore the combined state of the Superset Dashboard, Database and related objects as well as the contents of the datasource itself.

We also need a directory to which examples can be uploaded and a corresponding user interface and process of governance over that repository. This directory should be independent of the Superset project release process and code repository. Current processes for management of Superset’s code assets would transition directly to the management of its examples: changes would be created by creating Github issues and pull requests, data assets would be versioned and managed in a central repository.

Finally we need a user interface for finding, listing and loading examples from the repository. It should be simple and can exist as an `examples` command as part of the superset CLI which will have `export`, `list` , `import` and `remove` sub-commands.

## Example Repository Requirements
The requirement for example storage are that it have the following properties:

* Any user can view a list of all examples that have been published
* Any user can upload an example and publish it - pending approval
* Examples can be approved by committers by some mechanism
* Approved examples can be published/released by committers by some mechanism
* Management process/interface should match as closely as possible existing tools and practices.
* The project is separate from Superset to enable more rapid and independent release cycles

Git and Github are a desirable mechanism for publishing and approval but an undesirable mechanism for storage. Git LFS (Large File System) offers scalable storage while still using Github for project management. With a 2GB file limit and support on Github for 250 of these files, it scales well and is the proposed storage system. Other options are explored in the addendum.

### Example File Format

Examples should be defined and packaged in a standard manner and each example should be self contained in its own file system directory. The existing `Dashboard` export format adequately describes a dashboard, it’s charts and the associated datasources but is missing human readable fields describing the contents of the dataset and dashboard as well as the physical location of the contents of the tables the datasource metadata describes. These fields will be added to the Superset dashboard export format.

Data location information will be stored in a top level `files` key next to the existing `dashboards`, `slices` and `datasources` keys. A top level `description` field will fill out the fields of a description of the dataset in the examples directory. The existing `World’s Bank Data` example is extended below:

```
{
    “dashboards”: [ ... ],
    “datasources”: [ ... ],
    “description”: {
        ""created_at"": ""2019-05-20T16:20:24.883125"",
        ""description"": ""World Bank Data example about world health populations from 1960-2010."",
        ""file_count"": 1,
        ""license"": ""Apache 2.0""
        ""title"": ""World Bank Health Information"",
        ""total_rows"": 11770,
        ""total_size"": 22561353,
        ""total_size_mb"": 21.52,
    },
    “files”: [ 
        {
            ""file_name"": ""wb_health_population.csv.gz"",
            ""rows"": 11770,
            ""size"": 22561353,
            ""table_name"": ""wb_health_population""
        }
    ],
    “slices”: [ ... ]
}
```

The file layout for this example appears as follows, with the dashboard slug used as the directory name in the exported tarball and examples directory:

```bash
/
/world_health
/world_health/dashboard.json
/world_health/wb_health_population.csv.gz
```

### Example Data Table Format

In order to manage tables, to create and drop them, it is helpful to assume that an `Integer`  `id`  primary column is present. This is the case for all current example dashboard tables. In the future we may want to support tables with `uuid` or other types of primary column.

### New or Changed Public Interfaces

Changes include the addition of a `SQLALCHEMY_EXAMPLES_URI`  and `EXAMPLES_GIT_TAG` configuration keys and changes to the model classes as well as the CLI.

#### The `examples-data` Repository

Currently the example data is on Github at [apache-superset/examples-data](https://github.com/apache-superset/examples-data). This will continue to be the case, but this repository will now house both Dashboard metadata files as well as data files via Git LFS. Each example will have its own directory with its own `dashboard.json` and data files.

The README.md for this repository in new new form can be accessed here: [GitHub - rjurney/examples-data at lfs](https://github.com/rjurney/examples-data/tree/lfs).

#### `SQLALCHEMY_EXAMPLES_URI` Configuration Key

A `SQLALCHEMY_EXAMPLES_URI` configuration key in `superset/config.py` controls the default location to load examples into. This defaults to `~/.superset/examples.db` and can be over-ridden on a per-import basis using the `--database-uri/-d` option.

#### `EXAMPLE_REPOS_TAGS` Configuration Key

A `EXAMPLE_REPOS_TAGS ` configuration key in `superset/config.py` controls the locations of the examples from which to list and load. This can be set manually using the `--examples-repo/-r` option. The format of the items are a tuple containing the full repository name (ex. `apache-superset/examples-data`) and the git tag/branch of the repository to use (ex. `master`).

In `config.py` the default entry will look like:

```python
# Tuple format: Gitub repo full name, tag/branch
EXAMPLE_REPOS_TAGS = [
    ('rjurney/examples-data', 'v0.0.3')
]
```

#### `GITHUB_AUTH_TOKEN` Configuration Key

Github rate limits the contents API to 50 anonymous requests per hour. While this is unlikely to affect many users, the limit is by IP address which means users behind proxies or developers may sometimes encounter this. I have added the optional configuration key `GITHUB_AUTH_TOKEN`  which provides a way to add a [personal access token](https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line) to requests from the examples sub-commands. This increases the API limit.

#### UUIDs via sqlalchemy.types.uuid.UUIDType

In order to export or import assets in a way that doesn’t result in integer primary key chaos, we require that each serialized asset have a unique identifier. The `superset.models.helpers.ImportMixin` class has been used to provide a `uuid` field to the following classes:

* `Dashboard`
* `Datasource`
* `Database`
* `DruidCluster`
* `DruidMetric`
* `Slice`
* `SqlMetric`
* `SqlaTable`
* `TableColumn`

This required [patching FlaskAppBuilder](https://github.com/dpgaspar/Flask-AppBuilder/pull/1010) to support UUIDType as a String field type. This will be released with FlaskAppBuilder 2.1.4.

#### ImportMixin —> ImportExportMixin

I was confused by the role of `ImportMixin` in model class export, so accordingly I have renamed it to `ImportExportMixin`.

#### Command Line Interface

Example capabilities will be accessed via the command line (CLI) interface. The CLI will be changed, removing the `load_examples` command and replacing it with an `examples` subcommand with `export`,  `list`, `import` and `remove` commands beneath it.

##### Top Level CLI Menu

`superset —help`

```bash
Usage: superset [OPTIONS] COMMAND [ARGS]...

  This is a management script for the Superset application.

Options:
  --version  Show the flask version
  --help     Show this message and exit.

Commands:
  db                        Perform database migrations.
  examples                  Manages example chart/dashboards/datasets
  ...
```

##### Dashboard Exports Menu

The dashboard exports menu will be extended to add the `—dashboard-titles/-t`, `—export-data/-x` and `—export-data-dir/-d` options which facilitate example export.

`superset export_dashboards --help`

```bash
Usage: superset export_dashboards [OPTIONS]

  Export dashboards to JSON

Options:
  -f, --dashboard-file TEXT    Specify the the file to export to
  -p, --print_stdout           Print JSON to stdout
  -i, --dashboard-ids INTEGER  Specify dashboard id to export
  -t, --dashboard-titles TEXT  Specify dashboard title to export
  -x, --export-data            Export the dashboard's data tables as CSV
                               files.
  -d, --export-data-dir TEXT   Specify export directory path. Defaults to
                               '/tmp'.
  --help                       Show this message and exit.
```

##### Examples Top Level Menu

`superset examples —-help`

```bash
Usage: superset examples [OPTIONS] COMMAND [ARGS]...

  Manages example dashboards/datasets

Options:
  --help  Show this message and exit.

Commands:
  export  Export example dashboard/datasets
  list    List example dashboards/datasets
  import  Import an example dashboard/dataset
  remove  Remove an example dashboard/dataset
```

##### Example Creation Menu

The examples creation command can be used to export a Dashboard JSON file along with its underlying data tables into a gzipped tarball file. These assets can then be uncompressed in the [`examples-data`](https://github.com/apache-superset/examples-data) project, committed, pushed and then submitted by pull request.

`superset examples export --help`

```bash
Usage: superset examples export [OPTIONS]

  Export example dashboard/datasets

Options:
  -i, --dashboard-id INTEGER  Specify dashboard id to export
  -t, --dashboard-title TEXT  Specify dashboard title to export
  -d, --description TEXT      Description of new example  [required]
  -e, --example-title TEXT    Title for new example  [required]
  -f, --file-name TEXT        Specify export file name. Defaults to
                              dashboard.tar.gz
  -l, --license TEXT          License of the example dashboard
  --help                      Show this message and exit.
```

##### Examples List Menu

The examples list command will query the [`examples-data`](https://github.com/apache-superset/examples-data) repository and return a list of available examples along with their metadata. Examples can then be loaded from this list.

`superset examples list —-help`

```bash
Usage: superset examples list [OPTIONS]

  List example dashboards/datasets

Options:
  -r, --examples-repo TEXT  Full name of Github repository containing
                            examples, ex: 'apache-superset/examples-data'
  -r, --examples-tag TEXT   Tag or branch of Github repository containing
                            examples. Defaults to 'master'
  --help                    Show this message and exit.
```

The output looks table uses `prettytable` and looks like this:

```bash
+-------------------------------+-------------------------------------------------------+-----------+-------+-------+------------------+-----------------------+--------+
|             Title             |                      Description                      | Size (MB) |  Rows | Files |   Created Date   |       Repository      |  Tag   |
+-------------------------------+-------------------------------------------------------+-----------+-------+-------+------------------+-----------------------+--------+
| World Bank Health Information | World Bank Data example about world health populat... |   21.52   | 11770 |   1   | 2019-05-20T16:20 | rjurney/examples-data | v0.0.3 |
+-------------------------------+-------------------------------------------------------+-----------+-------+-------+------------------+-----------------------+--------+
```

##### Examples Import Menu

The examples import command will download example metadata and data files from the [`examples-data`](https://github.com/apache-superset/examples-data) repository and will load them into the examples database configured via the `SQLALCHEMY_EXAMPLES_URI` configuration key or using the value supplied by the `—database-uri/-d` option.

`superset examples load --help`

```bash
Usage: superset examples load [OPTIONS]

  Load an example dashboard/dataset

Options:
  -d, --database-uri TEXT       Database URI to load example to
  -r, --examples-revision TEXT  Revision of examples to list
  -e, --example-title TEXT      Title of example to load  [required]
  --help                        Show this message and exit.
```

##### Examples Remove Menu

The examples remove command will remove the installed example specified from the metadata tables as well as the examples database configured via the `SQLALCHEMY_EXAMPLES_URI` configuration key or using the value supplied by the `—database-uri/-d` option.

`superset examples remove --help`

```bash
Usage: superset examples remove [OPTIONS]

  Remove an example dashboard/dataset

Options:
  -e, --example-title TEXT  Title of example to remove  [required]
  -d, --database-uri TEXT   Database URI to load example to
  --help                    Show this message and exit.
```

### New Dependencies

Creating, removing, listing and loading examples can be handled without Git LFS but adding examples to the [`examples-data`](https://github.com/apache-superset/examples-data) Github repository will require it. This is a developer only requirement of the [`examples-data`](https://github.com/apache-superset/examples-data) project and not Superset itself. 

Git LFS can be [installed](https://github.com/git-lfs/git-lfs/wiki/Installation) via:

```bash
# OS X
brew install git-lfs
# port install git-lfs
git lfs install
```

```bash
# Ubuntu
curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | sudo bash
sudo apt-get install git-lfs
git lfs install
```

### Migration Plan and Compatibility

Backwards compatibility will be maintained. Existing dashboard export JSON files will continue to work and all existing dashboard examples and their data files will be ported to the new system and stored in the Superset examples repository.

#### Cross-Repository Management

As both the examples and Superset evolve, some will work with newer versions of Superset than others. We must strive to keep all of them up to date, but should also try to make them backwards compatible. It will thus be inevitable that `incubator-superset` releases will have to point to a branch/tag of `superset-examples`. 

A given release of superset must reference a certain version of the `examples-data` repository. This is achieved via the `EXAMPLES_GIT_TAG` configuration key. Alternatively, this could be a branch rather than a tag to facilitate the ongoing update of examples.",incubator-superset,apache,rjurney,42149,MDQ6VXNlcjQyMTQ5,https://avatars0.githubusercontent.com/u/42149?v=4,,https://api.github.com/users/rjurney,https://github.com/rjurney,https://api.github.com/users/rjurney/followers,https://api.github.com/users/rjurney/following{/other_user},https://api.github.com/users/rjurney/gists{/gist_id},https://api.github.com/users/rjurney/starred{/owner}{/repo},https://api.github.com/users/rjurney/subscriptions,https://api.github.com/users/rjurney/orgs,https://api.github.com/users/rjurney/repos,https://api.github.com/users/rjurney/events{/privacy},https://api.github.com/users/rjurney/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
217,https://api.github.com/repos/apache/incubator-superset/issues/7565,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7565/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7565/comments,https://api.github.com/repos/apache/incubator-superset/issues/7565/events,https://github.com/apache/incubator-superset/issues/7565,446529282,MDU6SXNzdWU0NDY1MjkyODI=,7565,"Spreadsheet, or Google Sheets, data source","[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,10,2019-05-21T10:03:13Z,2019-10-20T22:00:46Z,,NONE,"We have internal stakeholders who regularly work with data in spreadsheets. We would like to make it simple for them to get spreadsheet data into the data portal. 

Since our staff use Google Sheets (and Drive), it would make sense that they could upload the data spreadsheets to google Drive and then connect them to Superset for dashboarding.

Alternatively, they could upload the spreadsheet to Superset, via the UI.
",incubator-superset,apache,brylie,17307,MDQ6VXNlcjE3MzA3,https://avatars1.githubusercontent.com/u/17307?v=4,,https://api.github.com/users/brylie,https://github.com/brylie,https://api.github.com/users/brylie/followers,https://api.github.com/users/brylie/following{/other_user},https://api.github.com/users/brylie/gists{/gist_id},https://api.github.com/users/brylie/starred{/owner}{/repo},https://api.github.com/users/brylie/subscriptions,https://api.github.com/users/brylie/orgs,https://api.github.com/users/brylie/repos,https://api.github.com/users/brylie/events{/privacy},https://api.github.com/users/brylie/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
218,https://api.github.com/repos/apache/incubator-superset/issues/7510,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7510/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7510/comments,https://api.github.com/repos/apache/incubator-superset/issues/7510/events,https://github.com/apache/incubator-superset/issues/7510,444191934,MDU6SXNzdWU0NDQxOTE5MzQ=,7510,[WiP] [SIP-19] Simplify Superset's set of permissions ,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}]",open,False,,[],,1,2019-05-15T01:15:14Z,2019-05-17T16:33:13Z,,MEMBER,"## [SIP-19] Simplify Superset's permissions 

### Motivation

First let's clarify that this is about feature-related permissions, as opposed to data-access permissions. Also note that what I'll refer to as an ""atomic permission"" is a combination of what FAB calls a ""view_menu"" and a ""permission"".

Also note that this change will be powered by recently released FAB features enabling more control over permission definition, as well as migration tools making it straightforward to map and migrate existing role from old to new permission. More information about related FAB features can be found here:
https://flask-appbuilder.readthedocs.io/en/latest/security.html#permission-customization 

The bulk of feature-related permissions are dynamically generated by Flask App Builder (FAB). For context, FAB generates:
* a set of permission (`can_show`, `can_list`, `can_add`, `can_download`, `can_delete`, `can_update`, `can_muldelete `) for each `ModelView`. Typically each model has one or many ModelViews
* a perm for each view method (commonly referred to as ""endpoint"")
* a perm for each menu entry

Now Superset overtime has grown to ship with ~280+ permissions. Most of these permissions are unintelligible to users, the UI that exposes them suffers from too much options. In the current state, it almost only makes sense to generate roles programmatically since the cardinality of permissions is so high. 

While we want the atomicity of permissions to cover most use cases, we want for permissions to be easy to document and reason about. In cases where it would be unreasonable to have one permission and not another closely related one, we'd like to merge them as a single permission.

### Proposed Change

First, group ModelView-related permissions into 2 simple permissions: `read` and `write`, based on this mapping rule:
```
    method_permission_name = {
        'add': 'write',
        'delete': 'write',
        'download': 'write',
        'edit': 'write',
        'list': 'read',
        'muldelete': 'write',
        'show': 'read',
    }
```
This assumes that if you can edit, you can also delete or add (`write`). Similarly if you can `read` you can `show` or `list`.

Second, rename and group ModelView names. For clarity drop the ""ModelView"" suffix and match the Model's name. For examples, `DashboardModelView` view_menu becomes `Dashboard` for permission purposes. This in turns takes care of the secondary ModelView derivatives like `DashboardAsyncModelView` and groups it with other `Dashboard`-related ModelView for permission-related purposes.

Third, models that are related and tightly coupled, for example every Models living around the connectors should refer to the same set of permissions. DruidDatasource, SqlaTables, and their respective Metric and Column models can all go under `Datasource` permissions. Either you can read or write on `Datasource` or you don't. No one needs to be able to edit metrics but unable to edit columns or datasource property. 

This results in the following mappings (Google Spreadsheet):
https://docs.google.com/spreadsheets/d/1VzBRUsrf_aMS_QkMXoIaLwpETfJmH3qms3kePywBESI/edit?usp=sharing

Additionally the notion of `can_write_owned` will be added [only] for models implementing the idea of ownership, like `Dashboard`, `Chart` and `Datasource`. This logic is currently implemented in different places in the code and should be standardized. Implementation details aren't clear at this point, but may come in the form of `Model` and `ModelView` mixin classes.

Unclear is whether `can_delete` should be part of `can_write`! This needs to be [DISCUSSed]

### New or Changed Public Interfaces

While `Alpha` and `Gamma` will be migrated and effectively the same, and existing roles converged, there may be existing scripts that would be incompatible with this new world. 

### New dependencies

N/A

### Migration Plan and Compatibility

Users will have to run `flask fab security-converge` as part of releasing the new version including this feature.

### Related future work

* mapping views (endpoint) permission to existing ModelView-related permissions. For instance if we had an existing view permissions called ""Superset - delete_dashboards"", we could map it to the ModelView atomic permission `Dashboard - can_write`

### Ongoing work
https://github.com/apache/incubator-superset/pull/7501",incubator-superset,apache,mistercrunch,487433,MDQ6VXNlcjQ4NzQzMw==,https://avatars1.githubusercontent.com/u/487433?v=4,,https://api.github.com/users/mistercrunch,https://github.com/mistercrunch,https://api.github.com/users/mistercrunch/followers,https://api.github.com/users/mistercrunch/following{/other_user},https://api.github.com/users/mistercrunch/gists{/gist_id},https://api.github.com/users/mistercrunch/starred{/owner}{/repo},https://api.github.com/users/mistercrunch/subscriptions,https://api.github.com/users/mistercrunch/orgs,https://api.github.com/users/mistercrunch/repos,https://api.github.com/users/mistercrunch/events{/privacy},https://api.github.com/users/mistercrunch/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
219,https://api.github.com/repos/apache/incubator-superset/issues/7501,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7501/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7501/comments,https://api.github.com/repos/apache/incubator-superset/issues/7501/events,https://github.com/apache/incubator-superset/pull/7501,443713444,MDExOlB1bGxSZXF1ZXN0Mjc4NTIyMTUy,7501,[WiP] Simplify Superset's permissions,"[{'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}, {'id': 1331560260, 'node_id': 'MDU6TGFiZWwxMzMxNTYwMjYw', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/L', 'name': 'size/L', 'color': '6D53B9', 'default': False, 'description': ''}]",open,False,,[],,4,2019-05-14T05:12:35Z,2019-09-28T02:48:30Z,,MEMBER,"A new feature in FAB 2.1 allows us to assign permission names.

This allows us to greatly simplify the security model in Superset, by
redefining the atomicity of permissions, and effectively aggregating
sets of permissions to individual ones.

FAB docs about this feature
https://flask-appbuilder.readthedocs.io/en/latest/security.html#permission-customization

Note that this requires running commands:
```bash
flask fab security-converge
```
These commands will reassign and merge old permissions to new ones appropriately.

# TODO
* [ ] further aggregate and cleanup perms
* [ ] out-of-scope for this PR, migrate individual views, and assign perms that match related ModelViews perms
* [ ] break down the main `views/core.py` module into smaller modules, assign proper perms
",incubator-superset,apache,mistercrunch,487433,MDQ6VXNlcjQ4NzQzMw==,https://avatars1.githubusercontent.com/u/487433?v=4,,https://api.github.com/users/mistercrunch,https://github.com/mistercrunch,https://api.github.com/users/mistercrunch/followers,https://api.github.com/users/mistercrunch/following{/other_user},https://api.github.com/users/mistercrunch/gists{/gist_id},https://api.github.com/users/mistercrunch/starred{/owner}{/repo},https://api.github.com/users/mistercrunch/subscriptions,https://api.github.com/users/mistercrunch/orgs,https://api.github.com/users/mistercrunch/repos,https://api.github.com/users/mistercrunch/events{/privacy},https://api.github.com/users/mistercrunch/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/7501,https://github.com/apache/incubator-superset/pull/7501,https://github.com/apache/incubator-superset/pull/7501.diff,https://github.com/apache/incubator-superset/pull/7501.patch,,,,,,,,,,,,,,,,,,
220,https://api.github.com/repos/apache/incubator-superset/issues/7425,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7425/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7425/comments,https://api.github.com/repos/apache/incubator-superset/issues/7425/events,https://github.com/apache/incubator-superset/issues/7425,439271000,MDU6SXNzdWU0MzkyNzEwMDA=,7425,[SIP-18] Scheduling queries from SQL Lab,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 412197861, 'node_id': 'MDU6TGFiZWw0MTIxOTc4NjE=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.SQLLab', 'name': '.SQLLab', 'color': 'ecf0f1', 'default': False, 'description': ''}]",open,False,,[],,1,2019-05-01T18:37:46Z,2019-06-04T14:14:48Z,,CONTRIBUTOR,"## [SIP] Proposal for scheduling queries from SQL Lab

### Motivation

A common approach for building dashboards involves:

1. User writes a complex query in SQL Lab, often with joins, to get the data they need.
2. User clicks ""visualize"", to explore the data.
3. User builds a visualization. This step is usually slow, since the SQL query has to be recomputed every time.
4. User builds a dashboard using the visualization. It's often slow, since the SQL query has to be recomputed every time.
5. In order to get fresh data in the dashboard, user has to either update the underlying SQL query or write expensive queries using macros (scanning 7 days of data, for example).

We want to optimize that process, allowing the user to write **one** query in SQL Lab that runs periodically. The query should scan data only for its interval (1 day of data for a daily schedule, for example). This way dashboards can be kept up-to-date with cheap queries.

In this SIP, I propose a way of scheduling queries from within SQL Lab. The actual scheduling of the query is left to an external service (like [Apache Airflow](https://airflow.apache.org), for example). Superset will simply enrich saved queries with additional metadata for the external scheduler.

The proposal is scheduler-agnostic, and can be used with Apache Airflow, Luigi or any other scheduler, since the form for collecting the metadata needed is defined in `config.py` using [react-jsonschema-form](https://github.com/mozilla-services/react-jsonschema-form).

### Proposed Change

In this SIP we propose adding a new feature flag called `SCHEDULED_QUERIES`. Instead of a boolean, the feature flag would be a dictionary with two keys, `JSONSCHEMA` and `UISCHEMA` (see discussion [here](https://github.com/apache/incubator-superset/pull/6943#issuecomment-469990969) for using a dict as a feature flag). As an example:

```python
FEATURE_FLAGS = {
    # Configuration for scheduling queries from SQL Lab. This information is
    # collected when the user clicks ""Schedule query"", and saved into the `extra`
    # field of saved queries.
    # See: https://github.com/mozilla-services/react-jsonschema-form
    'SCHEDULED_QUERIES': {
        'JSONSCHEMA': {
            'title': 'Schedule',
            'description': (
                'In order to schedule a query, you need to specify when it '
                'should start running, when it should stop running, and how '
                'often it should run. You can also optionally specify '
                'dependencies that should be met before the query is '
                'executed. Please read the documentation for best practices '
                'and more information on how to specify dependencies.'
            ),
            'type': 'object',
            'properties': {
                'output_table': {
                    'type': 'string',
                    'title': 'Output table name',
                },
                'start_date': {
                    'type': 'string',
                    'format': 'date-time',
                    'title': 'Start date',
                },
                'end_date': {
                    'type': 'string',
                    'format': 'date-time',
                    'title': 'End date',
                },
                'schedule_interval': {
                    'type': 'string',
                    'title': 'Schedule interval',
                },
                'dependencies': {
                    'type': 'array',
                    'title': 'Dependencies',
                    'items': {
                        'type': 'string',
                    },
                },
            },
        },
        'UISCHEMA': {
            'schedule_interval': {
                'ui:placeholder': '@daily, @weekly, etc.',
            },
            'dependencies': {
                'ui:help': (
                    'Check the documentation for the correct format when '
                    'defining dependencies.'
                ),
            },
        },
    },
}
```

The configuration is used to dynamically generate a form for collecting the extra metadata needed in order to schedule the query. The example above should work for many schedulers, but it can also be easily adapted (or completely changed) depending on the needs.

If this flag is present, SQL Lab will show a button label ""Schedule Query"":

<img width=""594"" alt=""Screen Shot 2019-05-01 at 11 29 46 AM"" src=""https://user-images.githubusercontent.com/1534870/57034484-79c2f680-6c04-11e9-900e-7dc05e40bf6b.png"">

Clicking it pops up a modal:

<img width=""632"" alt=""Screen Shot 2019-05-01 at 11 31 05 AM"" src=""https://user-images.githubusercontent.com/1534870/57034550-a840d180-6c04-11e9-957f-258d3270a7f6.png"">

When the user clicks ""Submit"" the query is saved (just like a saved query) with the schedule information stored in its JSON metadata. The user can edit the query, like any saved query, and the scheduler can fetch the scheduled queries using the API provided by FAB.

### New or Changed Public Interfaces

None.

### New dependencies

[react-jsonschema-form](https://github.com/mozilla-services/react-jsonschema-form) is an Apache 2 licensed project created by Mozilla. It was last updated 14 days ago, and has ~35k weekly downloads.

### Migration Plan and Compatibility

None.

### Rejected Alternatives

We consider using celery workers to run the queries, but this would add a lot of complexity for backfills, alerting, etc. The proposed approach leverages existing schedulers, leaving to Superset only the task of annotating queries with extra metadata.",incubator-superset,apache,betodealmeida,1534870,MDQ6VXNlcjE1MzQ4NzA=,https://avatars3.githubusercontent.com/u/1534870?v=4,,https://api.github.com/users/betodealmeida,https://github.com/betodealmeida,https://api.github.com/users/betodealmeida/followers,https://api.github.com/users/betodealmeida/following{/other_user},https://api.github.com/users/betodealmeida/gists{/gist_id},https://api.github.com/users/betodealmeida/starred{/owner}{/repo},https://api.github.com/users/betodealmeida/subscriptions,https://api.github.com/users/betodealmeida/orgs,https://api.github.com/users/betodealmeida/repos,https://api.github.com/users/betodealmeida/events{/privacy},https://api.github.com/users/betodealmeida/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
221,https://api.github.com/repos/apache/incubator-superset/issues/7418,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7418/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7418/comments,https://api.github.com/repos/apache/incubator-superset/issues/7418/events,https://github.com/apache/incubator-superset/pull/7418,439003707,MDExOlB1bGxSZXF1ZXN0Mjc0OTA4MjEz,7418,Tagging frontend,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 405242327, 'node_id': 'MDU6TGFiZWw0MDUyNDIzMjc=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.js', 'name': '.js', 'color': 'ecf0f1', 'default': False, 'description': 'Javascript'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}, {'id': 395957126, 'node_id': 'MDU6TGFiZWwzOTU5NTcxMjY=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.ui', 'name': '.ui', 'color': 'ecf0f1', 'default': False, 'description': ''}, {'id': 395962873, 'node_id': 'MDU6TGFiZWwzOTU5NjI4NzM=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.ux', 'name': '.ux', 'color': 'ecf0f1', 'default': False, 'description': ''}, {'id': 757538559, 'node_id': 'MDU6TGFiZWw3NTc1Mzg1NTk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/lyft', 'name': 'lyft', 'color': 'ff00bf', 'default': False, 'description': 'on Lyft roadmap'}, {'id': 1145053911, 'node_id': 'MDU6TGFiZWwxMTQ1MDUzOTEx', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/review', 'name': 'review', 'color': 'ed82dd', 'default': False, 'description': 'This PR is ready for code review'}, {'id': 1329338104, 'node_id': 'MDU6TGFiZWwxMzI5MzM4MTA0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/XL', 'name': 'size/XL', 'color': '5C3BBc', 'default': False, 'description': ''}]",open,False,,[],,8,2019-04-30T22:24:50Z,2019-09-27T17:44:26Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [ ] Bug Fix
- [X] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY
<!--- Describe the change below, including rationale and design decisions -->

This PR introduces the frontend for tags, behind a feature flag:

```python
DEFAULT_FEATURE_FLAGS = {                                                                                              │
    'TAGGING_SYSTEM': True,                                                                                            │
}
```

When the feature is enabled, owners can tag charts:

![tag_charts](https://user-images.githubusercontent.com/1534870/58210424-36f1bd00-7c9e-11e9-9811-d5ffd15c654a.gif)

And dashboards:

![tag_dash](https://user-images.githubusercontent.com/1534870/58210432-3b1dda80-7c9e-11e9-914b-340b39b3ff11.gif)

Note that tags can be autocompleted.

A user who's not an owner will see non-editable tags:

<img width=""317"" alt=""Screen Shot 2019-05-22 at 2 32 41 PM"" src=""https://user-images.githubusercontent.com/1534870/58210533-7d471c00-7c9e-11e9-877d-de1bcfa762aa.png"">

When clicking on a tag, the user is taken to a page with content that has that tag:

![tag_link](https://user-images.githubusercontent.com/1534870/58210660-e890ee00-7c9e-11e9-9021-f25d79fcf2c2.gif)

<!-- ### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF -->
<!--- Skip this if not applicable -->

### TEST PLAN
<!--- What steps should be taken to verify the changes -->

Tested locally. We've also been using this at Lyft for months.

### ADDITIONAL INFORMATION
<!--- Check any relevant boxes with ""x"" -->
<!--- HINT: Include ""Fixes #nnn"" if you are fixing an existing issue -->
- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [ ] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS

@mistercrunch @williaster @khtruong ",incubator-superset,apache,betodealmeida,1534870,MDQ6VXNlcjE1MzQ4NzA=,https://avatars3.githubusercontent.com/u/1534870?v=4,,https://api.github.com/users/betodealmeida,https://github.com/betodealmeida,https://api.github.com/users/betodealmeida/followers,https://api.github.com/users/betodealmeida/following{/other_user},https://api.github.com/users/betodealmeida/gists{/gist_id},https://api.github.com/users/betodealmeida/starred{/owner}{/repo},https://api.github.com/users/betodealmeida/subscriptions,https://api.github.com/users/betodealmeida/orgs,https://api.github.com/users/betodealmeida/repos,https://api.github.com/users/betodealmeida/events{/privacy},https://api.github.com/users/betodealmeida/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/7418,https://github.com/apache/incubator-superset/pull/7418,https://github.com/apache/incubator-superset/pull/7418.diff,https://github.com/apache/incubator-superset/pull/7418.patch,,,,,,,,,,,,,,,,,,
222,https://api.github.com/repos/apache/incubator-superset/issues/7406,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7406/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7406/comments,https://api.github.com/repos/apache/incubator-superset/issues/7406/events,https://github.com/apache/incubator-superset/issues/7406,438417602,MDU6SXNzdWU0Mzg0MTc2MDI=,7406,Pivot table null values in columns,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 238899554, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/inactive', 'name': 'inactive', 'color': '2c3e50', 'default': False, 'description': 'was inactive for >= 30 days'}]",open,False,,[],,9,2019-04-29T17:10:29Z,2019-12-21T09:35:27Z,,NONE,"A clear and concise description of what the bug is.
After setup and upgrade of old DB in the superset, I am facing issue related to pivot table columns showing as null.

### Expected results

It should show 0 as per the previous superset and also Show totals should display actual sum instead of null.

what you expected to happen.

### Actual results

what actually happens.

#### Screenshots
![Screenshot_2019-04-29 BU Not Assigned by Destination](https://user-images.githubusercontent.com/46744980/56913621-bfca6e00-6acf-11e9-888c-8f4bfececb56.png)

If applicable, add screenshots to help explain your problem.

#### How to reproduce the bug

1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

### Environment

(please complete the following information):

- superset version: [e.g. `v0.29`, `master`, `commit`]
- python version: `python --version`
- node.js version: `node -v`
- npm version: `npm -v`

### Checklist

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.

### Additional context

Add any other context about the problem here.
",incubator-superset,apache,srikanth-reddy-m,46744980,MDQ6VXNlcjQ2NzQ0OTgw,https://avatars1.githubusercontent.com/u/46744980?v=4,,https://api.github.com/users/srikanth-reddy-m,https://github.com/srikanth-reddy-m,https://api.github.com/users/srikanth-reddy-m/followers,https://api.github.com/users/srikanth-reddy-m/following{/other_user},https://api.github.com/users/srikanth-reddy-m/gists{/gist_id},https://api.github.com/users/srikanth-reddy-m/starred{/owner}{/repo},https://api.github.com/users/srikanth-reddy-m/subscriptions,https://api.github.com/users/srikanth-reddy-m/orgs,https://api.github.com/users/srikanth-reddy-m/repos,https://api.github.com/users/srikanth-reddy-m/events{/privacy},https://api.github.com/users/srikanth-reddy-m/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
223,https://api.github.com/repos/apache/incubator-superset/issues/7259,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7259/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7259/comments,https://api.github.com/repos/apache/incubator-superset/issues/7259/events,https://github.com/apache/incubator-superset/issues/7259,431246069,MDU6SXNzdWU0MzEyNDYwNjk=,7259,[SIP-17] Proposal for using new FAB REST API,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}]",open,False,,[],,2,2019-04-10T00:00:37Z,2019-05-13T15:22:07Z,,CONTRIBUTOR,"Motivation
========
Take advantage of the new FAB REST API feature available since version 1.13.0. The previous
API endpoints available inside ``ModelView`` did not follow a strict RESTful convention, and will be removed in 2 to 3 minors. The following are some improvements:

- API resource protection using JWT and/or flask-login signed cookies (current authentication method). API defaults to JWT only.
- Optional CRUD RESTful API using similar class overrides as ``ModelViews``
- Delegate base API support like handling exceptions to FAB.
- Leverage Rison style URI arguments out of the box with optional JSON schema validation
- OpenAPI automatic spec generation for CRUD, and easy generation for BaseApi method endpoints

Docs: https://flask-appbuilder.readthedocs.io/en/latest/rest_api.html

Proposed Change
==============
I propose migrating current views.Api class to BaseApi. So Superset will have it's new API properly anchored on ``/api/v1/<resource>/`` and start using FAB's new feature.

- The endpoint ``/api/v1/query`` does not need to change it's route or HTTP method.

- The endpoint ``/api/v1/form_data/`` would be changed to /api/v1/slice/<id> using ``ModelRestApi`` on readonly mode (can_get, can_info only permissions).

New or Changed Public Interfaces
==========================
This SIP affects the following API endpoints:

- **/api/v1/form_data** GET -> **/api/v1/slice** GET: exposing a get item and get list leveraging complex filters, pagination, internationalization, ordering, custom select columns (all the way to the database)

Optional Swagger UI for OpenAPI spec visualization.

New dependencies
===============
New dependencies were added to FAB 1.13.0:

- marshmallow
- marshmallow_enum
- marshmallow-sqlalchemy
- Flask-JWT-Extended
- prison
- apispec[yaml]

Migration Plan and Compatibility
=========================
A side by side migration plan can be achieved. Since the new API endpoint is exposed on a different route. Access to the old endpoint would log a deprecation log message.

Rejected Alternatives
================
",incubator-superset,apache,dpgaspar,4025227,MDQ6VXNlcjQwMjUyMjc=,https://avatars1.githubusercontent.com/u/4025227?v=4,,https://api.github.com/users/dpgaspar,https://github.com/dpgaspar,https://api.github.com/users/dpgaspar/followers,https://api.github.com/users/dpgaspar/following{/other_user},https://api.github.com/users/dpgaspar/gists{/gist_id},https://api.github.com/users/dpgaspar/starred{/owner}{/repo},https://api.github.com/users/dpgaspar/subscriptions,https://api.github.com/users/dpgaspar/orgs,https://api.github.com/users/dpgaspar/repos,https://api.github.com/users/dpgaspar/events{/privacy},https://api.github.com/users/dpgaspar/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
224,https://api.github.com/repos/apache/incubator-superset/issues/7246,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7246/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7246/comments,https://api.github.com/repos/apache/incubator-superset/issues/7246/events,https://github.com/apache/incubator-superset/issues/7246,430697531,MDU6SXNzdWU0MzA2OTc1MzE=,7246,Forced Directed graph is cut off and returns [object Object] after resize,"[{'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,1,2019-04-08T23:13:17Z,2019-06-08T21:09:38Z,,CONTRIBUTOR,"<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
""License""); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar. (There is a similar issue https://github.com/apache/incubator-superset/issues/6525 that has been closed)


### Superset version
Master

### Expected results
To view the entire force directed graph and for it to continue to display after resize

### Actual results
<img width=""1035"" alt=""Screen Shot 2019-04-08 at 4 10 48 PM"" src=""https://user-images.githubusercontent.com/47833996/55762743-fe14c600-5a18-11e9-9e56-5eaafc0e6359.png"">

After resizing:
<img width=""955"" alt=""Screen Shot 2019-04-08 at 4 11 02 PM"" src=""https://user-images.githubusercontent.com/47833996/55762752-040aa700-5a19-11e9-839a-27e5085724aa.png"">


### Steps to reproduce
1. Open sample force-directed graph Energy Force Layout
2. Resize window

",incubator-superset,apache,khtruong,47833996,MDQ6VXNlcjQ3ODMzOTk2,https://avatars1.githubusercontent.com/u/47833996?v=4,,https://api.github.com/users/khtruong,https://github.com/khtruong,https://api.github.com/users/khtruong/followers,https://api.github.com/users/khtruong/following{/other_user},https://api.github.com/users/khtruong/gists{/gist_id},https://api.github.com/users/khtruong/starred{/owner}{/repo},https://api.github.com/users/khtruong/subscriptions,https://api.github.com/users/khtruong/orgs,https://api.github.com/users/khtruong/repos,https://api.github.com/users/khtruong/events{/privacy},https://api.github.com/users/khtruong/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
225,https://api.github.com/repos/apache/incubator-superset/issues/7241,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7241/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7241/comments,https://api.github.com/repos/apache/incubator-superset/issues/7241/events,https://github.com/apache/incubator-superset/issues/7241,430578349,MDU6SXNzdWU0MzA1NzgzNDk=,7241,Annotation Layer Tooltip transparency Issue,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1700257670, 'node_id': 'MDU6TGFiZWwxNzAwMjU3Njcw', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.frontend', 'name': '.frontend', 'color': 'c5def5', 'default': False, 'description': ''}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,3,2019-04-08T17:47:51Z,2019-11-27T00:26:18Z,,NONE,"<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
""License""); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
Make sure these boxes are checked before submitting your issue - thank you!

- [X] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [X] I have reproduced the issue with at least the latest released version of superset.
- [X] I have checked the issue tracker for the same issue and I haven't found one similar.


### Superset version
0.28

### Expected results
Annotation Layer chart overlap

### Actual results
Annotation layer tooltip dont modified the background.

### Steps to reproduce
Add a annotation in any chart, on visualization the layer will not overlap the chart.

![annotation layer error](https://user-images.githubusercontent.com/48967533/55745220-1bdc2e00-5a0d-11e9-82c9-b6f03d4f95a6.png)
![annotation layer conf](https://user-images.githubusercontent.com/48967533/55745224-1ed71e80-5a0d-11e9-95fa-2939d49c9226.png)


",incubator-superset,apache,lucasapaixao,48967533,MDQ6VXNlcjQ4OTY3NTMz,https://avatars2.githubusercontent.com/u/48967533?v=4,,https://api.github.com/users/lucasapaixao,https://github.com/lucasapaixao,https://api.github.com/users/lucasapaixao/followers,https://api.github.com/users/lucasapaixao/following{/other_user},https://api.github.com/users/lucasapaixao/gists{/gist_id},https://api.github.com/users/lucasapaixao/starred{/owner}{/repo},https://api.github.com/users/lucasapaixao/subscriptions,https://api.github.com/users/lucasapaixao/orgs,https://api.github.com/users/lucasapaixao/repos,https://api.github.com/users/lucasapaixao/events{/privacy},https://api.github.com/users/lucasapaixao/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
226,https://api.github.com/repos/apache/incubator-superset/issues/7143,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7143/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7143/comments,https://api.github.com/repos/apache/incubator-superset/issues/7143/events,https://github.com/apache/incubator-superset/issues/7143,426109587,MDU6SXNzdWU0MjYxMDk1ODc=,7143,Error intializing superset after installation,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}, {'id': 395943469, 'node_id': 'MDU6TGFiZWwzOTU5NDM0Njk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.install', 'name': '.install', 'color': 'ecf0f1', 'default': False, 'description': 'Installation'}]",open,False,,[],,18,2019-03-27T18:06:19Z,2019-11-08T11:01:59Z,,NONE,"Hi. I saw an issue with the same output, but all documentation links given there do not exist anymore
https://github.com/apache/incubator-superset/issues/316

Im installing superset in an Amazon EC2 instance. I can't find the superset version too. 




### Expected results
Open superset main page

### Actual results

![image](https://user-images.githubusercontent.com/18239139/55100990-b2613480-5088-11e9-850e-069c0673e2ba.png)


sqlalchemy.exc.OperationalError
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: user_attribute
[SQL: SELECT user_attribute.welcome_dashboard_id AS user_attribute_welcome_dashboard_id 
FROM user_attribute 
WHERE user_attribute.user_id = ?]
[parameters: ('1',)]
(Background on this error at: http://sqlalche.me/e/e3q8

Traceback (most recent call last):
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/engine/base.py"", line 1244, in _execute_context
    cursor, statement, parameters, context
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/engine/default.py"", line 552, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: user_attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/flask/app.py"", line 1997, in __call__
    return self.wsgi_app(environ, start_response)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/flask/app.py"", line 1985, in wsgi_app
    response = self.handle_exception(e)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/flask/app.py"", line 1540, in handle_exception
    reraise(exc_type, exc_value, tb)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/flask/_compat.py"", line 33, in reraise
    raise value
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/flask/app.py"", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/flask/app.py"", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/flask/app.py"", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/flask/_compat.py"", line 33, in reraise
    raise value
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/flask/app.py"", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/flask/app.py"", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/superset/views/core.py"", line 2768, in welcome
    .filter_by(user_id=g.user.get_id())
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/orm/query.py"", line 3305, in scalar
    ret = self.one()
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/orm/query.py"", line 3275, in one
    ret = self.one_or_none()
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/orm/query.py"", line 3244, in one_or_none
    ret = list(self)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/orm/query.py"", line 3317, in __iter__
    return self._execute_and_instances(context)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/orm/query.py"", line 3342, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/engine/base.py"", line 988, in execute
    return meth(self, multiparams, params)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/sql/elements.py"", line 287, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/engine/base.py"", line 1107, in _execute_clauseelement
    distilled_params,
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/engine/base.py"", line 1248, in _execute_context
    e, statement, parameters, cursor, context
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/engine/base.py"", line 1466, in _handle_dbapi_exception
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/util/compat.py"", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/util/compat.py"", line 128, in reraise
    raise value.with_traceback(tb)
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/engine/base.py"", line 1244, in _execute_context
    cursor, statement, parameters, context
  File ""/home/ubuntu/git/superset/venv/lib/python3.6/site-packages/sqlalchemy/engine/default.py"", line 552, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: user_attribute
[SQL: SELECT user_attribute.welcome_dashboard_id AS user_attribute_welcome_dashboard_id 
FROM user_attribute 
WHERE user_attribute.user_id = ?]
[parameters: ('1',)]
(Background on this error at: http://sqlalche.me/e/e3q8)



### Steps to reproduce
=>  install superset as the guide indicates
=>  run this in the superset dir:
. venv/bin/activate
 superset runserver -p 8080 -d
=> access superset from the browser



",incubator-superset,apache,danelhe,18239139,MDQ6VXNlcjE4MjM5MTM5,https://avatars2.githubusercontent.com/u/18239139?v=4,,https://api.github.com/users/danelhe,https://github.com/danelhe,https://api.github.com/users/danelhe/followers,https://api.github.com/users/danelhe/following{/other_user},https://api.github.com/users/danelhe/gists{/gist_id},https://api.github.com/users/danelhe/starred{/owner}{/repo},https://api.github.com/users/danelhe/subscriptions,https://api.github.com/users/danelhe/orgs,https://api.github.com/users/danelhe/repos,https://api.github.com/users/danelhe/events{/privacy},https://api.github.com/users/danelhe/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
227,https://api.github.com/repos/apache/incubator-superset/issues/7129,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7129/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7129/comments,https://api.github.com/repos/apache/incubator-superset/issues/7129/events,https://github.com/apache/incubator-superset/issues/7129,425462870,MDU6SXNzdWU0MjU0NjI4NzA=,7129,Allow reordering of table view columns,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,3,2019-03-26T14:46:29Z,2019-11-19T19:29:14Z,,NONE,"<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
""License""); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.


### Superset version
Commit SHA: `b3c4bd95efd5f74e822b7ed7a2db043ba7b8c6cf`

### Problem
Columns displayed in the table view should be rearrangeable once chosen. They always follow the order in which they were selected, so that if you want the last column to be the first one, you have to remove all the columns and select them again in the correct order. An image of the current column selector is shown below:
![image](https://user-images.githubusercontent.com/16457073/55005834-03b3ea00-4fdd-11e9-90e3-34d8e41b6629.png)
This issue also happens on the `GROUP BY` columns.

### Possible solution
This could be solved by using the controller used in the Filter Box visualization to select the available filters:
![image](https://user-images.githubusercontent.com/16457073/55006353-e5022300-4fdd-11e9-917f-03e09144cfda.png)
In that case, it is possible to rearrange the filters as desired without deleting and adding them again and again.

",incubator-superset,apache,ju4nlu,16457073,MDQ6VXNlcjE2NDU3MDcz,https://avatars0.githubusercontent.com/u/16457073?v=4,,https://api.github.com/users/ju4nlu,https://github.com/ju4nlu,https://api.github.com/users/ju4nlu/followers,https://api.github.com/users/ju4nlu/following{/other_user},https://api.github.com/users/ju4nlu/gists{/gist_id},https://api.github.com/users/ju4nlu/starred{/owner}{/repo},https://api.github.com/users/ju4nlu/subscriptions,https://api.github.com/users/ju4nlu/orgs,https://api.github.com/users/ju4nlu/repos,https://api.github.com/users/ju4nlu/events{/privacy},https://api.github.com/users/ju4nlu/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
228,https://api.github.com/repos/apache/incubator-superset/issues/7091,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/7091/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/7091/comments,https://api.github.com/repos/apache/incubator-superset/issues/7091/events,https://github.com/apache/incubator-superset/pull/7091,424080092,MDExOlB1bGxSZXF1ZXN0MjYzNTExNDM4,7091,add kerberos for druid,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 412635979, 'node_id': 'MDU6TGFiZWw0MTI2MzU5Nzk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.security', 'name': '.security', 'color': 'ecf0f1', 'default': False, 'description': ''}, {'id': 1145053911, 'node_id': 'MDU6TGFiZWwxMTQ1MDUzOTEx', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/review', 'name': 'review', 'color': 'ed82dd', 'default': False, 'description': 'This PR is ready for code review'}]",open,False,,[],,3,2019-03-22T07:31:55Z,2019-08-18T05:12:07Z,,CONTRIBUTOR,add kerberos configure for Druid ,incubator-superset,apache,pokyu,26000411,MDQ6VXNlcjI2MDAwNDEx,https://avatars2.githubusercontent.com/u/26000411?v=4,,https://api.github.com/users/pokyu,https://github.com/pokyu,https://api.github.com/users/pokyu/followers,https://api.github.com/users/pokyu/following{/other_user},https://api.github.com/users/pokyu/gists{/gist_id},https://api.github.com/users/pokyu/starred{/owner}{/repo},https://api.github.com/users/pokyu/subscriptions,https://api.github.com/users/pokyu/orgs,https://api.github.com/users/pokyu/repos,https://api.github.com/users/pokyu/events{/privacy},https://api.github.com/users/pokyu/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/7091,https://github.com/apache/incubator-superset/pull/7091,https://github.com/apache/incubator-superset/pull/7091.diff,https://github.com/apache/incubator-superset/pull/7091.patch,,,,,,,,,,,,,,,,,,
229,https://api.github.com/repos/apache/incubator-superset/issues/6997,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6997/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6997/comments,https://api.github.com/repos/apache/incubator-superset/issues/6997/events,https://github.com/apache/incubator-superset/issues/6997,418568104,MDU6SXNzdWU0MTg1NjgxMDQ=,6997,[Design Proposal] New Dashboard Creation flow,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}]",open,False,,[],,3,2019-03-07T23:49:26Z,2019-03-15T19:23:36Z,,NONE,"This is a proposal for multiple changes to the current dashboard creation flow.  Please share any concerns or comments directly in this issue.

## How to access the new dashboard flow
We recently added a universal “New” button to the Superset navigation bar:

![image](https://user-images.githubusercontent.com/2992086/53995953-9b639e00-40eb-11e9-8c95-4aa63d10975d.png)

This “New” button is available from every page in Superset.  Users enter the flow proposed here by selecting the “New… Dashboard” option.

## New Dashboard Creation Flow (proposed)

### If the user doesn’t yet have any of their own charts...

If the user doesn’t yet have any of their own charts, this is what they will see:

![dashboard entry point - new user no charts](https://user-images.githubusercontent.com/2992086/53996769-98b67800-40ee-11e9-88c2-0568d113ad08.png)

Note these changes from the current experience:

- Opening directly into this editor shortcuts the current multi-stage process to get to this point, including a placeholder title.
- Sidebar + toolbar at left of the window rather than the right. We're suggesting to move it to the left for two main reasons:
    1) The Chart and SQL editors use side panels on the left, so this makes all the flows consistent.
    2) New users often don't know what to do, so this new design puts the key actions at the top left of the window where users are more likely to see them.
- What was previously under “Your charts and filters” is expanded to take up the whole sidebar
- Structural tools like tabs, rows, dividers are now contained in a vertical toolbar.  Tooltips will show the associated action (e.g., “Drag to insert tabs”)
- New textual cue on the blank canvas: “Create a chart to place it on the canvas”
- There is a new button to create a new chart.  This “Create new chart” button takes the user to the chart creation flow as described [here](https://github.com/apache/incubator-superset/issues/6996) in a new tab.  This button is sticky at the top of the panel.  Note: If possible, the tabs should communicate so that once the chart is created it shows in the dashboard automatically.

### If the user has already created at least one chart...

If the user has already created at least one chart, this is what they will see:

![dashboard entry point - existing charts](https://user-images.githubusercontent.com/2992086/53996819-c7345300-40ee-11e9-9081-2667486542f7.png)

In addition to the sidebar and toolbar changes mentioned above, note these changes from the current experience:
- Users can preview their charts with thumbnails. This is an optional feature: including a choice to enable/disable it; disabled should be default state.
- New textual cue on the blank canvas: “Drag and drop items here”

### If the user edits an existing dashboard...

If the user edits an existing dashboard, this is what they will see:

![dashboard entry point - existing dashboard](https://user-images.githubusercontent.com/2992086/53996974-52ade400-40ef-11e9-8474-eb2a68629dd6.png)

This is the same as the current editing experience except for the sidebar and toolbar changes mentioned above.

## How to move forward

Lyft is proposing these changes as a result of research and many iterations with multiple teams.  Airbnb (cc @elibrumbaugh) will further iterate if needed, but at the time of this proposal, the general consensus is that this is an improvement on the current UX for dashboard creation, so we would like to enable development of this ASAP.",incubator-superset,apache,dorq,2992086,MDQ6VXNlcjI5OTIwODY=,https://avatars3.githubusercontent.com/u/2992086?v=4,,https://api.github.com/users/dorq,https://github.com/dorq,https://api.github.com/users/dorq/followers,https://api.github.com/users/dorq/following{/other_user},https://api.github.com/users/dorq/gists{/gist_id},https://api.github.com/users/dorq/starred{/owner}{/repo},https://api.github.com/users/dorq/subscriptions,https://api.github.com/users/dorq/orgs,https://api.github.com/users/dorq/repos,https://api.github.com/users/dorq/events{/privacy},https://api.github.com/users/dorq/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
230,https://api.github.com/repos/apache/incubator-superset/issues/6996,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6996/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6996/comments,https://api.github.com/repos/apache/incubator-superset/issues/6996/events,https://github.com/apache/incubator-superset/issues/6996,418562215,MDU6SXNzdWU0MTg1NjIyMTU=,6996,[Design Proposal] New Chart Creation flow,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}]",open,False,,[],,6,2019-03-07T23:26:15Z,2019-03-29T23:48:41Z,,NONE,"This is a proposal for multiple changes to the current chart creation flow.  Please share any concerns or comments directly in this issue.

## How to access the new chart flow
We recently added a universal “New” button to the Superset navigation bar:

![image](https://user-images.githubusercontent.com/2992086/53995953-9b639e00-40eb-11e9-8c95-4aa63d10975d.png)

This “New” button is available from every page in Superset.  Users enter the flow proposed here by selecting the “New… Chart” option.

Users can also access this chart creation flow via all existing modes:
- From the SQL Lab Editor by clicking on the “Explore” button above the Results tab table
- From the datasource list by clicking on a datasource name
- Anytime they edit an existing chart

When a user selects the “New… Chart” option above, we propose this new chart creation experience...

## New Chart Creation Flow (proposed)

First, the user must choose a datasource:

![chart entry point - wizard 1](https://user-images.githubusercontent.com/2992086/53996025-d8c82b80-40eb-11e9-86c4-12e947ff2d5d.png)

- Chart creation and configuration flow is a 3-step wizard that expands and collapses as an accordion.
- The wizard auto-advances when an item in step 1 or step 2 is clicked.
- We display “# Charts” that use this datasource to help guide users.
- The “Select datasource” banner includes an info icon that explains what a “datasource” is; copy TBD.
- We add **Sort** and **Filter** capabilities at the top of this list.
  - Sort options:
    - \# charts that use it (DEFAULT)
    - Datasource name
    - Type (e.g., Presto)
    - Owner
  - The filter searches:
    - Datasource name
    - Type (e.g., Presto)
    - Owner
- The chart is automatically titled “- untitled” as a placeholder.
- Users can go back and forth between any of the 3 steps once the datasource has been selected.
- Chart area cues “Need datasource” until a datasource has been selected
- If a user lands here from the SQL Editor or the Datasource list, we pre-select the datasource for them like we do in the current interface.  So they skip to step 2, with step 1 complete.

Then, the user selects a chart type.  This employs the same thumbnail grid we currently show for changing vis type.

![chart entry point - wizard 2](https://user-images.githubusercontent.com/2992086/53996172-4c6a3880-40ec-11e9-9d98-93b7ae38c6be.png)

We’re suggesting here that “Line Chart” be the default selection, rather than a null selection.  This should be behind a feature flag or a config for orgs to control.

Superset will automatically configure the chart to show some valid data by default; in this example it has selected the first time series value available in the datasource (COUNT(experiment) by experiment_start) and updates the title accordingly (if not already named).

If we default to any particular type (as suggested to use “Line Chart” above), this second step be skipped/”completed” by default and the user will jump to step 3.

Notes on previous steps: Now that datasource has been selected, the icons for viewing datasource configuration (eyeball icon - suggestion is to update this icon) and accessing the datasource in SQL Lab (beaker icon - keep existing icon) are viewable in the datasource selection banner:

![image](https://user-images.githubusercontent.com/2992086/53996216-6f94e800-40ec-11e9-90b3-968248b5bdd6.png)

The CTA in the datasource section is “Configure” rather than “Edit” because the datasource cannot currently be changed (We’re actively discussing bringing back this functionality, but it is not decided yet).

Step 3 is to configure the chart using all the options we currently have in the Superset sidebar:

![chart entry point - wizard 3](https://user-images.githubusercontent.com/2992086/53996223-79b6e680-40ec-11e9-888d-804afaa7dec3.png)

The previous screens detail the flow for when a user creates a new chart.  When users edit an existing chart, these same changes apply there as well, but the user is brought directly into step 3 of the proposed wizard since steps 1 and 2 are already complete.

If the current configuration is sufficient to produce a working chart (that is, one that actually renders a chart rather than an error), this is the “Success” state:

![chart entry point - wizard 2 - success state](https://user-images.githubusercontent.com/2992086/53996246-8b988980-40ec-11e9-80de-1d65992aec6d.png)

If, however, the state contains an error, we surface it to the accordion header like this:

![chart entry point - wizard 2 - error state](https://user-images.githubusercontent.com/2992086/53996256-96531e80-40ec-11e9-915a-a654b279c449.png)

## How to move forward

Lyft is proposing these changes as a result of research and many iterations with multiple teams.  Airbnb (cc @elibrumbaugh) will further iterate if needed, but at the time of this proposal, the general consensus is that this is an improvement on the current UX for chart creation, so we would like to enable development of this ASAP.",incubator-superset,apache,dorq,2992086,MDQ6VXNlcjI5OTIwODY=,https://avatars3.githubusercontent.com/u/2992086?v=4,,https://api.github.com/users/dorq,https://github.com/dorq,https://api.github.com/users/dorq/followers,https://api.github.com/users/dorq/following{/other_user},https://api.github.com/users/dorq/gists{/gist_id},https://api.github.com/users/dorq/starred{/owner}{/repo},https://api.github.com/users/dorq/subscriptions,https://api.github.com/users/dorq/orgs,https://api.github.com/users/dorq/repos,https://api.github.com/users/dorq/events{/privacy},https://api.github.com/users/dorq/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
231,https://api.github.com/repos/apache/incubator-superset/issues/6929,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6929/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6929/comments,https://api.github.com/repos/apache/incubator-superset/issues/6929/events,https://github.com/apache/incubator-superset/issues/6929,413263762,MDU6SXNzdWU0MTMyNjM3NjI=,6929,[SIP] Proposal for Implemention of dynamic theme in superset,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}]",open,False,,[],,3,2019-02-22T06:35:10Z,2019-06-21T08:24:46Z,,CONTRIBUTOR,"**Motivation**:

Supporting dynamic theme in superset will provide end-user to use his/her choice of theme on the go.

**Proposed Change**:

1> Provide option to change theme from UI. 
2> Support of multiple themes
3> Separate theme-able style from other styles (position, size etc) 
4> use scss/less mixin to change theme dynamically

this is how the style for any component will look like:

`.btn-primary {
  width: 200px;
  Padding: 2px;
  position: relative;

}

@mixin btn-primary-theme($theme) {

.btn-primary {

color: get-color($theme, primary);
background-colour: get-color($theme, background);
font-size: font-size($theme, button);
}

}
`

**New or Changed Public Interfaces**:

- if we use SCSS
      mixin the we need sass-loader (MIT license)
       Enable scss  style pre-processor  in superset.

- If we use less. 
    Since Less is already supported in superset, don't need any change

**Migration Plan and Compatibility**

for backward compatibility existing styles will be available. 
To use theme user need to use new styles

",incubator-superset,apache,rasmi-ranjan-guavus,16206956,MDQ6VXNlcjE2MjA2OTU2,https://avatars2.githubusercontent.com/u/16206956?v=4,,https://api.github.com/users/rasmi-ranjan-guavus,https://github.com/rasmi-ranjan-guavus,https://api.github.com/users/rasmi-ranjan-guavus/followers,https://api.github.com/users/rasmi-ranjan-guavus/following{/other_user},https://api.github.com/users/rasmi-ranjan-guavus/gists{/gist_id},https://api.github.com/users/rasmi-ranjan-guavus/starred{/owner}{/repo},https://api.github.com/users/rasmi-ranjan-guavus/subscriptions,https://api.github.com/users/rasmi-ranjan-guavus/orgs,https://api.github.com/users/rasmi-ranjan-guavus/repos,https://api.github.com/users/rasmi-ranjan-guavus/events{/privacy},https://api.github.com/users/rasmi-ranjan-guavus/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
232,https://api.github.com/repos/apache/incubator-superset/issues/6910,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6910/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6910/comments,https://api.github.com/repos/apache/incubator-superset/issues/6910/events,https://github.com/apache/incubator-superset/pull/6910,411697522,MDExOlB1bGxSZXF1ZXN0MjU0MDgxNDkw,6910,Fixes issue #5804 - SQLLab - Saving a query with the same label resul…,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,6,2019-02-19T00:47:59Z,2019-05-09T04:39:40Z,,NONE,This fixes issue #5804. ,incubator-superset,apache,fabiomendescom,8434911,MDQ6VXNlcjg0MzQ5MTE=,https://avatars1.githubusercontent.com/u/8434911?v=4,,https://api.github.com/users/fabiomendescom,https://github.com/fabiomendescom,https://api.github.com/users/fabiomendescom/followers,https://api.github.com/users/fabiomendescom/following{/other_user},https://api.github.com/users/fabiomendescom/gists{/gist_id},https://api.github.com/users/fabiomendescom/starred{/owner}{/repo},https://api.github.com/users/fabiomendescom/subscriptions,https://api.github.com/users/fabiomendescom/orgs,https://api.github.com/users/fabiomendescom/repos,https://api.github.com/users/fabiomendescom/events{/privacy},https://api.github.com/users/fabiomendescom/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/6910,https://github.com/apache/incubator-superset/pull/6910,https://github.com/apache/incubator-superset/pull/6910.diff,https://github.com/apache/incubator-superset/pull/6910.patch,,,,,,,,,,,,,,,,,,
233,https://api.github.com/repos/apache/incubator-superset/issues/6863,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6863/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6863/comments,https://api.github.com/repos/apache/incubator-superset/issues/6863/events,https://github.com/apache/incubator-superset/pull/6863,409586492,MDExOlB1bGxSZXF1ZXN0MjUyNTM1MTY5,6863,[SIP-16] Proposal for loading additional polygon encodings,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 415794708, 'node_id': 'MDU6TGFiZWw0MTU3OTQ3MDg=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.backend', 'name': '.backend', 'color': 'ecf0f1', 'default': False, 'description': ''}, {'id': 1171301092, 'node_id': 'MDU6TGFiZWwxMTcxMzAxMDky', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.config', 'name': '.config', 'color': 'ecf0f1', 'default': False, 'description': ''}, {'id': 405242327, 'node_id': 'MDU6TGFiZWw0MDUyNDIzMjc=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.js', 'name': '.js', 'color': 'ecf0f1', 'default': False, 'description': 'Javascript'}, {'id': 1171300874, 'node_id': 'MDU6TGFiZWwxMTcxMzAwODc0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.python', 'name': '.python', 'color': 'ecf0f1', 'default': False, 'description': ''}, {'id': 546619551, 'node_id': 'MDU6TGFiZWw1NDY2MTk1NTE=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.vis', 'name': '.vis', 'color': 'ecf0f1', 'default': False, 'description': 'visualization'}, {'id': 757538559, 'node_id': 'MDU6TGFiZWw3NTc1Mzg1NTk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/lyft', 'name': 'lyft', 'color': 'ff00bf', 'default': False, 'description': 'on Lyft roadmap'}, {'id': 1145053911, 'node_id': 'MDU6TGFiZWwxMTQ1MDUzOTEx', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/review', 'name': 'review', 'color': 'ed82dd', 'default': False, 'description': 'This PR is ready for code review'}, {'id': 1331560260, 'node_id': 'MDU6TGFiZWwxMzMxNTYwMjYw', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/L', 'name': 'size/L', 'color': '6D53B9', 'default': False, 'description': ''}]",open,False,,[],,1,2019-02-13T01:55:01Z,2019-10-17T21:40:09Z,,CONTRIBUTOR,"### CATEGORY

Choose one

- [ ] Bug Fix
- [X] Enhancement (new features, refinement)
- [ ] Refactor
- [ ] Add tests
- [ ] Build / Development Environment
- [ ] Documentation

### SUMMARY

This PR implements https://github.com/apache/incubator-superset/issues/6814.

### TEST PLAN

As a test, I added geohashes to my `superset_config.py`:

```python
import geohash

from superset.polygon import PolygonEncoding


class GeohashEncoding(PolygonEncoding):

    name = 'geohash (test)'

    @classmethod
    def to_location(cls, codes, cache):
        for code in codes:
            lat, lon = geohash.decode(code)
            yield lon, lat

    @classmethod
    def to_polygon(cls, codes, cache):
        for code in codes:
            p = geohash.bbox(code)
            yield [
                [p.get('w'), p.get('n')],
                [p.get('e'), p.get('n')],
                [p.get('e'), p.get('s')],
                [p.get('w'), p.get('s')],
                [p.get('w'), p.get('n')],
            ]

DEFAULT_FEATURE_FLAGS = {
    'EXTRA_POLYGON_ENCODINGS': [GeohashEncoding],
}
```

### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF


Here's the result:

<img width=""1698"" alt=""Screen Shot 2019-05-30 at 5 27 10 PM"" src=""https://user-images.githubusercontent.com/1534870/58673506-718fd100-8300-11e9-9747-0f22d0cc474b.png"">

### ADDITIONAL INFORMATION

- [ ] Has associated issue:
- [ ] Changes UI
- [ ] Requires DB Migration.
- [ ] Confirm DB Migration upgrade and downgrade tested.
- [X] Introduces new feature or API
- [ ] Removes existing feature or API

### REVIEWERS

@mistercrunch",incubator-superset,apache,betodealmeida,1534870,MDQ6VXNlcjE1MzQ4NzA=,https://avatars3.githubusercontent.com/u/1534870?v=4,,https://api.github.com/users/betodealmeida,https://github.com/betodealmeida,https://api.github.com/users/betodealmeida/followers,https://api.github.com/users/betodealmeida/following{/other_user},https://api.github.com/users/betodealmeida/gists{/gist_id},https://api.github.com/users/betodealmeida/starred{/owner}{/repo},https://api.github.com/users/betodealmeida/subscriptions,https://api.github.com/users/betodealmeida/orgs,https://api.github.com/users/betodealmeida/repos,https://api.github.com/users/betodealmeida/events{/privacy},https://api.github.com/users/betodealmeida/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/6863,https://github.com/apache/incubator-superset/pull/6863,https://github.com/apache/incubator-superset/pull/6863.diff,https://github.com/apache/incubator-superset/pull/6863.patch,,,,,,,,,,,,,,,,,,
234,https://api.github.com/repos/apache/incubator-superset/issues/6814,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6814/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6814/comments,https://api.github.com/repos/apache/incubator-superset/issues/6814/events,https://github.com/apache/incubator-superset/issues/6814,407037848,MDU6SXNzdWU0MDcwMzc4NDg=,6814,[SIP-16] Proposal for loading additional polygon encodings,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}]",open,False,,[],,7,2019-02-06T00:46:54Z,2019-07-10T19:44:03Z,,CONTRIBUTOR,"# Motivation

When analyzing geo spatial data, a common work flow consists of grouping the data across different spatial dimensions, e.g., ZIP code, city, state or country. In order to visualize the results, a user can select either the ""Country Map"" or the ""deck.gl Polygon"" visualizations. Neither of them are appropriate for exploring the data across different hierarchical regions: the former is limited to country only, while the latter requires all shapes to be pre-joined (except for geohash), adding duplicate data to the data source.

# Proposed Change

## Current workflow

In this SIP I propose a way of adding new encodings to the ""deck.gl Polygon"" visualization. Currently, it supports:

- Polyline
- JSON
- geohash (square)

The first two require the shape to be present in the datasource, while the third one is computed the shape on the fly based on a column. In order to explore a dataset across a spatial hierarchy, data would have to pre-joined with all polygons in the datasource, eg:

timestamp | country | country_polygon | state | state_polygon | city | city_polygon
-- | -- | -- | -- | -- | -- | --
1549410628 | US | {...} | CA | {...} | San Francisco | {...}
1549410675 | US | {...} | CA | {...} | San Francisco | {...}

This is clearly inefficient.

## Proposed workflow

I propose an alternative workflow where **the polygon shape is joined in the Python backend** (`viz.py`). This is similar to how the geohash encoding currently works: it's computed on the fly by the Python backend based on the value of a column, and sent to the frontend in the payload. The approach described here has been used at Lyft for US and Canada postal codes for more than 6 months; see https://github.com/apache/incubator-superset/commit/9c10547f19b628e81cbcd6e1fbac86a70ea510be for the US ZIP code implementation.

Note that the current approach for geohash is still inefficient, since it sends the joined data to the browser. When a granularity is selected, enabling the play slider, this results in duplicate data being sent. It's better to send the polygon shapes in a separate attribute of the payload, and perform the join on the browser instead.

In the new workflow, users will be able to specify new encodings in `config.py` (or `superset_config.py`). Each encoding is defined by an adapter class, responsible for serializing to JSON the shape associated with the region column. Eg, if the geohash visualization type didn't exist we would implement it in the proposed system as follows:

```python
import geohash

from superset.polygon import PolygonEncoding


class GeohashEncoding(PolygonEncoding):

    name = 'geohash (square)'

    def to_location(codes):
        for code in codes:
            lat, lon = geohash.decode(code)
            yield lon, lat

    def to_polygon(codes):
        for code in codes:
            p = geohash.bbox(code)
            yield [
                [p.get('w'), p.get('n')],
                [p.get('e'), p.get('n')],
                [p.get('e'), p.get('s')],
                [p.get('w'), p.get('s')],
                [p.get('w'), p.get('n')],
            ]
```

This would be registered in `config.py`:

```
FEATURE_FLAGS = {
    'EXTRA_POLYGON_ENCODINGS': [GeohashEncoding],
}
```

Other adapters might perform database queries in order to fetch the polygon associated with each value, which is why the methods take a list of codes for efficiency. At Lyft we cache the shapes, fetching from the database only values that are missing.

# New or Changed Public Interfaces

This SIP affects only the ""deck.gl Polygon"" visualization type. The Python backend will use the adapter classes, and the frontend will display new encodings. Here's a screenshot showing US ZIP codes and Canada FSAs:

<img width=""258"" alt=""screen shot 2019-02-05 at 4 34 02 pm"" src=""https://user-images.githubusercontent.com/1534870/52313592-e14e0a80-2963-11e9-8faf-0e50ec684eaa.png"">

Even though this is a small feature, one of the reasons of why I'm proposing this as a SIP is because it introduces new logic to `viz.py`, and I'm unsure how that will affect embeddable components. (👀 @xtinec @kristw @williaster)

# New dependencies

No new dependencies are needed.

# Migration Plan and Compatibility

Not necessary.

# Rejected Alternatives

My initial implementation of a visualization for ZIP codes was as a custom new visualization. This was hard to manage (in part because of merge conflicts) and redundant, requiring a lot of duplicate work as features were added to the ""deck.gl Polygon"" visualization. At some point last year I merged the functionality into the deck.gl visualization.

## Future work ##

There was a discussion between me and @mistercrunch where we considered creating ""spatial columns"" in the datasource configuration, similar to how metrics or derived columns can be created. Eg, a datasource with these 4 columns:

- pickup_lat
- pickup_lon
- dropoff_geohash

Would be configured to have 2 spatial columns: ""pickup"", composed from `pickup_lat` and `pickup_lon`, and ""dropoff"", derived from `dropoff_geohash`.

If we had that mechanism for spatial columns in place, it would be useful if we could load a series of polygons using the CLI, eg:

```
# this downloads 2 GBs of data and stores in the main database
$ superset load_polygon US_zip
```

Then in the spatial configuration the user would be able to select a column and mark it as of type ""US_zip"", and the ""deck.gl Polygon"" visualization would just work. We could provide a list of common polygons (ZIP, city, state, country), and users would be able to load their own. This way, the ""Country Map"" visualization could be deprecated in favor of the deck.gl one.

The downside of this approach is that the shapes would be stored in the main database, which might not be inefficient. At Lyft we use Postgres with GIS extensions for the US ZIP codes, but MySQL for the main database.",incubator-superset,apache,betodealmeida,1534870,MDQ6VXNlcjE1MzQ4NzA=,https://avatars3.githubusercontent.com/u/1534870?v=4,,https://api.github.com/users/betodealmeida,https://github.com/betodealmeida,https://api.github.com/users/betodealmeida/followers,https://api.github.com/users/betodealmeida/following{/other_user},https://api.github.com/users/betodealmeida/gists{/gist_id},https://api.github.com/users/betodealmeida/starred{/owner}{/repo},https://api.github.com/users/betodealmeida/subscriptions,https://api.github.com/users/betodealmeida/orgs,https://api.github.com/users/betodealmeida/repos,https://api.github.com/users/betodealmeida/events{/privacy},https://api.github.com/users/betodealmeida/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
235,https://api.github.com/repos/apache/incubator-superset/issues/6747,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6747/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6747/comments,https://api.github.com/repos/apache/incubator-superset/issues/6747/events,https://github.com/apache/incubator-superset/issues/6747,402552854,MDU6SXNzdWU0MDI1NTI4NTQ=,6747,Stateless Authentication which relies on only Bearer token?,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 412635979, 'node_id': 'MDU6TGFiZWw0MTI2MzU5Nzk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.security', 'name': '.security', 'color': 'ecf0f1', 'default': False, 'description': ''}]",open,False,,[],,1,2019-01-24T05:50:41Z,2019-05-30T20:53:44Z,,NONE,"<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
""License""); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x] I have reproduced the issue with at least the latest released version of superset.
- [x] I have checked the issue tracker for the same issue and I haven't found one similar.

Currently, Superset uses session-based authentication where the cookie is sent with each request. Can we have stateless authentication i.e the backend will not store any session and will rely on access-token sent in Header by the client? eg. Header: ```Authorization: Bearer eerkjerkcwk.....```",incubator-superset,apache,dbsheta,16730582,MDQ6VXNlcjE2NzMwNTgy,https://avatars2.githubusercontent.com/u/16730582?v=4,,https://api.github.com/users/dbsheta,https://github.com/dbsheta,https://api.github.com/users/dbsheta/followers,https://api.github.com/users/dbsheta/following{/other_user},https://api.github.com/users/dbsheta/gists{/gist_id},https://api.github.com/users/dbsheta/starred{/owner}{/repo},https://api.github.com/users/dbsheta/subscriptions,https://api.github.com/users/dbsheta/orgs,https://api.github.com/users/dbsheta/repos,https://api.github.com/users/dbsheta/events{/privacy},https://api.github.com/users/dbsheta/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
236,https://api.github.com/repos/apache/incubator-superset/issues/6681,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6681/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6681/comments,https://api.github.com/repos/apache/incubator-superset/issues/6681/events,https://github.com/apache/incubator-superset/issues/6681,398688609,MDU6SXNzdWUzOTg2ODg2MDk=,6681,[SQL Lab] Reduce number of queries needed to create a chart,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 412197861, 'node_id': 'MDU6TGFiZWw0MTIxOTc4NjE=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.SQLLab', 'name': '.SQLLab', 'color': 'ecf0f1', 'default': False, 'description': ''}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}, {'id': 757538559, 'node_id': 'MDU6TGFiZWw3NTc1Mzg1NTk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/lyft', 'name': 'lyft', 'color': 'ff00bf', 'default': False, 'description': 'on Lyft roadmap'}]",open,False,,[],,1,2019-01-13T19:06:52Z,2019-05-19T16:11:01Z,,NONE,"The number of query executions needed to get from SQL->Dashboard is inefficient. Stresses databases (more redundant query executions), slows down data analysis (waiting for queries to complete)

Typical workflow to create a chart
1st SQL run --> SQL Lab to execute query and get result sets
2nd SQL run --> Clicking Explore, which instantiates the query as a datasource off of the result set
3rd and more SQL runs --> Changing viz type (because user lands on a count of # of rows upon clicking Explore) and subsequent changes on the datasource all require re-execution

Proposal: 
(1) temporarily cache result sets for SQL queries run on a tab? Can be quickly discarded based on last query run on a tab. Persist as long as tab remains open or something reasonable like 24 hours?
(2) If user click on Explore, persist result set in cache, such that subsequent actions don't require re-execution

Open to other suggestions which solve the problem of too many SQL re-executions in order to explore/chart a result set which remains static.


Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ ] I have reproduced the issue with at least the latest released version of superset.
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar.


### Superset version


### Expected results


### Actual results


### Steps to reproduce


",incubator-superset,apache,vylc,33429480,MDQ6VXNlcjMzNDI5NDgw,https://avatars0.githubusercontent.com/u/33429480?v=4,,https://api.github.com/users/vylc,https://github.com/vylc,https://api.github.com/users/vylc/followers,https://api.github.com/users/vylc/following{/other_user},https://api.github.com/users/vylc/gists{/gist_id},https://api.github.com/users/vylc/starred{/owner}{/repo},https://api.github.com/users/vylc/subscriptions,https://api.github.com/users/vylc/orgs,https://api.github.com/users/vylc/repos,https://api.github.com/users/vylc/events{/privacy},https://api.github.com/users/vylc/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
237,https://api.github.com/repos/apache/incubator-superset/issues/6491,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6491/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6491/comments,https://api.github.com/repos/apache/incubator-superset/issues/6491/events,https://github.com/apache/incubator-superset/issues/6491,387893812,MDU6SXNzdWUzODc4OTM4MTI=,6491,Filter Box Becomes Blank after Adjusting Dates,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1151893674, 'node_id': 'MDU6TGFiZWwxMTUxODkzNjc0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/v0.28', 'name': 'v0.28', 'color': '4EDA63', 'default': False, 'description': ''}]",open,False,,[],,14,2018-12-05T18:46:12Z,2019-11-18T09:21:18Z,,NONE,"Make sure these boxes are checked before submitting your issue - thank you!

- [x ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [x ] I have reproduced the issue with at least the latest released version of superset.
- [x ] I have checked the issue tracker for the same issue and I haven't found one similar.


### Superset version
28

### Expected results
I adjust the date filter and the filter is visible and my entries are applied to the dashboard

### Actual results
The filter becomes blank and I see this in the stack trace if I hit refresh:
![image](https://user-images.githubusercontent.com/33062840/49536264-17074200-f894-11e8-9323-0c7a0a632af1.png)


### Steps to reproduce
Adjust the date range in a filter

",incubator-superset,apache,csc5k,33062840,MDQ6VXNlcjMzMDYyODQw,https://avatars3.githubusercontent.com/u/33062840?v=4,,https://api.github.com/users/csc5k,https://github.com/csc5k,https://api.github.com/users/csc5k/followers,https://api.github.com/users/csc5k/following{/other_user},https://api.github.com/users/csc5k/gists{/gist_id},https://api.github.com/users/csc5k/starred{/owner}{/repo},https://api.github.com/users/csc5k/subscriptions,https://api.github.com/users/csc5k/orgs,https://api.github.com/users/csc5k/repos,https://api.github.com/users/csc5k/events{/privacy},https://api.github.com/users/csc5k/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
238,https://api.github.com/repos/apache/incubator-superset/issues/6463,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6463/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6463/comments,https://api.github.com/repos/apache/incubator-superset/issues/6463/events,https://github.com/apache/incubator-superset/issues/6463,385913942,MDU6SXNzdWUzODU5MTM5NDI=,6463,how to connect to HiveServer2 with ssl?,"[{'id': 238899555, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTU=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23question', 'name': '#question', 'color': 'dbdb18', 'default': False, 'description': 'Questions or troubleshoots'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}, {'id': 1151893674, 'node_id': 'MDU6TGFiZWwxMTUxODkzNjc0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/v0.28', 'name': 'v0.28', 'color': '4EDA63', 'default': False, 'description': ''}]",open,False,,[],,4,2018-11-29T20:31:40Z,2019-09-18T17:53:02Z,,NONE,"- [X ] I have checked the superset logs for python stacktraces and included it here as text if there are any.
- [ X] I have reproduced the issue with at least the latest released version of superset.
- [X ] I have checked the issue tracker for the same issue and I haven't found one similar.


### Superset version
0.28.1

### Expected results
Superset is Able to connect to HiveServer2 with ssl options

### Actual results
Superset gets Thrift socket error

### Steps to reproduce
Install hive with ssl, verify beeline connection with ssl=false can't connect, verify beeline connection with  ssl=true;sslTrustStore=actual;trustStorePassword=actual can connect, attempt hive connection in superset as seems no way to specify ssl options on hive connection

",incubator-superset,apache,tooptoop4,33283496,MDQ6VXNlcjMzMjgzNDk2,https://avatars0.githubusercontent.com/u/33283496?v=4,,https://api.github.com/users/tooptoop4,https://github.com/tooptoop4,https://api.github.com/users/tooptoop4/followers,https://api.github.com/users/tooptoop4/following{/other_user},https://api.github.com/users/tooptoop4/gists{/gist_id},https://api.github.com/users/tooptoop4/starred{/owner}{/repo},https://api.github.com/users/tooptoop4/subscriptions,https://api.github.com/users/tooptoop4/orgs,https://api.github.com/users/tooptoop4/repos,https://api.github.com/users/tooptoop4/events{/privacy},https://api.github.com/users/tooptoop4/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
239,https://api.github.com/repos/apache/incubator-superset/issues/6360,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6360/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6360/comments,https://api.github.com/repos/apache/incubator-superset/issues/6360/events,https://github.com/apache/incubator-superset/issues/6360,379398522,MDU6SXNzdWUzNzkzOTg1MjI=,6360,[SIP-15] Transparent and Consistent Time Intervals,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}]",open,False,,[],,9,2018-11-10T07:09:59Z,2019-06-19T21:08:39Z,,CONTRIBUTOR,"### Motivation

Some of the core tenants of any BI tool are consistency and accuracy, however we have seen instances where the time interval provides misleading or potentially incorrect results due to the nuances in how Superset currently i) uses different logic depending on the connector, and ii) mixes datetime resolutions.   

#### The time-interval conundrum

A datetime or timestamp (time for short) interval is defined by a `start` and `end` time and whether the limits are inclusive (`[`, `]`) or exclusive (`(`, `)`) of. This leads to four possible time interval definitions:

1. `[start, end]`
2. `[start, end)`
3. `(start, end)`
4. `(start, end]`

The underlying issue is it is not apparent to the user in the UI when they specify a time range which definition Superset is invoking. Sadly the answer depends on the connector (SQLAlchemy or Druid REST API) and in the case of SQLAlchemy engines the underlying structure of the datasource. This leads to several issues:

- Inconsistent behavior between connectors.
- Incorrect aggregations for certain chart types.

The later is especially concerning for chart types which obfuscate the temporal component or for time grains which use aggregation and thus potentially providing incorrect results, i.e., a user may think they are aggregating a week's worth of data (seven days) whereas the reality is they are only aggregating six or eight days due to the inclusion/exclusion logic.

##### Druid REST API

The Druid REST API uses the `[start, end)` definition (2) for time intervals although it is not explicitly mentioned in their [documentation](http://druid.io/docs/latest/querying/timeseriesquery.html) though is defined [here](https://github.com/apache/incubator-druid/issues/5055#issuecomment-342491033).

##### SQLAlchemy

The SQLAlchemy engines use the `[start, end]` definition (1), i.e., the time filter limits are defined via [`>=`](https://github.com/apache/incubator-superset/blob/b5d03c85c578bd12bfb99446a54543bd029361ad/superset/connectors/sqla/models.py#L66) and [`<=`](https://github.com/apache/incubator-superset/blob/b5d03c85c578bd12bfb99446a54543bd029361ad/superset/connectors/sqla/models.py#L68) conditions respectively. Note however unbeknown to the user the filter may behave like `(start, end]` (4). Why? The reason is due to the potential mixing of dates and timestamps and using lexicographical order for evaluating clauses, i.e., assume that the time column `ds` is defined as a date string, then a filter of the form,
```
WHERE
    ds >= '2018-01-01 00:00:00' AND
    ds <= '2018-01-02 00:00:00'
```
for a set of `ds` (datestamp) values of [`2018-01-01`, `2018-01-02`] results in,
```
> SELECT
    '2018-01-01' >= '2018-01-01 00:00:00',
    '2018-01-01' <= '2018-01-02 00:00:00'
FALSE TRUE
```
and
```
> SELECT
    '2018-01-02' >= '2018-01-01 00:00:00',
    '2018-01-02' <= '2018-01-02 00:00:00'
TRUE TRUE
```
respectively. Due to the lexicographical order the `[start` actually acts like `(start` which is probably not what the user expected.

Note this is especially problematic for relative time periods such as `Last week` (which is relative to today) if your time column is a datestamp as in most cases the window would only contain six (rather than seven) days of data. Why? Because the the `[start, end]` behaves like `(start, end]` and the the data associated with the `end` date doesn't exist yet. Additionally making the `end` limit inclusive is actually misleading as the times are _supposed_ to be relative to today which implies exclusive of today.

### Proposed Change

I propose there are two things we need to solve:

1. **Consistency**: Ensure that all connections and datasources use the same interval definitions and that time columns are cast to a time (timestamps are preferred to strings).
2. **Transparency**: Explicitly call out in the UI what the interval definition is.

#### Consistency

Which of the four definitions make the most sense? I propose Druid's definition of `[start, end)` (2) makes the most sense as it guarantees to capture the entire time interval regardless of the time resolution in the data, i.e., for SQL a 24 hour interval would be expressed as:
```
WHERE
    time >= TIMESTAMP '2018-01-01 00:00:00' AND
    time < TIMESTAMP '2018-01-02 00:00:00'
```
The reason not to opt for `[start, end]` (1) is this 24 hour interval could potentially be expressed as:
```
WHERE
    time >= TIMESTAMP '2018-01-01 00:00:00' AND
    time <= TIMESTAMP '2018-01-01 23:59:59'
```
however it assumes that the finest granularity that `time` column is defined is in seconds. In the case of milliseconds it wouldn't capture most of the last second in the 24 hour period. Also the `[start, end)` definition ensures that adjacent time periods are non-under/over-lapping, i.e., 

- `[2018-01-01 00:00:00, 2018-01-02 00:00:00)`
- `[2018-01-02 00:00:00, 2018-01-03 00:00:00)`

Secondly most relative time periods `Last day`, `Last week`, etc. are from today at 12:00:00 am (exceptions include things like `Last 24 hours` which is relative to now). What's important is that these implicitly are exclusive of the reference time , i.e., we are looking at a previous period, and hence why `end)` really makes the most sense.

Finally how to we address lexicographical issue caused by mixing of date and timestamp strings? Given that we explicitly define the time as time (rather than date) we should enforce that all time columns are cast/converted to a timestamp, i.e., in the case of Presto either,
```
WHERE
    DATE_PARSE(ds, '%Y-%m-%d') >= TIMESTAMP '2018-01-01 00:00:00' AND
    DATE_PARSE(ds, '%Y-%m-%d') < TIMESTAMP '2018-01-02 00:00:00'
```
(preferred) or
```
WHERE
    CAST(DATE_PARSE(ds, '%Y-%m-%d') AS VARCHAR) => '2018-01-01 00:00:00' AND
    CAST(DATE_PARSE(ds, '%Y-%m-%d') AS VARCHAR) < '2018-01-02 00:00:00'
```
work.

#### Transparency

I sense we need to improve the UI to explicitly call out:

1. The interval definition.
2. The relative time.

##### The interval definition

I sense a tooltip here would be suffice simply mentioning that the start is inclusive and the end is exclusive of.

#### The relative time

Both defaults and custom time periods are relative to some time. The custom time mentions ""Relative to today"" however it isn't clear if today means a time (now, 12:00:00 am, etc.) or a date. Furthermore defaults have no mention what the reference time is. 

<img width=""282"" alt=""screen shot 2018-11-09 at 9 52 10 pm"" src=""https://user-images.githubusercontent.com/4567245/48298393-95c5b680-e471-11e8-9070-6d79d607687e.png""><img width=""280"" alt=""screen shot 2018-11-09 at 9 52 22 pm"" src=""https://user-images.githubusercontent.com/4567245/48298400-965e4d00-e471-11e8-91e7-0cdf04bca61f.png"">

In most instances it's today at 12:00:00 am and there seems to be merit in explicitly calling this out. Additionally there may be merit in having an asterisk (or similar) when a relative time period is chosen, i.e., `Last 7 days *` to help ground the reference. 

Note the mocks below are not correct when referring to relative periods where the time unit is less than a day, i.e., for any quantity of second, minute, or hour (say 48 hours) the reference time in now and thus the text should update according to the unit selected.

<img width=""132"" alt=""screen shot 2018-11-09 at 10 03 13 pm"" src=""https://user-images.githubusercontent.com/4567245/48298396-95c5b680-e471-11e8-8349-02dd77119796.png"">

<img width=""279"" alt=""screen shot 2018-11-09 at 9 56 44 pm"" src=""https://user-images.githubusercontent.com/4567245/48298399-965e4d00-e471-11e8-93e9-f276ca44edba.png""><img width=""279"" alt=""screen shot 2018-11-09 at 9 57 24 pm"" src=""https://user-images.githubusercontent.com/4567245/48298398-965e4d00-e471-11e8-916e-02560856826b.png"">

#### Concerns

I sense there are potentially three major concerns:

1. Migrations.
2. Performance. 
3. Dates vs. datetimes (timestamps)

##### Migrations 

If you asked a producer of a chart which of the four time interval definitions was being adhered to you would get the full gamut of responses, i.e., it's not evident to them exactly what the current logic is and thus it's not evident to us how we would migrate time intervals which used an absolute time for either the start or end. I sense the only solution here is to realize that this is a breaking change which though challenging provides mores transparency and consistency in the future. An institution would probably want to inform their customers of such a change via a PSA or similar.  

##### Performance

At Airbnb our primary SQLAlchemy engine is Presto where the underlying table is partitioned by datestamp (denoted as `ds`). One initial concern I had was by enforcing the time column to represent a timestamp using a combination of Presto's [date and time functions](https://prestodb.io/docs/current/functions/datetime.html) that a full table-scan would be required, i.e., the query planner would not be able to deduce which partitions to use, which would not be performant. 

Running an EXPLAIN on the following query, 
```
SELECT
    COUNT(1)
FROM
    <table>
WHERE
    DATE_PARSE(ds, '%Y-%m-%d') >= TIMESTAMP '2018-01-01 00:00:00' AND
    DATE_PARSE(ds, '%Y-%m-%d') < TIMESTAMP '2018-01-02 00:00:00'
```
results in a query plan consisting of a filter for only the `2018-01-01` `ds` partition,
```
ScanFilterProject[table = <table>, originalConstraint = ((""date_parse""(""ds"", '%Y-%m-%d') >= ""$literal$timestamp""(1514764800000)) AND (""date_parse""(""ds"", '%Y-%m-%d') < ""$literal$t
    Cost: {rows: ?, bytes: ?}/{rows: ?, bytes: ?}/{rows: ?, bytes: ?}                                                                                                                                     
    LAYOUT: <cluster>                                                                                                                                                                                        
    ds := HiveColumnHandle{clientId=<cluster>, name=ds, hiveType=string, hiveColumnIndex=-1, columnType=PARTITION_KEY, comment=Optional.empty}                                                               
        :: [[2018-01-01]]
```
which means the Presto engine can correctly deduce which partitions to scan. Note I'm unsure if this holds true for all engines.

##### Dates vs. Datetimes (Timestamps)

Is there merit in differentiating between dates (`2018-01-01`) and datetimes (`2018-01-01 00:00:00`)? Dates are discrete whereas timestamps are continuous and thus the perception of the interval may differ. Additionally we think about date intervals we normally think of `[start, end]`, rather than `[start, end)`. For example [Q1](https://en.wikipedia.org/wiki/Calendar_year#Quarters) is defined as 1 January – 31 March which is inclusive of both the start and end date, i.e., `[01/01, 03/31]` rather than `[01/01, 04/01)`. 

One could argue that Druid is correct by using the `[start, end)` definition as it deals with timestamps whereas SQLAlchemy datasources which are probably weighted towards dates are correct in using the `[start, end]` definition (excluding the issue with lexicographical ordering). There may be merit in adding explicit support for both dates and datetimes (Tableau supports both) which would require additional UI changes.

### New or Changed Public Interfaces

Added clarity to the time range widget.

### New dependencies

None.

### Migration Plan and Compatibility

There are no planed migrations however this would be a breaking change.

### Rejected Alternatives

None.

to: @betodealmeida @fabianmenges @graceguo-supercat @jeffreythewang @kristw @michellethomas @mistercrunch @timifasubaa  @williaster ",incubator-superset,apache,john-bodley,4567245,MDQ6VXNlcjQ1NjcyNDU=,https://avatars1.githubusercontent.com/u/4567245?v=4,,https://api.github.com/users/john-bodley,https://github.com/john-bodley,https://api.github.com/users/john-bodley/followers,https://api.github.com/users/john-bodley/following{/other_user},https://api.github.com/users/john-bodley/gists{/gist_id},https://api.github.com/users/john-bodley/starred{/owner}{/repo},https://api.github.com/users/john-bodley/subscriptions,https://api.github.com/users/john-bodley/orgs,https://api.github.com/users/john-bodley/repos,https://api.github.com/users/john-bodley/events{/privacy},https://api.github.com/users/john-bodley/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
240,https://api.github.com/repos/apache/incubator-superset/issues/6132,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6132/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6132/comments,https://api.github.com/repos/apache/incubator-superset/issues/6132/events,https://github.com/apache/incubator-superset/issues/6132,371217021,MDU6SXNzdWUzNzEyMTcwMjE=,6132,[SIP-13] Proposal for Code Review Process,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}]",open,False,,[],,5,2018-10-17T18:46:37Z,2019-04-19T18:22:24Z,,CONTRIBUTOR,"## Motivation
The Superset community has a large number of contributors and stakeholders, which leads to many people trying to modify the codebase at the same time. 

For project maintainer this introduces a lot of challenges:

- **A large number of issues and pull requests**, which require significant amount of time to triage, review and shepherd until merging. As of Oct 15, 2018, there are 864 open issues and 161 open PRs. Many of these are a few years old and remain in limbo.
- **Keeping the code base healthy.** It is great to receive many community contributions, but the overall project stability and code quality must come first. If the PR idea/work is interesting, but the quality does not match the standard or introduces risky changes without justified reasons, the project maintainers have a hard time handling these PRs. With the proposal for frequent release plan ([SIP-12](https://github.com/apache/incubator-superset/issues/6131)), master stability becomes even more important. 
- **Merging a PR that ends up breaking master branch.** Old community PRs that are finally merged sometimes break the master branch (commonly CI) because they are not rebased against master and tested again before merging. The responsibility then falls to the maintainer to resolve the broken state. 

For contributors, these are the common questions:

- **Who will review my PR?** Currently, it is unclear who should participate in the code review of each PR. Contributors sometimes manually tag github username of project maintainers for reviews. This does not work well for beginners who do not know anyone, perhaps tagging @mistercrunch. Even experienced contributors can have this issue when touching the code in different sections of the project. It is also a manual process.
- **When will someone review my PR?** There are several uncertainties around the code review process. Some are implied (e.g.,no review until the PR pass all CI tests, PRs with [WIP] in the title are considered work-in-progress and will not be reviewed, etc.). However, there are many PRs that are not ready for review, but do not have [WIP] and cause confusion. 
- **When will someone merge my PR?** After PRs are approved, sometimes they are left in that state for a while. It is not explained when it will be merged. This left the contributors hanging. 
- **Which release will include my PR?** Currently, it is unclear when will the change make it to an official release, leading to different organizations maintaining their own branches. Please also see a proposal for release plan in [SIP-12](https://github.com/apache/incubator-superset/issues/6131) for more details. 

To be more efficient at maintaining Superset and improving it in the long-term, we need more workflow clarity that will increase code quality and improve project stability. This proposal wishes to reduce operational workload for the project maintainers, set the right expectations for everyone and make the project keep growing with happy community.  

## Proposed Changes

### [P.1] Project maintainers can request an issue to be created before a PR is reviewed. 

A philosophy we would like to strong encourage is

> ""Before creating a PR, create an issue.""

We would like to update the contributing guidelines for Superset as follows. 

>  **Bug fixes:** If you’re only fixing a small bug, it’s fine to submit a pull request right away but we highly recommend to file an issue detailing what you’re fixing. This is helpful in case we don’t accept that specific fix but want to keep track of the issue. Please keep in mind that the project maintainers reserve the rights to accept or reject incoming PRs, so it is better to separate the issue and the code to fix it from each other. In some cases, project maintainers may request you to create a separate issue from PR before proceeding. 
>
> **Refactor:** For small refactors, it can be a standalone PR itself detailing what you are refactoring and why. If there are concerns, project maintainers may request you to create a SIP for the PR before proceeding. 
>
> **Feature/Large changes:** If you intend to change the public API, or make any non-trivial changes to the implementation, we requires you to file a new issue as SIP (Superset Improvement Proposal). This lets us reach an agreement on your proposal before you put significant effort into it. You are welcome to submit a PR along with the SIP (sometimes necessary for demonstration), but we will not review/merge the code until the SIP is approved. 
> 
> In general, small PRs are always easier to review than large PRs. The best practice is to break your work into smaller independent PRs and refer to the same issue. This will greatly reduce turnaround time. 
> 
> Finally, never submit a PR that will put master branch in broken state.

### [P.2] Create multiple new templates for new issues/PRs

Currently we only have an issue template but not a PR template.

To facilitate the issue and PR creation, we will provide templates for different scenarios. Github supports multiple templates which users can choose from a menu when creating. 

- [Creating issue templates](https://help.github.com/articles/creating-issue-templates-for-your-repository/)
- [Multiple issue and pull request templates](https://blog.github.com/2018-01-25-multiple-issue-and-pull-request-templates/)
- [Ansible](https://github.com/ansible/ansible/tree/devel/.github) has good examples of templates

![image](https://user-images.githubusercontent.com/1659771/47106355-2c98ad80-d1fb-11e8-8901-79aff47e02af.png)

An issue will be one of the following types:

1. Question
2. Bug
3. Feature request
4. SIP (Superset Improvement Proposal)

A PR will be one of the following types

1. Bugfix - Fix bugs 
2. Feature - Add new features
3. Refactor - Refactor code to improve code quality
4. Test - Add new test cases

A PR should generally includes the following:

- Summary 
- Before/after screenshots or animated GIF (when applicable)
- Test Plan 
- Checkboxes
  - Has associated issue(s):
  - Changes UI
  - Includes screenshot
  - Requires DB Migration
  - Introduces new feature or API
  - Removes existing feature or API

### [P.3] Pre-define reviewers with CODEOWNERS

Github allows us to list mandatory reviewers for each directory in a [CODEOWNERS](https://help.github.com/articles/about-codeowners/) file. When a new PR is opened, the corresponding reviewers will be assigned to review that PR automatically.  Mandatory reviewers do not have to be committers.

CODEOWNERS will be defined as a [team](https://help.github.com/articles/about-teams/). A team contains one or more people, such as (`python-reviewers`, `js-reviewers`, `vis-reviewers`) [See an example.](https://github.com/python/cpython/blob/master/.github/CODEOWNERS)

Note: CODEOWNERS requires changing github repo settings (via Apache) to enable protected branch option. Teams are defined in organization settings. Need to investigate if it has to be the same github organization (Apache) to define the teams. Fallback plan is using another github org or macro/alias.

### [P.4] Define a protocol when a PR is in progress

#### Authoring

- Fill in all sections of the PR template.
- Add label “WIP” if not ready for review (WIP = work-in-progress)
- Add category label: bugfix, refactor, test or feature
- Remove label “WIP” and add “READY” when ready for review
- Changes to user interface require before/after screenshots, or GIF for interactions
  - Recommended capture tools (Kapture, LICEcap, Skitch)
  - If no screenshot is provided, the mandatory reviewers will mark the PR with “missing:screenshot’ label and will not review until screenshot is provided.
- Reviewers will not review the code until all CI tests are passed. Sometimes there can be flaky tests. You can close and open PR to re-run CI test. Please report if the issue persists and rebase your PR after the fix has been deployed to master. 
- If the PR was not ready for review and inactive for > 30 days, we will close it due to inactivity. The author is welcome to re-open and update. Will set up a [stale bot](https://github.com/probot/stale) to do this.

#### Reviewing

- Triage and add labels: Here are some example labels. Please keep in mind that these are examples. The final list of labels and adding a bot to add them will become action items if this SIP is approved.
  - Missing: screenshot, issue, test
  - Language: Javascript, Python, Others
  - Components: Dashboard, SQL Lab, Explore, Charts
- Use constructive tone when writing reviews. 
- If there are changes required, state clearly what needs to be done before the PR can be approved.

#### Merging

- At least one mandatory reviewer is required for merging a PR. 
- A PR with label “READY” and approved will be merged by a committer. The committer adds label(s) of release branches to go into, i.e., `release/1.1`, `release/1.2`. (See [SIP-12](https://github.com/apache/incubator-superset/issues/6131))
- After the PR is merged, [close the corresponding issue(s)](https://help.github.com/articles/closing-issues-using-keywords/). 

#### Post-merge Responsibility

- Project maintainers may contact the PR author if new issues are introduced by the PR.
- Project maintainers may revert your changes if a critical issue is found, such as breaking master branch CI.

#### Note about labels

Non-committers cannot assign label by default. We will setup bots that allow contributors to add whitelisted labels via bot. User can type in comments such as

```
-label WIP 
+label READY
```

If this does not work, we can fallback to adding `[WIP]` or `[READY]` to PR titles.

### [P.5] New changes to CI

Here are a few proposed improvements to the CI

#### [P.5.1] Add mandatory reviewers hook
The mandatory reviewers are defined in CODEOWNERS file

#### ~~[P.5.2] Enable Stale branch check.~~

~~**Pros**~~

~~- Prevents broken master when a stale branch is approved and merged.~~
~~- Parallelized merging of PRs.~~

~~**Cons**~~

~~- Serialized merging of PRs impies adding overhead (having to re-sync either via the UI or CLI) and rerun the CI.~~
~~- Improvements in CI performance would help reduce some of the burden.~~

~~Note: Require this change to the github repo settings~~

![image](https://user-images.githubusercontent.com/1659771/47108521-b8f99f00-d200-11e8-9604-c3920e322b0d.png)

#### [P.5.3] Automatic checks for code coverage project/patch 
Similar to [scikit-learn](https://github.com/scikit-learn/scikit-learn/blob/master/.codecov.yml), this enforces the contributing guidelines of unit testing. Commits pushed to master should not make the overall project coverage decrease by more than 1%:

This will be enabled, though initially as a non-required check as we iterate on the configuration settings.

Note: These CI changes require Apache admin changes to the Github repo. 

## Action items

Please comment and refer to [P.x.x] if you have any suggestion.

If this SIP is approved, here are the follow-up tasks.

- Update CONTRIBUTING.md
- Create new issues and PRs templates
- Create CODEOWNERS file, teams, and list mandatory reviewers
- Update CI configuration
- Setup bots for handling labels
- Setup a bot for closing stale issues and PR
- Triage the current PRs and issues. 

## References

- [React.js contributing guidelines](https://reactjs.org/docs/how-to-contribute.html)
- [Node.js contributing guidelines](https://github.com/nodejs/node/blob/master/doc/guides/contributing/pull-requests.md)
- [Ansible bots](https://github.com/ansible/ansibullbot/blob/master/ISSUE_HELP.md#cmd-bot_broken)
- [Gitissue bot](https://github.com/foosel/GitIssueBot)
- [Probots](https://github.com/search?q=topic%3Aprobot-app+org%3Aprobot&type=Repositories)

@betodealmeida @mistercrunch ",incubator-superset,apache,kristw,1659771,MDQ6VXNlcjE2NTk3NzE=,https://avatars2.githubusercontent.com/u/1659771?v=4,,https://api.github.com/users/kristw,https://github.com/kristw,https://api.github.com/users/kristw/followers,https://api.github.com/users/kristw/following{/other_user},https://api.github.com/users/kristw/gists{/gist_id},https://api.github.com/users/kristw/starred{/owner}{/repo},https://api.github.com/users/kristw/subscriptions,https://api.github.com/users/kristw/orgs,https://api.github.com/users/kristw/repos,https://api.github.com/users/kristw/events{/privacy},https://api.github.com/users/kristw/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
241,https://api.github.com/repos/apache/incubator-superset/issues/6131,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6131/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6131/comments,https://api.github.com/repos/apache/incubator-superset/issues/6131/events,https://github.com/apache/incubator-superset/issues/6131,371177447,MDU6SXNzdWUzNzExNzc0NDc=,6131,[SIP-12] Proposal for Branch Management and Release Process,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}]",open,False,,[],,13,2018-10-17T17:03:29Z,2019-03-22T23:26:47Z,,CONTRIBUTOR,"## Motivation

Historically organizations partaking in the release process have managed their own fork on incubator-superset which is deployed in production via a Git submodule. Both companies have been actively developing Superset and deploy internally (features and bug fixes) at a higher cadence than the public PyPI releases. These forks came about because of the potential instability of the master branch (see [SIP-13](https://github.com/apache/incubator-superset/issues/6132)) and provided a mechanism to cherry-pick specific commits thus ensuring an increased stability. 

These organizations have discussed ways of trying to fold these forked branches back into the incubator-superset repo to better ensure consistency and to serve as a mechanism for formalizing the release process which is somewhat sporadic.

## Proposed Change

The proposed solution is based primarily on having release branches where certain organizations are the primary beta testers for stabilizing the branch. 

### Master branch

There will be no changes to how the `master` branch currently works. We will do our best to keep the `master` branch healthy in part by the initiatives outlined in [SIP-13](https://github.com/apache/incubator-superset/issues/6132). If you create a pull request, please do it against the `master` branch. We will maintain stable branches for releases separately but we don’t accept pull requests to them directly. Instead, we will cherry-pick non-breaking changes from `master` to the two latest releases.

### Release Cadence

We propose a regular release cadence of every **two weeks**. This period is a tradeoff between stability and flexibility ensuring that new features can be deployed within a reasonable time frame. Furthermore the longer the release cadence the greater the potential conflict when cherry-picking commits. A release will be deployed two weeks after it was cut.

We propose that each release branch is fully managed by a single organization.

### Branch Naming

We propose that all Git branches follow the `<prefix>/<suffix>` naming convention:

- Personal: `<username>/<issue>`, i.e., `jane-doe/issue-123`
- Feature: `feature/<name>`, i.e., `feature/dashboard-v2`
- Release: `release/<version>`, i.e., `release/1.1`

Note if `/` is troublesome we suggest using a two hyphens (`--`) instead.

### Semantic Versioning

Superset follows semantic versioning (`<major>.<minor>.<patch>`) although the major version has remained fixed at zero. We should release patch versions for bug fixes, minor versions for new features, and the major version for breaking changes. When we make breaking changes, we should also introduce deprecation warnings in a minor version so that our users learn about the upcoming changes and migrate their code in advance.

Git release branches represent the `<major>.<minor>` level whereas Git tags (associated with a specific commit) represent the fully defined `<major>.<minor>.<patch>` version. Note tags may contain an optional release candidate suffix (`-rc`). 

### The Git Ecosystem

The following diagram describes the `apache/incubator-superset` Git ecosystem and how we plan to couple this with several organization's internal deployment (superset-internal which uses a Git submodule) which will help serve as a mechanism for stabilizing a release.

![release](https://user-images.githubusercontent.com/4567245/47102523-d96e2d00-d1f1-11e8-9291-a9addf007bac.png)

#### Day 0

On day 0 the next release branch (`release/1.1`) will be cut from `master` which references the latest commit. The commit will be tagged with `v1.1.0-rc` (the v1.1.0 release candidate) and deployed to PyPI. 

#### Day 0 - 13

Only commits associated which resolve bugs present in the release candidate will be cherry-picked onto the release branch. Fixes to features added after the cut will not be cherry picked (†). Note there may be potential merge conflicts (which will have to be resolved) when cherry-picking a fix due to an upstream commit which is not in the release (‡). If this is too complex the cherry-pick should be skipped (---) as it will be included in the next release. New features can be committed on `master` **if and only if** they’re defined in their entirety within the two week cycle. Larger features should be developed on a feature specific branch (which is then merged into `master`) or using feature flags. 

The following diagram shows the use of a feature branch which spans multiple releases.

![feature](https://user-images.githubusercontent.com/4567245/47102567-eee35700-d1f1-11e8-8b1b-3de48729ebc3.png)
 
#### Day 7

Organizations partaking in the release process will update the Git submodule reference to point to the release (`release/1.1`). This seven day lag provides a soak period of ensuring that critical bugs are not deployed to our production environments. The update is made to the `.gitmodules` file,
```
[submodule ""incubator-superset""]
    path = incubator-superset
    url = https://github.com/apache/incubator-superset
    branch = release/1.1
```
which ensures it tracks the correct release branch. Like the two week release process the submodule branch will be updated every two weeks. 

#### Day 7 - 20

Periodically organizations partaking in the release process will ensure that the submodule in their internal deployment will reference the latest commit from the remote branch (which contains all the cherries) via,
```
git submodule update --remote --recursive --merge 
```
which will fetch the latest changes for each submodule, merge them in, and check out the latest revision of the submodule. This step allows us to further test and stabilize the branch in a production environment.

#### Day 14

The first (non release candidate) version will be tagged (`v1.1.0`) and deployed to PyPI which references the latest commit on the branch (*). Simultaneously the next release branch (`release/1.2`) will be cut from `master` which will mimic `v1.1.0` except it will also include any feature commits which were merged in the past 14 days. Note a new release branch is cut if and only if feature commits were added, to prevent duplication. 

The following diagram shows an example where on day 14 a new release branch is not cut as there were no new features added since day 0. The next viable release cut date will then be day 28 to preserve the release cadence.

![no-release](https://user-images.githubusercontent.com/4567245/47102650-24884000-d1f2-11e8-8039-e01e55343e17.png)

#### Day 14 - 27

Additional bug fixes to commits in the release candidate will be cherry-picked onto the _n_ most recent releases (where _n_ = 2, i.e.,` release/1.1` and `release/1.2`). Throughout this period the tag can be updated (incrementing the patch) as desired based on the severity of the fix.

#### Day 28 -

Assuming there is a new release branch (`release/1.3`) we will no longer be picking cherries onto `release/1.1` since we only support two releases (`release/1.2` and `release/1.3`). In summary most release branches will have a four week active lifespan. 

Branches should exist for infinitum to ensure critical security fixes can be patched to the necessary branch.

#### Database Migrations

Database migrations (which are handled via [Alembic](https://alembic.zzzcomputing.com/en/latest/)) have an additional lineage component (used to determine upgrades and downgrades) which further complicates matters. We need to ensure the playback of versions is correct when upgrading to a newer release and that a downgrade is never necessary. 

The logic for cherry-picking migrations is similar to above whereas migrations can be cherry-picked onto a release branch **if and only if** all of its ancestors are present on the branch. Given that there no notion of resolving merge conflicts in Alembic, any migration (and thus future migrations) related to a feature will be skipped (`--`) and included in the next release.

## Action Items

Currently we plan on manually cherry-picking the commits from `master` to the desired release branch. This could be automated in the future based on PR tags and/or the assistance from a bot.

We also should check with Apache whether there are any concerns/feasibility issues with releasing on a two week cadence.

@beto @mistercrunch 
",incubator-superset,apache,john-bodley,4567245,MDQ6VXNlcjQ1NjcyNDU=,https://avatars1.githubusercontent.com/u/4567245?v=4,,https://api.github.com/users/john-bodley,https://github.com/john-bodley,https://api.github.com/users/john-bodley/followers,https://api.github.com/users/john-bodley/following{/other_user},https://api.github.com/users/john-bodley/gists{/gist_id},https://api.github.com/users/john-bodley/starred{/owner}{/repo},https://api.github.com/users/john-bodley/subscriptions,https://api.github.com/users/john-bodley/orgs,https://api.github.com/users/john-bodley/repos,https://api.github.com/users/john-bodley/events{/privacy},https://api.github.com/users/john-bodley/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
242,https://api.github.com/repos/apache/incubator-superset/issues/6032,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/6032/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/6032/comments,https://api.github.com/repos/apache/incubator-superset/issues/6032/events,https://github.com/apache/incubator-superset/issues/6032,366895785,MDU6SXNzdWUzNjY4OTU3ODU=,6032,[SIP-11] Proposal for deprecating Druid REST connector,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,9,2018-10-04T17:35:38Z,2019-12-11T18:23:05Z,,CONTRIBUTOR,"### Motivation

Superset currently supports two engine connectors for querying datasources; SQLAlchemy and the Druid REST API. The later was the initial use case for Superset, i.e., a UI for visualizing Druid datasources.

Since version [0.10.0](https://github.com/apache/incubator-druid/releases/tag/druid-0.10.0) Druid has included a built-it SQL server which has a SQLAlchemy binding provided by the [pydruid](https://github.com/druid-io/pydruid) library (courtesy of @betodealmeida and @mistercrunch) and thus the proposed change is to deprecate the REST API interface in favor of having a single interface (SQLAlchemy) to all engines. Note all future engines (there has been mentioned of adding support for Elasticsearch) would require a SQLAlchemy dialect. 

There is a non-insignificant amount of overhead in supporting both connectors including:

#### Code

From a code perspective each connector needs to define similar views and models. The [Druid](https://github.com/apache/incubator-superset/tree/master/superset/connectors/druid) connector alone comprises of around 2,000 lines of code. There is additional frontend logic which needs to construct filters, metrics, etc. for both the Druid REST API and SQLAlchemy. Note there are [74](https://github.com/apache/incubator-superset/search?q=druid&unscoped_q=druid) files (including documentation) which reference Druid in the repo. 

#### Models

In addition to code overhead each connector defines its own models and database tables:

Druid: 
- `clusters`
- `datasources`
- `columns`
- `metrics`

SQLAlchemy: 
- `dbs` 
- `tables`
- `table_columns`
- `sql_metric`

which complicates logic, i.e., the `slices` table does not have a SQLAlchemy relationship to a ""datasource"" table as the datasource type determines the association. This results in denormalized tables with potentially incorrect values, i.e., the `slices` table contains the `datasource_name` column for the FAB CRUD views, however this may not accurately reflect the underlying datasource name. 

#### Proposed Change

The proposed change would be to deprecate all the Druid REST logic from the codebase. This significantly simplifies and streamlines a number of facets of Superset by ensuring that all engines connect via a SQLAlchemy dialect.

Currently there is support for syncing/refreshing Druid datasource associated with the REST API connector which I suspect is leveraged by a number of organizations. [SIP-7](https://github.com/apache/incubator-superset/issues/5842) discussing ""refreshing"" of Superset datasources. 

Note this would be a breaking change for any organizing using a Druid version less than `0.10.0`. Also there may be some instances of post-aggregate Druid functions which are not supported in Druid SQL.

#### New or Changed Public Interfaces

There would be no new or changed public interfaces.

#### New dependencies

There would be no new dependencies.

#### Migration Plan and Compatibility

A non-trivial database migration would be required including:
- All records in the Druid tables listed above would need to be migrated to the SQLAlchemy equivalent table.  
- Existing slices would need to be updated to reference the new SQLAlchemy representation of the Druid datasource.
- Re-normalize the `slices` table.
- Update chart data to remove the obsolete `table__` or `druid__` prefixes.

#### Rejected Alternatives

None.

to: @betodealmeida @graceguo-supercat @kristw @michellethomas @mistercrunch @timifasubaa 
",incubator-superset,apache,john-bodley,4567245,MDQ6VXNlcjQ1NjcyNDU=,https://avatars1.githubusercontent.com/u/4567245?v=4,,https://api.github.com/users/john-bodley,https://github.com/john-bodley,https://api.github.com/users/john-bodley/followers,https://api.github.com/users/john-bodley/following{/other_user},https://api.github.com/users/john-bodley/gists{/gist_id},https://api.github.com/users/john-bodley/starred{/owner}{/repo},https://api.github.com/users/john-bodley/subscriptions,https://api.github.com/users/john-bodley/orgs,https://api.github.com/users/john-bodley/repos,https://api.github.com/users/john-bodley/events{/privacy},https://api.github.com/users/john-bodley/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
243,https://api.github.com/repos/apache/incubator-superset/issues/5984,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5984/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5984/comments,https://api.github.com/repos/apache/incubator-superset/issues/5984/events,https://github.com/apache/incubator-superset/issues/5984,364281779,MDU6SXNzdWUzNjQyODE3Nzk=,5984,+1 to addition of Elasticsearch support.,[],open,False,,[],,15,2018-09-27T02:33:17Z,2019-11-20T20:15:42Z,,NONE,_Originally posted by @rahulgagrani in https://github.com/apache/incubator-superset/issues/241#issuecomment-213809253_,incubator-superset,apache,Tipiaceraisempre,39475518,MDQ6VXNlcjM5NDc1NTE4,https://avatars1.githubusercontent.com/u/39475518?v=4,,https://api.github.com/users/Tipiaceraisempre,https://github.com/Tipiaceraisempre,https://api.github.com/users/Tipiaceraisempre/followers,https://api.github.com/users/Tipiaceraisempre/following{/other_user},https://api.github.com/users/Tipiaceraisempre/gists{/gist_id},https://api.github.com/users/Tipiaceraisempre/starred{/owner}{/repo},https://api.github.com/users/Tipiaceraisempre/subscriptions,https://api.github.com/users/Tipiaceraisempre/orgs,https://api.github.com/users/Tipiaceraisempre/repos,https://api.github.com/users/Tipiaceraisempre/events{/privacy},https://api.github.com/users/Tipiaceraisempre/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
244,https://api.github.com/repos/apache/incubator-superset/issues/5951,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5951/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5951/comments,https://api.github.com/repos/apache/incubator-superset/issues/5951/events,https://github.com/apache/incubator-superset/issues/5951,362414555,MDU6SXNzdWUzNjI0MTQ1NTU=,5951,The Apache Project Maturity Model Checklist,"[{'id': 1149107184, 'node_id': 'MDU6TGFiZWwxMTQ5MTA3MTg0', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23ASF', 'name': '#ASF', 'color': '77ddaf', 'default': False, 'description': 'related to Apache Software Foundation'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,3,2018-09-21T00:24:18Z,2019-12-20T22:28:48Z,,MEMBER,"# The Apache Project Maturity Model
Each item in the model has a unique ID to allow them to be easily referenced elsewhere.

From https://community.apache.org/apache-way/apache-project-maturity-model.html

## Code
- [x] CD10 - The project produces Open Source software, for distribution to the public at no charge. 1
- [x] CD20 - The project's code is easily discoverable and publicly accessible.
- [x] CD30 - The code can be built in a reproducible way using widely available standard tools.
- [x] CD40 - The full history of the project's code is available via a source code control system, in a way that allows any released version to be recreated.
- [x] CD50 - The provenance of each line of code is established via the source code control system, in a reliable way based on strong authentication of the committer. When third-party contributions are committed, commit messages provide reliable information about the code provenance. 2

## Licenses and Copyright
- [x] LC10 - The code is released under the Apache License, version 2.0.
- [x] LC20 - Libraries that are mandatory dependencies of the project's code do not create more restrictions than the Apache License does. 3 4
- [x] LC30 - The libraries mentioned in LC20 are available as Open Source software.
- [x] LC40 - Committers are bound by an Individual Contributor Agreement (the ""Apache iCLA"") that defines which code they are allowed to commit and how they need to identify code that is not their own.
- [ ] LC50 - The copyright ownership of everything that the project produces is clearly defined and documented. 5

## Releases
- [x] RE10 - Releases consist of source code, distributed using standard and open archive formats that are expected to stay readable in the long term. 6
- [x] RE20 - Releases are approved by the project's PMC (see CS10), in order to make them an act of the Foundation.
- [ ] RE30 - Releases are signed and/or distributed along with digests that can be reliably used to validate the downloaded archives.
- [x] RE40 - Convenience binaries can be distributed alongside source code but they are not Apache Releases -- they are just a convenience provided with no guarantee.
- [x] RE50 - The release process is documented and repeatable to the extent that someone new to the project is able to independently generate the complete set of artifacts required for a release.

## Quality
- [x] QU10 - The project is open and honest about the quality of its code. Various levels of quality and maturity for various modules are natural and acceptable as long as they are clearly communicated.
- [ ] QU20 - The project puts a very high priority on producing secure software. 7
- [ ] QU30 - The project provides a well-documented, secure and private channel to report security issues, along with a documented way of responding to them. 8
- [x] QU40 - The project puts a high priority on backwards compatibility and aims to document any incompatible changes and provide tools and documentation to help users transition to new features.
- [ ] QU50 - The project strives to respond to documented bug reports in a timely manner.

## Community
- [ ] CO10 - The project has a well-known homepage that points to all the information required to operate according to this maturity model.
- [x] CO20 - The community welcomes contributions from anyone who acts in good faith and in a respectful manner and adds value to the project.
- [x] CO30 - Contributions include not only source code, but also documentation, constructive bug reports, constructive discussions, marketing and generally anything that adds value to the project.
- [x] CO40 - The community is meritocratic and over time aims to give more rights and responsibilities to contributors who add value to the project.
- [ ] CO50 - The way in which contributors can be granted more rights such as commit access or decision power is clearly documented and is the same for all contributors.
- [x] CO60 - The community operates based on consensus of its members (see CS10) who have decision power. Dictators, benevolent or not, are not welcome in Apache projects.
- [x] CO70 - The project strives to answer user questions in a timely manner.
Consensus Building
- [x] CS10 - The project maintains a public list of its contributors who have decision power -- the project's PMC (Project Management Committee) consists of those contributors.
- [ ] CS20 - Decisions are made by consensus among PMC members 9 and are documented on the project's main communications channel. Community opinions are taken into account but the PMC has the final word if needed.
- [ ] CS30 - Documented voting rules are used to build consensus when discussion is not sufficient. 10
- [x] CS40 - In Apache projects, vetoes are only valid for code commits and are justified by a technical explanation, as per the Apache voting rules defined in CS30.
- [ ] CS50 - All ""important"" discussions happen asynchronously in written form on the project's main communications channel. Offline, face-to-face or private discussions 11 that affect the project are also documented on that channel.

## Independence
- [x] IN10 - The project is independent from any corporate or organizational influence. 12
- [x] IN20 - Contributors act as themselves as opposed to representatives of a corporation or organization.",incubator-superset,apache,mistercrunch,487433,MDQ6VXNlcjQ4NzQzMw==,https://avatars1.githubusercontent.com/u/487433?v=4,,https://api.github.com/users/mistercrunch,https://github.com/mistercrunch,https://api.github.com/users/mistercrunch/followers,https://api.github.com/users/mistercrunch/following{/other_user},https://api.github.com/users/mistercrunch/gists{/gist_id},https://api.github.com/users/mistercrunch/starred{/owner}{/repo},https://api.github.com/users/mistercrunch/subscriptions,https://api.github.com/users/mistercrunch/orgs,https://api.github.com/users/mistercrunch/repos,https://api.github.com/users/mistercrunch/events{/privacy},https://api.github.com/users/mistercrunch/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
245,https://api.github.com/repos/apache/incubator-superset/issues/5925,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5925/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5925/comments,https://api.github.com/repos/apache/incubator-superset/issues/5925/events,https://github.com/apache/incubator-superset/issues/5925,361525215,MDU6SXNzdWUzNjE1MjUyMTU=,5925,[SIP-9] Remove filter box from chart types and create a filter panel ,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}]",open,False,,[],,1,2018-09-18T23:49:20Z,2019-04-10T16:25:42Z,,CONTRIBUTOR,"Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if any
- [x] I have reproduced the issue with at least the latest released version of superset
- [x] I have checked the issue tracker for the same issue and I haven't found one similar


### Superset version
0.27

### Expected results
This is the first of a series of SIPs for the redesign of scoped filters.

Filter exists as its own concept instead of a chart type. This should be reflected both in the code architecture and the UI itself. 

- Filter Box is removed from chart types
- New UI to create filters. Combine existing adhoc filters under the Query panel and the implicit filter under the Time panel as a uniformed filter creation UI (Mockups to come).
- [Stretch goal] use Typescript for new filter code

### Actual results
Filter box is a chart type.

### Steps to reproduce
Add a filter box to any existing chart.

",incubator-superset,apache,xtinec,1521435,MDQ6VXNlcjE1MjE0MzU=,https://avatars2.githubusercontent.com/u/1521435?v=4,,https://api.github.com/users/xtinec,https://github.com/xtinec,https://api.github.com/users/xtinec/followers,https://api.github.com/users/xtinec/following{/other_user},https://api.github.com/users/xtinec/gists{/gist_id},https://api.github.com/users/xtinec/starred{/owner}{/repo},https://api.github.com/users/xtinec/subscriptions,https://api.github.com/users/xtinec/orgs,https://api.github.com/users/xtinec/repos,https://api.github.com/users/xtinec/events{/privacy},https://api.github.com/users/xtinec/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
246,https://api.github.com/repos/apache/incubator-superset/issues/5899,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5899/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5899/comments,https://api.github.com/repos/apache/incubator-superset/issues/5899/events,https://github.com/apache/incubator-superset/issues/5899,360383601,MDU6SXNzdWUzNjAzODM2MDE=,5899,[SQL Lab] Cannot scroll to see the entire table schema for very wide tables,"[{'id': 412197861, 'node_id': 'MDU6TGFiZWw0MTIxOTc4NjE=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.SQLLab', 'name': '.SQLLab', 'color': 'ecf0f1', 'default': False, 'description': ''}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,"[{'login': 'timifasubaa', 'id': 30888507, 'node_id': 'MDQ6VXNlcjMwODg4NTA3', 'avatar_url': 'https://avatars2.githubusercontent.com/u/30888507?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/timifasubaa', 'html_url': 'https://github.com/timifasubaa', 'followers_url': 'https://api.github.com/users/timifasubaa/followers', 'following_url': 'https://api.github.com/users/timifasubaa/following{/other_user}', 'gists_url': 'https://api.github.com/users/timifasubaa/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/timifasubaa/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/timifasubaa/subscriptions', 'organizations_url': 'https://api.github.com/users/timifasubaa/orgs', 'repos_url': 'https://api.github.com/users/timifasubaa/repos', 'events_url': 'https://api.github.com/users/timifasubaa/events{/privacy}', 'received_events_url': 'https://api.github.com/users/timifasubaa/received_events', 'type': 'User', 'site_admin': False}]",,4,2018-09-14T17:03:37Z,2019-06-17T01:47:58Z,,CONTRIBUTOR,"Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if any
- [x] I have reproduced the issue with at least the latest released version of superset
- [x] I have checked the issue tracker for the same issue and I haven't found one similar

### Superset version
master

### Expected results
One should be able to scroll down to see the complete table metadata.

### Actual results
For tables with a large number of columns, if one chooses a table to see the schema, one cannot scroll to see all the columns. Note this problem can be circumvented if one already has another table schema listed.

### Steps to reproduce
1. Choose a table with a large number of columns, i.e., we're seeing this problem with a table comprising of more than 64 columns. 
2. Try scrolling to the bottom.

to: @kristw @timifasubaa 
",incubator-superset,apache,john-bodley,4567245,MDQ6VXNlcjQ1NjcyNDU=,https://avatars1.githubusercontent.com/u/4567245?v=4,,https://api.github.com/users/john-bodley,https://github.com/john-bodley,https://api.github.com/users/john-bodley/followers,https://api.github.com/users/john-bodley/following{/other_user},https://api.github.com/users/john-bodley/gists{/gist_id},https://api.github.com/users/john-bodley/starred{/owner}{/repo},https://api.github.com/users/john-bodley/subscriptions,https://api.github.com/users/john-bodley/orgs,https://api.github.com/users/john-bodley/repos,https://api.github.com/users/john-bodley/events{/privacy},https://api.github.com/users/john-bodley/received_events,User,False,,,,,timifasubaa,30888507.0,MDQ6VXNlcjMwODg4NTA3,https://avatars2.githubusercontent.com/u/30888507?v=4,,https://api.github.com/users/timifasubaa,https://github.com/timifasubaa,https://api.github.com/users/timifasubaa/followers,https://api.github.com/users/timifasubaa/following{/other_user},https://api.github.com/users/timifasubaa/gists{/gist_id},https://api.github.com/users/timifasubaa/starred{/owner}{/repo},https://api.github.com/users/timifasubaa/subscriptions,https://api.github.com/users/timifasubaa/orgs,https://api.github.com/users/timifasubaa/repos,https://api.github.com/users/timifasubaa/events{/privacy},https://api.github.com/users/timifasubaa/received_events,User,False
247,https://api.github.com/repos/apache/incubator-superset/issues/5887,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5887/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5887/comments,https://api.github.com/repos/apache/incubator-superset/issues/5887/events,https://github.com/apache/incubator-superset/issues/5887,360017290,MDU6SXNzdWUzNjAwMTcyOTA=,5887,[SIP-8] Add UI component for user to select and persist category color from Dashboard,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}]",open,False,,[],,1,2018-09-13T18:40:45Z,2019-04-10T16:25:41Z,,CONTRIBUTOR,"Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if any
- [x] I have reproduced the issue with at least the latest released version of superset
- [x] I have checked the issue tracker for the same issue and I haven't found one similar


### Superset version
0.27

### Expected results
- User can use a color picker to choose specific color for chart category.
- With or without define color for chart, each time we refresh dashboard should see same category with a same color.

### Actual results
![m2ojecxt59](https://user-images.githubusercontent.com/27990562/45508441-ac89ae80-b749-11e8-9e43-6c8a22029704.gif)

### Steps to reproduce
Refresh dashboard a few times.

### Design
<img width=""1997"" alt=""screenshot_2018-09-10_17 46 58"" src=""https://user-images.githubusercontent.com/27990562/45508830-beb81c80-b74a-11e8-9594-d5a0789cd3ef.png"">

### Implementation
- Reuse existed API to store category color in dashboard metadata
- refactory color assignment logic [#5815]
- Add color picker UI component (shown in design section) as part of dashboard builder control.


@williaster @elibrumbaugh @kristw @mistercrunch @michellethomas @john-bodley @betodealmeida @xtinec",incubator-superset,apache,graceguo-supercat,27990562,MDQ6VXNlcjI3OTkwNTYy,https://avatars3.githubusercontent.com/u/27990562?v=4,,https://api.github.com/users/graceguo-supercat,https://github.com/graceguo-supercat,https://api.github.com/users/graceguo-supercat/followers,https://api.github.com/users/graceguo-supercat/following{/other_user},https://api.github.com/users/graceguo-supercat/gists{/gist_id},https://api.github.com/users/graceguo-supercat/starred{/owner}{/repo},https://api.github.com/users/graceguo-supercat/subscriptions,https://api.github.com/users/graceguo-supercat/orgs,https://api.github.com/users/graceguo-supercat/repos,https://api.github.com/users/graceguo-supercat/events{/privacy},https://api.github.com/users/graceguo-supercat/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
248,https://api.github.com/repos/apache/incubator-superset/issues/5845,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5845/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5845/comments,https://api.github.com/repos/apache/incubator-superset/issues/5845/events,https://github.com/apache/incubator-superset/pull/5845,358490493,MDExOlB1bGxSZXF1ZXN0MjE0MjE0MDI1,5845,[READY] [feature] Added dashboard read only with new Rho role,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 412635979, 'node_id': 'MDU6TGFiZWw0MTI2MzU5Nzk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.security', 'name': '.security', 'color': 'ecf0f1', 'default': False, 'description': ''}, {'id': 1145053911, 'node_id': 'MDU6TGFiZWwxMTQ1MDUzOTEx', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/review', 'name': 'review', 'color': 'ed82dd', 'default': False, 'description': 'This PR is ready for code review'}]",open,False,,[],,13,2018-09-10T06:53:29Z,2019-09-12T09:09:55Z,,CONTRIBUTOR,"I needed a user who could only access the read-only dashboards, so I've added a new built-in role Rho (&rho;) as logged user but less powerful than Gamma.
As Gamma user this role need a complementary role to have access to view the dashboards.",incubator-superset,apache,datinho,9349283,MDQ6VXNlcjkzNDkyODM=,https://avatars2.githubusercontent.com/u/9349283?v=4,,https://api.github.com/users/datinho,https://github.com/datinho,https://api.github.com/users/datinho/followers,https://api.github.com/users/datinho/following{/other_user},https://api.github.com/users/datinho/gists{/gist_id},https://api.github.com/users/datinho/starred{/owner}{/repo},https://api.github.com/users/datinho/subscriptions,https://api.github.com/users/datinho/orgs,https://api.github.com/users/datinho/repos,https://api.github.com/users/datinho/events{/privacy},https://api.github.com/users/datinho/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/5845,https://github.com/apache/incubator-superset/pull/5845,https://github.com/apache/incubator-superset/pull/5845.diff,https://github.com/apache/incubator-superset/pull/5845.patch,,,,,,,,,,,,,,,,,,
249,https://api.github.com/repos/apache/incubator-superset/issues/5842,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5842/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5842/comments,https://api.github.com/repos/apache/incubator-superset/issues/5842/events,https://github.com/apache/incubator-superset/issues/5842,358165756,MDU6SXNzdWUzNTgxNjU3NTY=,5842,[SIP-7] Ensuring Superset accurately represents the underlying data warehouse,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}]",open,False,,[],,1,2018-09-07T18:22:39Z,2019-06-21T00:01:26Z,,CONTRIBUTOR,"[SIP] Proposal for ensuring Superset accurately represents the underlying data warehouse

## Motivation

Over time there can be a discrepancy between the actual metadata of a Druid datasource or SQLA table and the corresponding Superset representation. Columns or metrics can be added, updated, or deleted, and thus overtime creep grows between the systems.  The proposal is to try to add functionality to better ensure consistency between Superset and the underlying data warehouses which should help boost user confidence. 

## Proposed Change

Currently there is a mechanism to refresh Druid metadata per the following menu item:

![screen shot 2018-09-07 at 10 48 34 am](https://user-images.githubusercontent.com/4567245/45234785-9d0eef00-b28b-11e8-961b-0de4daf961ba.png)

thus the plan would be to also include an option for refreshing SQLA table metadata. We could optionally also provide a mechanism to scan for new SQLA tables though we should be aware that there scale of datasources (and their corresponding columns/metrics) could negatively impact the performance of Superset.

### Refreshing

Regarding the term ""refreshing"" I proposed the following is instrumented for both Druid and SQLA datasources.

#### Columns/Metrics

- New entities are added
- Existing entities are updated
- Obsolete entities are deleted†

†Note derived entities which reference an obsolete entity will also be deleted.

For reference here's the current UI behavior. Starting with a baseline:

![screenshot-baseline](https://user-images.githubusercontent.com/4567245/45452127-fca53a00-b691-11e8-831e-9747d1578d34.png)

when one drops a column (`sum_boys` in this instance) from the underlying table the UI state remains unchanged and the query fails to execute (as expected) with the `no such column: sum_boys` error: 

![screenshot-drop-column](https://user-images.githubusercontent.com/4567245/45452125-fca53a00-b691-11e8-8d29-bd0f8ade0c5b.png)

Finally if one deletes the column and corresponding metrics from the Superset datasource, the UI state remains unchanged (also expected as the state is defined in its entirety from the form-data), though the query never runs as Superset rightfully raises an error stating that the metric is non-valid:  

![screenshot-delete-metric](https://user-images.githubusercontent.com/4567245/45452126-fca53a00-b691-11e8-91db-f785bfd3d11c.png)

These behaviors seem correct and _should_ remain unchanged.

#### Datasources

An unanswered question remains about what should happen when a Druid or SQLA datasource is defined in Superset but no longer resides in the underlying data warehouse. One school of thought is that if the underlying Druid datasource or SQLA table no longer exists we should:

- Delete all slices which reference the datasource
- Delete all empty dashboards (if appropriate)†
- Delete the datasource

†Note I'm unsure what the current logic is for having a dashboard with no slices.

The concern with this approach is it is a fairly destructive process, i.e., significant IP is potentially lost when one deletes a slice. Would it make more sense that the underlying institution controls when/how datasources are deleted? For example one could define a policy that if said datasource has been deleted (and not restored) for _n_ consecutive days then it's probably safe to delete it from Superset.

## New dependencies

The following existing PRs are required which ensures we have uniqueness at the datasource/column/metric level and the appropriate fields are non-nullable:

- ~~https://github.com/apache/incubator-superset/pull/5445~~
- ~~https://github.com/apache/incubator-superset/pull/7084~~
- https://github.com/apache/incubator-superset/pull/5449
- ~~https://github.com/apache/incubator-superset/pull/5451~~
- ~~https://github.com/apache/incubator-superset/pull/5452~~
- ~~https://github.com/apache/incubator-superset/pull/5453~~

Note many of these PRs require migrations which may need manual intervention as the lack of constraints and non-nullability may have resulted in a corrupted (and thus complex) database in which procedurally defined migration rules are non-viable. 

## Open Questions

1. Should we delete datasources which no longer exist in the data warehouse?
2. How do we deal with custom SQL definitions when the underlying datasource changes? I suspect this is out-of-scope.

to: @betodealmeida @michellethomas @mistercrunch @timifasubaa  ",incubator-superset,apache,john-bodley,4567245,MDQ6VXNlcjQ1NjcyNDU=,https://avatars1.githubusercontent.com/u/4567245?v=4,,https://api.github.com/users/john-bodley,https://github.com/john-bodley,https://api.github.com/users/john-bodley/followers,https://api.github.com/users/john-bodley/following{/other_user},https://api.github.com/users/john-bodley/gists{/gist_id},https://api.github.com/users/john-bodley/starred{/owner}{/repo},https://api.github.com/users/john-bodley/subscriptions,https://api.github.com/users/john-bodley/orgs,https://api.github.com/users/john-bodley/repos,https://api.github.com/users/john-bodley/events{/privacy},https://api.github.com/users/john-bodley/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
250,https://api.github.com/repos/apache/incubator-superset/issues/5833,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5833/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5833/comments,https://api.github.com/repos/apache/incubator-superset/issues/5833/events,https://github.com/apache/incubator-superset/issues/5833,357635314,MDU6SXNzdWUzNTc2MzUzMTQ=,5833,Y log scale labels overlap,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}, {'id': 238899553, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTM=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/help-wanted', 'name': 'help-wanted', 'color': 'defc8d', 'default': False, 'description': ''}]",open,False,,[],,5,2018-09-06T12:37:18Z,2019-11-14T22:39:59Z,,NONE,"Superset version: 0.26.3

# Issue
Y-axis labels would be easy to read, with no overlap.

# Actual results
Y-axis labels overlap.

![screenshot_20180906_153127](https://user-images.githubusercontent.com/17307/45157664-79e03300-b1ea-11e8-8518-802d47d610a2.png)

# Steps to reproduce
1. create a Time Series - Line Chart
2. set Y Log Scale to `true`

# Possible improvement
In presentation graphics, we have cleaned up the y-axis, leaving only the 'orders of magnitude' labels remaining. E.g.

![screenshot_20180906_153654](https://user-images.githubusercontent.com/17307/45157763-b0b64900-b1ea-11e8-9761-f0e0d025c821.png)
",incubator-superset,apache,brylie,17307,MDQ6VXNlcjE3MzA3,https://avatars1.githubusercontent.com/u/17307?v=4,,https://api.github.com/users/brylie,https://github.com/brylie,https://api.github.com/users/brylie/followers,https://api.github.com/users/brylie/following{/other_user},https://api.github.com/users/brylie/gists{/gist_id},https://api.github.com/users/brylie/starred{/owner}{/repo},https://api.github.com/users/brylie/subscriptions,https://api.github.com/users/brylie/orgs,https://api.github.com/users/brylie/repos,https://api.github.com/users/brylie/events{/privacy},https://api.github.com/users/brylie/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
251,https://api.github.com/repos/apache/incubator-superset/issues/5666,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5666/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5666/comments,https://api.github.com/repos/apache/incubator-superset/issues/5666/events,https://github.com/apache/incubator-superset/pull/5666,351758718,MDExOlB1bGxSZXF1ZXN0MjA5MjcyOTIw,5666,[sqllab] ensure to check a permission in SQL Lab regardless parsing results of SQL,"[{'id': 238899549, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NDk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23bug', 'name': '#bug', 'color': 'c0392b', 'default': False, 'description': 'Bug Report or Bug Fix'}, {'id': 412635979, 'node_id': 'MDU6TGFiZWw0MTI2MzU5Nzk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.security', 'name': '.security', 'color': 'ecf0f1', 'default': False, 'description': ''}, {'id': 1145088763, 'node_id': 'MDU6TGFiZWwxMTQ1MDg4NzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/need:rebase', 'name': 'need:rebase', 'color': 'f1c40f', 'default': False, 'description': 'Please rebase on top of current master'}]",open,False,,[],,0,2018-08-17T22:38:13Z,2019-03-19T23:27:46Z,,MEMBER,"At Udemy, my colleague reported a bug about the security of SQL lab. The report is permissions doesn't work properly against DML queries. Let's say there's `analytics.dummy_table` on one database, the symptoms are like this.

```
-- do not have permission to run this command.
SELECT COUNT(*) FROM analytics.dummy_table;

-- have permission to run this command.
CREATE TABLE analytics.dummy_table (
    id BIGINT
);

-- have permission to run this command.
DROP TABLE analytics.dummy_table;
```

The root cause is `security_manager.rejected_datasources` method relied on parsing results of SQL. Most simple select cases will work but complex queries won't work properly and DML is same. This PR is ensuring permission in SQL lab regardless parsing results of SQL, all `/sql_json/` requests will be checking database permission first and then call downstream.",incubator-superset,apache,sungjuly,1086275,MDQ6VXNlcjEwODYyNzU=,https://avatars1.githubusercontent.com/u/1086275?v=4,,https://api.github.com/users/sungjuly,https://github.com/sungjuly,https://api.github.com/users/sungjuly/followers,https://api.github.com/users/sungjuly/following{/other_user},https://api.github.com/users/sungjuly/gists{/gist_id},https://api.github.com/users/sungjuly/starred{/owner}{/repo},https://api.github.com/users/sungjuly/subscriptions,https://api.github.com/users/sungjuly/orgs,https://api.github.com/users/sungjuly/repos,https://api.github.com/users/sungjuly/events{/privacy},https://api.github.com/users/sungjuly/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/5666,https://github.com/apache/incubator-superset/pull/5666,https://github.com/apache/incubator-superset/pull/5666.diff,https://github.com/apache/incubator-superset/pull/5666.patch,,,,,,,,,,,,,,,,,,
252,https://api.github.com/repos/apache/incubator-superset/issues/5528,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5528/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5528/comments,https://api.github.com/repos/apache/incubator-superset/issues/5528/events,https://github.com/apache/incubator-superset/issues/5528,346299334,MDU6SXNzdWUzNDYyOTkzMzQ=,5528,[SIP-1] Split the Table visualization into two visualizations,"[{'id': 1010577363, 'node_id': 'MDU6TGFiZWwxMDEwNTc3MzYz', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23SIP', 'name': '#SIP', 'color': '6a2ca0', 'default': False, 'description': 'Superset Improvement Proposal'}]",open,False,,[],,7,2018-07-31T18:06:35Z,2019-04-10T16:25:41Z,,MEMBER,"# SIP-1 Split the Table visualization into two visualizations

## Motivation
The current `Table` visualization is confusing as it shows 2 control sections, `GROUP BY` and `NOT GROUPED BY` that are mutually exclusive. It's not clear that they are, and if both sections are used Superset will raise and error suggesting to clear some of the controls

## Proposed Change
Split the current `table` visualization into 2 entry points: `Table - Samples` and `Table - Aggregated`. The `GROUP BY` and `NOT GROUPED BY` control sections will become a `Query` section in respective visualizations.

## New or Changed Public Interfaces
The main change to users is the 2 entries points, essentially a new visualization in the visualizations menu.

## Migration Plan and Compatibility
* a database migration re-assigning `NOT GROUPED BY` visualizations to the new type
* minor code changes introducing the new visualization

## Rejected Alternatives
N/A


@betodealmeida what do you think of this template for SIPs? Took it from here: https://cwiki.apache.org/confluence/display/KAFKA/Kafka+Improvement+Proposals

test edit",incubator-superset,apache,mistercrunch,487433,MDQ6VXNlcjQ4NzQzMw==,https://avatars1.githubusercontent.com/u/487433?v=4,,https://api.github.com/users/mistercrunch,https://github.com/mistercrunch,https://api.github.com/users/mistercrunch/followers,https://api.github.com/users/mistercrunch/following{/other_user},https://api.github.com/users/mistercrunch/gists{/gist_id},https://api.github.com/users/mistercrunch/starred{/owner}{/repo},https://api.github.com/users/mistercrunch/subscriptions,https://api.github.com/users/mistercrunch/orgs,https://api.github.com/users/mistercrunch/repos,https://api.github.com/users/mistercrunch/events{/privacy},https://api.github.com/users/mistercrunch/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
253,https://api.github.com/repos/apache/incubator-superset/issues/5449,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5449/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5449/comments,https://api.github.com/repos/apache/incubator-superset/issues/5449/events,https://github.com/apache/incubator-superset/pull/5449,343263516,MDExOlB1bGxSZXF1ZXN0MjAyOTY4NjQ1,5449,[schema] Updating the tables schema,"[{'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}, {'id': 1127990345, 'node_id': 'MDU6TGFiZWwxMTI3OTkwMzQ1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/risk:db-migration', 'name': 'risk:db-migration', 'color': 'e67e22', 'default': False, 'description': ''}, {'id': 1331560260, 'node_id': 'MDU6TGFiZWwxMzMxNTYwMjYw', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/size/L', 'name': 'size/L', 'color': '6D53B9', 'default': False, 'description': ''}]",open,False,,[],,9,2018-07-20T22:19:59Z,2019-10-09T21:51:57Z,,CONTRIBUTOR,"We've noticed a number of anomalies in our database caused by ill-defined forms and/or table schema definitions. This PR resolves a number of issues related to the `tables` table including:
- Modifies the uniqueness logic defined by PR https://github.com/apache/incubator-superset/pull/3978 (which was never created in a migration) to include the schema name (previously it was only based on the database/table). This is now handled by a SQLAlchemy event listener as many dialects permit multiple NULL values for columns than can contain NULL.
- Removes the pre-add for checking for uniqueness. This is no longer required as the uniqueness constraint defines the same logic. This also only worked when adding a table and thus it was possible to have duplicates names if someone edited the record.
- Adds form validation to ensure that the schema name is not part of the table name. 
- Ensures the `table_name` column is non-nullable.

![Screen Shot 2019-03-22 at 5 09 58 PM](https://user-images.githubusercontent.com/4567245/54858973-63508380-4cc5-11e9-9c37-0c25e2b94500.png)

Note this migration will fail if the `table_name` column is NULL. One must manually fix these records as programmatically trying to remedy these invalid records is difficult as the intent is unclear and the tables may function (from a query standpoint) if SQL is provided. The following query determines which records are problematic:
```
SELECT 
    *
FROM 
   tables
WHERE 
   table_name IS NULL
```


Finally this migration _will_ fail if the `tables` table is corrupt  in terms of the uniqueness. One **must** manually consolidate duplicate or non-valid records given there's no way of programmatically removing invalid records. The following query determines whether there are duplicates:
```
SELECT 
    database_id,
    `schema`, 
    table_name,
    COUNT(1)
FROM 
    tables
GROUP BY 
    1, 2, 3
HAVING 
    COUNT(1) > 1
ORDER BY 
    COUNT(1) DESC
```

Note this PR is gated by https://github.com/apache/incubator-superset/pull/5445 and https://github.com/apache/incubator-superset/pull/7084 which ensure that empty strings associated with form-data wont persist in the database and is necessary for ensuring that the relevant entries are non-NULL.

to: @fabianmenges @graceguo-supercat @michellethomas @mistercrunch @timifasubaa ",incubator-superset,apache,john-bodley,4567245,MDQ6VXNlcjQ1NjcyNDU=,https://avatars1.githubusercontent.com/u/4567245?v=4,,https://api.github.com/users/john-bodley,https://github.com/john-bodley,https://api.github.com/users/john-bodley/followers,https://api.github.com/users/john-bodley/following{/other_user},https://api.github.com/users/john-bodley/gists{/gist_id},https://api.github.com/users/john-bodley/starred{/owner}{/repo},https://api.github.com/users/john-bodley/subscriptions,https://api.github.com/users/john-bodley/orgs,https://api.github.com/users/john-bodley/repos,https://api.github.com/users/john-bodley/events{/privacy},https://api.github.com/users/john-bodley/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/5449,https://github.com/apache/incubator-superset/pull/5449,https://github.com/apache/incubator-superset/pull/5449.diff,https://github.com/apache/incubator-superset/pull/5449.patch,,,,,,,,,,,,,,,,,,
254,https://api.github.com/repos/apache/incubator-superset/issues/5417,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5417/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5417/comments,https://api.github.com/repos/apache/incubator-superset/issues/5417/events,https://github.com/apache/incubator-superset/issues/5417,342111067,MDU6SXNzdWUzNDIxMTEwNjc=,5417,[Table config] Add SQL query editor functions in SQL Expression box,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}, {'id': 601015683, 'node_id': 'MDU6TGFiZWw2MDEwMTU2ODM=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/starter-task', 'name': 'starter-task', 'color': 'defc8d', 'default': False, 'description': ''}]",open,False,,[],,1,2018-07-17T22:25:26Z,2019-05-17T22:25:31Z,,NONE,"Just killed myself trying to edit my SQL formula for a metric in the SQL expression box. Would be really helpful to have the syntax checking/linting/autocompletes of columns from the table - especially with end quotes and parentheses in this box.

Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if any
- [ ] I have reproduced the issue with at least the latest released version of superset
- [ ] I have checked the issue tracker for the same issue and I haven't found one similar


### Superset version


### Expected results


### Actual results


### Steps to reproduce


",incubator-superset,apache,vylc,33429480,MDQ6VXNlcjMzNDI5NDgw,https://avatars0.githubusercontent.com/u/33429480?v=4,,https://api.github.com/users/vylc,https://github.com/vylc,https://api.github.com/users/vylc/followers,https://api.github.com/users/vylc/following{/other_user},https://api.github.com/users/vylc/gists{/gist_id},https://api.github.com/users/vylc/starred{/owner}{/repo},https://api.github.com/users/vylc/subscriptions,https://api.github.com/users/vylc/orgs,https://api.github.com/users/vylc/repos,https://api.github.com/users/vylc/events{/privacy},https://api.github.com/users/vylc/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
255,https://api.github.com/repos/apache/incubator-superset/issues/5099,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/5099/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/5099/comments,https://api.github.com/repos/apache/incubator-superset/issues/5099/events,https://github.com/apache/incubator-superset/pull/5099,327500200,MDExOlB1bGxSZXF1ZXN0MTkxMjc5NzU3,5099,Dashboard level access control,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 412635979, 'node_id': 'MDU6TGFiZWw0MTI2MzU5Nzk=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.security', 'name': '.security', 'color': 'ecf0f1', 'default': False, 'description': ''}, {'id': 426141934, 'node_id': 'MDU6TGFiZWw0MjYxNDE5MzQ=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/need:update', 'name': 'need:update', 'color': 'f1c40f', 'default': False, 'description': ''}]",open,False,,[],,1,2018-05-29T21:50:00Z,2019-08-01T16:27:22Z,,CONTRIBUTOR,"Add permissions at the dashboard level.
 - Create permissions for each dashboard with the format ""dashboard access on \[dashboard_title\]\(dash_id:x\)""
 - The name of the permission is updated if the dashboard title is changed.
 - Add a dashboard permission to a role via the Edit Role form, or, for convenience, add a role to a dashboard via the Edit Dashboard form.
 - Optionally, add a default role to be added to each new dashboard created from a slice.
 - The permission ""all_dashboard_access"" is added to Admin, Alpha, and Gamma roles.
 - To allow private dashboards, remove ""all_dashboard_access"" from a role. This role will then only have access to the dashboards specified. Add a dashboard's permission to a role to ""publish"" it.
- Note that these permissions do not apply to slices. To make the data in a dashboard truly private, use dashboard permissions with a read only role that has no slice/explore access.",incubator-superset,apache,jasnovak,36554140,MDQ6VXNlcjM2NTU0MTQw,https://avatars0.githubusercontent.com/u/36554140?v=4,,https://api.github.com/users/jasnovak,https://github.com/jasnovak,https://api.github.com/users/jasnovak/followers,https://api.github.com/users/jasnovak/following{/other_user},https://api.github.com/users/jasnovak/gists{/gist_id},https://api.github.com/users/jasnovak/starred{/owner}{/repo},https://api.github.com/users/jasnovak/subscriptions,https://api.github.com/users/jasnovak/orgs,https://api.github.com/users/jasnovak/repos,https://api.github.com/users/jasnovak/events{/privacy},https://api.github.com/users/jasnovak/received_events,User,False,https://api.github.com/repos/apache/incubator-superset/pulls/5099,https://github.com/apache/incubator-superset/pull/5099,https://github.com/apache/incubator-superset/pull/5099.diff,https://github.com/apache/incubator-superset/pull/5099.patch,,,,,,,,,,,,,,,,,,
256,https://api.github.com/repos/apache/incubator-superset/issues/3835,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/3835/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/3835/comments,https://api.github.com/repos/apache/incubator-superset/issues/3835/events,https://github.com/apache/incubator-superset/issues/3835,273122869,MDU6SXNzdWUyNzMxMjI4Njk=,3835,Set up eslint eslint-plugin-prefer-object-spread,"[{'id': 452993883, 'node_id': 'MDU6TGFiZWw0NTI5OTM4ODM=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23code-quality', 'name': '#code-quality', 'color': 'cceeff', 'default': False, 'description': 'Refactor, changes to improve code quality, or configuration'}, {'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}, {'id': 238899553, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTM=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/help-wanted', 'name': 'help-wanted', 'color': 'defc8d', 'default': False, 'description': ''}]",open,False,,[],,1,2017-11-11T06:09:04Z,2019-05-29T04:08:13Z,,MEMBER,"We prefer spread over `Object.assign`. Looks like there are 162 entries to clean up...
```
22:07 $ git grep ""Object.assign"" | wc -l
     162
```",incubator-superset,apache,mistercrunch,487433,MDQ6VXNlcjQ4NzQzMw==,https://avatars1.githubusercontent.com/u/487433?v=4,,https://api.github.com/users/mistercrunch,https://github.com/mistercrunch,https://api.github.com/users/mistercrunch/followers,https://api.github.com/users/mistercrunch/following{/other_user},https://api.github.com/users/mistercrunch/gists{/gist_id},https://api.github.com/users/mistercrunch/starred{/owner}{/repo},https://api.github.com/users/mistercrunch/subscriptions,https://api.github.com/users/mistercrunch/orgs,https://api.github.com/users/mistercrunch/repos,https://api.github.com/users/mistercrunch/events{/privacy},https://api.github.com/users/mistercrunch/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
257,https://api.github.com/repos/apache/incubator-superset/issues/2731,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/2731/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/2731/comments,https://api.github.com/repos/apache/incubator-superset/issues/2731/events,https://github.com/apache/incubator-superset/issues/2731,227322774,MDU6SXNzdWUyMjczMjI3NzQ=,2731,Give users the rights to change their password,"[{'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}]",open,False,,[],,7,2017-05-09T10:38:09Z,2019-08-29T08:38:16Z,,NONE,"What access should I add to allow users to change their password? I checked, Alpha and Gamma users get an ""access denied"" when clicking on the Profile Icon (upper right corner next to version info icon). 

Only Admin role is allowed to change its password 


Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if any
- [x] I have reproduced the issue with at least the latest released version of superset
- [x] I have checked the issue tracker for the same issue and I haven't found one similar




### Superset version
0.18.0-alpha.1

### Expected results


### Actual results


### Steps to reproduce

",incubator-superset,apache,lilila,607430,MDQ6VXNlcjYwNzQzMA==,https://avatars0.githubusercontent.com/u/607430?v=4,,https://api.github.com/users/lilila,https://github.com/lilila,https://api.github.com/users/lilila/followers,https://api.github.com/users/lilila/following{/other_user},https://api.github.com/users/lilila/gists{/gist_id},https://api.github.com/users/lilila/starred{/owner}{/repo},https://api.github.com/users/lilila/subscriptions,https://api.github.com/users/lilila/orgs,https://api.github.com/users/lilila/repos,https://api.github.com/users/lilila/events{/privacy},https://api.github.com/users/lilila/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
258,https://api.github.com/repos/apache/incubator-superset/issues/2222,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/2222/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/2222/comments,https://api.github.com/repos/apache/incubator-superset/issues/2222/events,https://github.com/apache/incubator-superset/issues/2222,209587906,MDU6SXNzdWUyMDk1ODc5MDY=,2222,BoxPlot - multiple issues,"[{'id': 1315743105, 'node_id': 'MDU6TGFiZWwxMzE1NzQzMTA1', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.pinned', 'name': '.pinned', 'color': 'ffccf1', 'default': False, 'description': ''}, {'id': 546619551, 'node_id': 'MDU6TGFiZWw1NDY2MTk1NTE=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/.vis', 'name': '.vis', 'color': 'ecf0f1', 'default': False, 'description': 'visualization'}]",open,False,,[],,5,2017-02-22T21:32:59Z,2019-04-12T06:23:49Z,,NONE,"Make sure these boxes are checked before submitting your issue - thank you!

- [x] I have checked the superset logs for python stacktraces and included it here as text if any
- [x] I have reproduced the issue with at least the latest released version of superset
- [x] I have checked the issue tracker for the same issue and I haven't found one similar


### Superset version
0.15.4

### Expected results
Box plot displays using provided options.

### Actual results
Box plot throws KeyError on query for group by terms (1 or many)

### Steps to reproduce
Add a datasource
```
SELECT *,
        ROUND(RAND(1), 2) AS `measurement` 
FROM (
    SELECT
        NOW()-INTERVAL 1 HOUR AS `date`
    ) t1
    CROSS JOIN (
        SELECT ""US"" AS `attribute_1` UNION SELECT ""CA"" UNION SELECT ""DE"" UNION SELECT ""AU""
    ) t2
     CROSS JOIN (
        SELECT ""M"" AS `attribute_2` UNION SELECT ""F"" UNION SELECT ""C"" UNION SELECT ""N\A"" 
    ) t3
;
```

1. Enter visualization for that data source
2. Select Box Plot
3. Add `measurement` to metrics; `attribute_1`, `attribute_2`, together or alone as group by terms
4. Hit Query

Stack trace

```
2017-02-22 16:27:06,176:ERROR:root:u'attribute_1'
Traceback (most recent call last):
  File ""/usr/local/lib/python2.7/dist-packages/superset/views.py"", line 1406, in explore_json
    payload = viz_obj.get_payload()
  File ""/usr/local/lib/python2.7/dist-packages/superset/viz.py"", line 360, in get_payload
    data = self.get_data()
  File ""/usr/local/lib/python2.7/dist-packages/superset/viz.py"", line 885, in get_data
    df = self.get_df()
  File ""/usr/local/lib/python2.7/dist-packages/superset/viz.py"", line 858, in get_df
    df = df.groupby(form_data.get('groupby')).agg(aggregate)
  File ""/usr/local/lib/python2.7/dist-packages/pandas/core/generic.py"", line 3778, in groupby
    **kwargs)
  File ""/usr/local/lib/python2.7/dist-packages/pandas/core/groupby.py"", line 1427, in groupby
    return klass(obj, by, **kwds)
  File ""/usr/local/lib/python2.7/dist-packages/pandas/core/groupby.py"", line 354, in __init__
    mutated=self.mutated)
  File ""/usr/local/lib/python2.7/dist-packages/pandas/core/groupby.py"", line 2383, in _get_grouper
    in_axis, name, gpr = True, gpr, obj[gpr]
  File ""/usr/local/lib/python2.7/dist-packages/pandas/core/frame.py"", line 1997, in __getitem__
    return self._getitem_column(key)
  File ""/usr/local/lib/python2.7/dist-packages/pandas/core/frame.py"", line 2004, in _getitem_column
    return self._get_item_cache(key)
  File ""/usr/local/lib/python2.7/dist-packages/pandas/core/generic.py"", line 1350, in _get_item_cache
    values = self._data.get(item)
  File ""/usr/local/lib/python2.7/dist-packages/pandas/core/internals.py"", line 3290, in get
    loc = self.items.get_loc(item)
  File ""/usr/local/lib/python2.7/dist-packages/pandas/indexes/base.py"", line 1947, in get_loc
    return self._engine.get_loc(self._maybe_cast_indexer(key))
  File ""pandas/index.pyx"", line 137, in pandas.index.IndexEngine.get_loc (pandas/index.c:4154)
  File ""pandas/index.pyx"", line 159, in pandas.index.IndexEngine.get_loc (pandas/index.c:4018)
  File ""pandas/hashtable.pyx"", line 675, in pandas.hashtable.PyObjectHashTable.get_item (pandas/hashtable.c:12368)
  File ""pandas/hashtable.pyx"", line 683, in pandas.hashtable.PyObjectHashTable.get_item (pandas/hashtable.c:12322)
KeyError: u'attribute_1'
```

Additionally the Box Plot graph type is requiring a date. This shouldn't be necessary.

",incubator-superset,apache,nkconnor,6473809,MDQ6VXNlcjY0NzM4MDk=,https://avatars2.githubusercontent.com/u/6473809?v=4,,https://api.github.com/users/nkconnor,https://github.com/nkconnor,https://api.github.com/users/nkconnor/followers,https://api.github.com/users/nkconnor/following{/other_user},https://api.github.com/users/nkconnor/gists{/gist_id},https://api.github.com/users/nkconnor/starred{/owner}{/repo},https://api.github.com/users/nkconnor/subscriptions,https://api.github.com/users/nkconnor/orgs,https://api.github.com/users/nkconnor/repos,https://api.github.com/users/nkconnor/events{/privacy},https://api.github.com/users/nkconnor/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
259,https://api.github.com/repos/apache/incubator-superset/issues/2110,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/2110/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/2110/comments,https://api.github.com/repos/apache/incubator-superset/issues/2110/events,https://github.com/apache/incubator-superset/issues/2110,205268454,MDU6SXNzdWUyMDUyNjg0NTQ=,2110,NULL does not get shown when grouping by a column,[],open,False,,[],,2,2017-02-03T21:01:26Z,2019-11-12T18:20:59Z,,NONE,"Make sure these boxes are checked before submitting your issue - thank you!

- [ ] I have checked the superset logs for python stacktraces and included it here as text if any
- [x] I have reproduced the issue with at least the latest released version of superset
- [x] I have checked the issue tracker for the same issue and I haven't found one similar


### Superset version
""version"": ""0.15.4""

### Expected results
Note that by setting series limit to 0, we're able to get expected result, which includes num_candidate_type is NULL (0 on legend)
![screen shot 2017-02-03 at 12 06 15 pm](https://cloud.githubusercontent.com/assets/11357615/22606609/4bca705c-ea09-11e6-9ad0-83df101bd4cc.png)

### Actual results
Actual result does not include NULL values for num_candidates_type.  Looking at the query, there is an extra join added on num_candidates_type and as a result, when num_candidates_type IS NULL, those rows get dropped.

![screen shot 2017-02-03 at 12 09 12 pm](https://cloud.githubusercontent.com/assets/11357615/22606689/9c166764-ea09-11e6-9ab1-bbadbd7f155d.png)


### Steps to reproduce
1) for Group By, select a column that has NULL values
2) count(*) for metric
3) Select Line time series
4) Time Column should be one that contains string dates in the format ""2017-01-01""
5) Select day as the Time Grain
6) Select some time range

@bkyryliuk FYI",incubator-superset,apache,dimakern,11357615,MDQ6VXNlcjExMzU3NjE1,https://avatars1.githubusercontent.com/u/11357615?v=4,,https://api.github.com/users/dimakern,https://github.com/dimakern,https://api.github.com/users/dimakern/followers,https://api.github.com/users/dimakern/following{/other_user},https://api.github.com/users/dimakern/gists{/gist_id},https://api.github.com/users/dimakern/starred{/owner}{/repo},https://api.github.com/users/dimakern/subscriptions,https://api.github.com/users/dimakern/orgs,https://api.github.com/users/dimakern/repos,https://api.github.com/users/dimakern/events{/privacy},https://api.github.com/users/dimakern/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
260,https://api.github.com/repos/apache/incubator-superset/issues/600,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/600/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/600/comments,https://api.github.com/repos/apache/incubator-superset/issues/600/events,https://github.com/apache/incubator-superset/issues/600,159692666,MDU6SXNzdWUxNTk2OTI2NjY=,600,Support more NoSQL databases,"[{'id': 238899552, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTI=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/%23enhancement', 'name': '#enhancement', 'color': '1d76db', 'default': False, 'description': 'Feature request or implementation'}, {'id': 238899553, 'node_id': 'MDU6TGFiZWwyMzg4OTk1NTM=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/help-wanted', 'name': 'help-wanted', 'color': 'defc8d', 'default': False, 'description': ''}]",open,True,,[],,31,2016-06-10T18:21:32Z,2019-10-25T05:40:31Z,,NONE,"I don't know if this topic has already been discussed, but I was thinking on the idea of including a NoSQL database option in Caravel.
Whereas currently the interface for connection is made using SQLAlchemy and, as its own name says, it doesn't deal with anything that is not SQL, I think this could be a nice upgrade.

PS: I imagine that this change could bring changes on the current interface as well.
",incubator-superset,apache,btzo,1796534,MDQ6VXNlcjE3OTY1MzQ=,https://avatars3.githubusercontent.com/u/1796534?v=4,,https://api.github.com/users/btzo,https://github.com/btzo,https://api.github.com/users/btzo/followers,https://api.github.com/users/btzo/following{/other_user},https://api.github.com/users/btzo/gists{/gist_id},https://api.github.com/users/btzo/starred{/owner}{/repo},https://api.github.com/users/btzo/subscriptions,https://api.github.com/users/btzo/orgs,https://api.github.com/users/btzo/repos,https://api.github.com/users/btzo/events{/privacy},https://api.github.com/users/btzo/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
261,https://api.github.com/repos/apache/incubator-superset/issues/241,https://api.github.com/repos/apache/incubator-superset,https://api.github.com/repos/apache/incubator-superset/issues/241/labels{/name},https://api.github.com/repos/apache/incubator-superset/issues/241/comments,https://api.github.com/repos/apache/incubator-superset/issues/241/events,https://github.com/apache/incubator-superset/issues/241,145361163,MDU6SXNzdWUxNDUzNjExNjM=,241,"Spark SQL backend (to support Elasticsearch, Cassandra, etc)","[{'id': 364743841, 'node_id': 'MDU6TGFiZWwzNjQ3NDM4NDE=', 'url': 'https://api.github.com/repos/apache/incubator-superset/labels/need:validation', 'name': 'need:validation', 'color': 'f1c40f', 'default': False, 'description': ''}]",open,True,,[],,49,2016-04-02T10:40:54Z,2019-10-25T05:42:16Z,,NONE,"I can't resist saying Caravel looks much neater than Kibana, plus the user management doesn't cost money and it's not an afterthought. 
It would be amazing to see Caravel replacing my Kibana dashboard, using the data I've got currently in Elasticsearch. 

You use an SQL interface to query the data store, is there any chance Caravel can speak to Elasticsearch through Spark SQL?
Spark has a mature Elasticsearch connector, so it should be OK.

And wait.. If you support Spark SQL, you'll be immediately able to support HDFS, Cassandra, HBase, Hive, Tachyon, and any Hadoop data source!

Is this a path worth exploring for this project? I think it's quite exciting.
",incubator-superset,apache,sscarduzio,1327189,MDQ6VXNlcjEzMjcxODk=,https://avatars3.githubusercontent.com/u/1327189?v=4,,https://api.github.com/users/sscarduzio,https://github.com/sscarduzio,https://api.github.com/users/sscarduzio/followers,https://api.github.com/users/sscarduzio/following{/other_user},https://api.github.com/users/sscarduzio/gists{/gist_id},https://api.github.com/users/sscarduzio/starred{/owner}{/repo},https://api.github.com/users/sscarduzio/subscriptions,https://api.github.com/users/sscarduzio/orgs,https://api.github.com/users/sscarduzio/repos,https://api.github.com/users/sscarduzio/events{/privacy},https://api.github.com/users/sscarduzio/received_events,User,False,,,,,,,,,,,,,,,,,,,,,,
